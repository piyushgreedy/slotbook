{"ast":null,"code":"/**\n@license\nAbhaas Pro for JavaScript 2019.3.4000 (trial)\nCopyright (c) 2005 - 2019 Annpoint s.r.o.\nhttps://www.Abhaas.org/\nUse of this software is subject to license terms.\n*/\nif (\"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  function e(e) {\n    var t = Abhaas.Date.Cache.Ticks;\n    if (t[e]) return Abhaas.Stats.cacheHitsTicks += 1, t[e];\n    var i,\n        n = new Date(e),\n        a = n.getUTCMilliseconds();\n    i = 0 === a ? \"\" : a < 10 ? \".00\" + a : a < 100 ? \".0\" + a : \".\" + a;\n    var o = n.getUTCSeconds();\n    o < 10 && (o = \"0\" + o);\n    var r = n.getUTCMinutes();\n    r < 10 && (r = \"0\" + r);\n    var l = n.getUTCHours();\n    l < 10 && (l = \"0\" + l);\n    var s = n.getUTCDate();\n    s < 10 && (s = \"0\" + s);\n    var d = n.getUTCMonth() + 1;\n    d < 10 && (d = \"0\" + d);\n    var c = n.getUTCFullYear();\n    if (c <= 0) throw \"The minimum year supported is 1.\";\n    c < 10 ? c = \"000\" + c : c < 100 ? c = \"00\" + c : c < 1e3 && (c = \"0\" + c);\n    var h = c + \"-\" + d + \"-\" + s + \"T\" + l + \":\" + r + \":\" + o + i;\n    return t[e] = h, h;\n  }\n\n  function t(e, t) {\n    return !Abhaas.Util.isNullOrUndefined(e) && !Abhaas.Util.isNullOrUndefined(t) && e.toLocaleLowerCase() === t.toLocaleLowerCase();\n  }\n\n  if (\"undefined\" == typeof Abhaas.$) {\n    Abhaas.$ = function (e) {\n      return document.getElementById(e);\n    }, Abhaas.isKhtml = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"KHTML\") !== -1, Abhaas.isIE = navigator && navigator.userAgent && (navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1), Abhaas.isIEQuirks = Abhaas.isIE && document.compatMode && \"BackCompat\" === document.compatMode, Abhaas.browser = {}, Abhaas.browser.ie8 = function () {\n      var e = document.createElement(\"div\");\n      return e.innerHTML = \"<!--[if IE 8]><i></i><![endif]-->\", 1 === e.getElementsByTagName(\"i\").length;\n    }(), Abhaas.browser.ie9 = function () {\n      var e = document.createElement(\"div\");\n      return e.innerHTML = \"<!--[if IE 9]><i></i><![endif]-->\", 1 === e.getElementsByTagName(\"i\").length;\n    }(), Abhaas.browser.ielt9 = function () {\n      var e = document.createElement(\"div\");\n      return e.innerHTML = \"<!--[if lt IE 9]><i></i><![endif]-->\", 1 === e.getElementsByTagName(\"i\").length;\n    }(), Abhaas.browser.ff = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"Firefox\") !== -1, Abhaas.browser.chrome = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"Chrome\") !== -1, Abhaas.browser.ie = Abhaas.isIE, Abhaas.browser.edge = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"Edge\") !== -1, Abhaas.browser.webkit = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"WebKit\") !== -1, Abhaas.browser.passiveEvents = !1, function () {\n      try {\n        window.addEventListener(\"test\", null, Object.defineProperty({}, \"passive\", {\n          \"get\": function () {\n            Abhaas.browser.passiveEvents = !0;\n          }\n        }));\n      } catch (e) {}\n    }(), Abhaas.libs = {}, Abhaas.libs.angularjs = \"object\" == typeof angularjs, Abhaas.touch = {}, Abhaas.touch.start = window.navigator.msPointerEnabled ? \"MSPointerDown\" : \"touchstart\", Abhaas.touch.move = window.navigator.msPointerEnabled ? \"MSPointerMove\" : \"touchmove\", Abhaas.touch.end = window.navigator.msPointerEnabled ? \"MSPointerUp\" : \"touchend\", Abhaas.mo2 = function (e, t) {\n      if (t = t || window.event, \"undefined\" != typeof t.offsetX) {\n        var i = {\n          x: t.offsetX + 1,\n          y: t.offsetY + 1\n        };\n        if (!e) return i;\n\n        for (var n = t.srcElement; n && n !== e;) \"SPAN\" !== n.tagName && (i.x += n.offsetLeft, n.offsetTop > 0 && (i.y += n.offsetTop - n.scrollTop)), n = n.offsetParent;\n\n        return n ? i : null;\n      }\n\n      if (\"undefined\" != typeof t.layerX) {\n        var i = {\n          x: t.layerX,\n          y: t.layerY,\n          src: t.target\n        };\n        if (!e) return i;\n\n        for (var n = t.target; n && \"absolute\" !== n.style.position && \"relative\" !== n.style.position;) n = n.parentNode, Abhaas.isKhtml && (i.y += n.scrollTop);\n\n        for (; n && n !== e;) i.x += n.offsetLeft, i.y += n.offsetTop - n.scrollTop, n = n.offsetParent;\n\n        return n ? i : null;\n      }\n\n      return null;\n    }, Abhaas.mo3 = function (e, t) {\n      t = t || window.event;\n      var i,\n          n = Abhaas.page(t);\n      if (n) {\n        if (e) {\n          var a = Abhaas.abs(e);\n          if (!a) return null;\n          i = {\n            x: n.x - a.x,\n            y: n.y - a.y\n          };\n        } else i = {\n          x: n.x,\n          y: n.y\n        };\n      } else i = Abhaas.mo2(e, t);\n      return i.shift = t.shiftKey, i.meta = t.metaKey, i.ctrl = t.ctrlKey, i.alt = t.altKey, i;\n    }, Abhaas.mc = function (e) {\n      return e.pageX || e.pageY ? {\n        x: e.pageX,\n        y: e.pageY\n      } : {\n        x: e.clientX + document.documentElement.scrollLeft,\n        y: e.clientY + document.documentElement.scrollTop\n      };\n    }, Abhaas.Stats = {}, Abhaas.Stats.eventObjects = 0, Abhaas.Stats.dateObjects = 0, Abhaas.Stats.cacheHitsCtor = 0, Abhaas.Stats.cacheHitsParsing = 0, Abhaas.Stats.cacheHitsTicks = 0, Abhaas.Stats.print = function () {\n      console.log(\"Abhaas.Stats.eventObjects: \" + Abhaas.Stats.eventObjects), console.log(\"Abhaas.Stats.dateObjects: \" + Abhaas.Stats.dateObjects), console.log(\"Abhaas.Stats.cacheHitsCtor: \" + Abhaas.Stats.cacheHitsCtor), console.log(\"Abhaas.Stats.cacheHitsParsing: \" + Abhaas.Stats.cacheHitsParsing), console.log(\"Abhaas.Stats.cacheHitsTicks: \" + Abhaas.Stats.cacheHitsTicks), console.log(\"Abhaas.Date.Cache.Ctor keys: \" + Object.keys(Abhaas.Date.Cache.Ctor).length), console.log(\"Abhaas.Date.Cache.Parsing keys: \" + Object.keys(Abhaas.Date.Cache.Parsing).length);\n    }, Abhaas.list = function (e, t) {\n      if (e && e.isAbhaasList && !t) return e;\n      var i = Abhaas.isArray(e) || \"[object NodeList]\" === Object.prototype.toString.call(e),\n          n = !i && !Abhaas.Util.isNullOrUndefined(e),\n          a = [];\n      if (a.isAbhaasList = !0, a.clone = function () {\n        var e = Abhaas.list();\n        return a.each(function (t) {\n          e.push(t);\n        }), e;\n      }, a.each = function (e) {\n        if (e) {\n          if (a.forEach) return void a.forEach(e);\n\n          for (var t = 0; t < this.length; t++) e(a[t], t, a);\n        }\n      }, a.addProps = function (e) {\n        var t = a.clone();\n        if (e) for (var i in e) t[i] = e[i];\n        return t;\n      }, a.last = function () {\n        return 0 === a.length ? null : a[a.length - 1];\n      }, a.first = function () {\n        return 0 === a.length ? null : a[0];\n      }, a.add = function (e) {\n        var t = a.clone();\n        return t.push(e), t;\n      }, a.map = function (e) {\n        if (\"function\" != typeof e) throw \"Abhaas.list().map(f): Function expected\";\n        var t = Abhaas.list();\n        return a.each(function (i, n, a) {\n          t.push(e(i, n, a));\n        }), t;\n      }, a.filter = function (e) {\n        var t = Abhaas.list();\n        if (\"function\" != typeof e) throw \"Abhaas.list().filter(f): Function expected\";\n        return a.each(function (i) {\n          e(i) && t.push(i);\n        }), t;\n      }, a.concat = function (e) {\n        if (!e) return a;\n\n        for (var t = a.clone(), i = 0; i < e.length; i++) t.push(e[i]);\n\n        return t;\n      }, a.find || (a.find = function (e) {\n        if (\"function\" != typeof e) throw \"Abhaas.list().find(f): Function expected\";\n\n        for (var t = 0; t < this.length; t++) if (e(a[t])) return a[t];\n      }), a.findIndex || (a.findIndex = function (e) {\n        if (\"function\" != typeof e) throw \"Abhaas.list().findIndex(f): Function expected\";\n\n        for (var t = 0; t < this.length; t++) if (e(a[t])) return t;\n\n        return -1;\n      }), a.some || (a.some = function (e) {\n        if (\"function\" != typeof e) throw \"Abhaas.list().some(f): Function expected\";\n\n        for (var t = 0; t < this.length; t++) if (e(a[t])) return !0;\n\n        return !1;\n      }), a.reduce || (a.reduce = function (e, t) {\n        if (\"function\" != typeof e) throw \"Abhaas.list().reduce(f): Function expected\";\n        var i,\n            n = 0;\n        if (\"undefined\" != typeof t) i = t;else {\n          if (n = 1, 0 === a.length) throw \"Abhaas.list().reduce(f): No initial value and empty list\";\n          i = a[0];\n        }\n\n        for (var o = n; o < this.length; o++) i = e(i, a[o], o, this);\n\n        return i;\n      }), a.isEmpty = function () {\n        return 0 === a.length;\n      }, i) for (var o = 0; o < e.length; o++) a[o] = e[o];else n && (a[0] = e);\n      return a;\n    }, Abhaas.list.for = function (e, t) {\n      for (var i = Abhaas.list(), n = 0; n < e; n++) \"function\" == typeof t ? i.push(t(n)) : i.push(n);\n\n      return i;\n    }, Abhaas.line = function (e, t, i, n, a) {\n      a = a || {};\n      var o = {\n        \"x\": e,\n        \"y\": t\n      },\n          r = {\n        \"x\": i,\n        \"y\": n,\n        \"deg\": Abhaas.deg(e, t, i, n)\n      },\n          l = !1;\n\n      if (t < n) {\n        var s = t;\n        t = n, n = s, s = e, e = i, i = s, l = !0;\n      }\n\n      var d = Abhaas.deg(e, t, i, n),\n          c = {\n        \"x\": e,\n        \"y\": t\n      },\n          h = {\n        \"x\": i,\n        \"y\": n\n      },\n          u = function () {\n        var a = Math.abs(e - i),\n            o = Math.abs(t - n),\n            r = (e + i) / 2;\n        return r - Math.sqrt(a * a + o * o) / 2;\n      }(),\n          f = function () {\n        return (t + n) / 2;\n      }(),\n          v = Abhaas.distance(c, h),\n          p = document.createElement(\"div\");\n\n      p.setAttribute(\"style\", \"width:\" + v + \"px;height:0px;-moz-transform:rotate(\" + d + \"deg);-webkit-transform:rotate(\" + d + \"deg);-ms-transform:rotate(\" + d + \"deg);transform:rotate(\" + d + \"deg);position:absolute;top:\" + f + \"px;left:\" + u + \"px;\"), a.cssClass && (p.className = a.cssClass);\n      var g = document.createElement(\"div\");\n      g.appendChild(p);\n      var m,\n          y,\n          d,\n          b,\n          w = !!a.arrow;\n\n      if (w) {\n        var m = r.y - 5,\n            y = r.x - 5,\n            d = d;\n        r.y > o.y && (d -= 180);\n        var b = document.createElement(\"div\");\n        b.style.borderColor = \"black\", b.style.width = \"10px\", b.style.height = \"10px\", b.style.borderRadius = \"10px\", b.style.position = \"absolute\", b.style.left = y + \"px\", b.style.top = m + \"px\", a.cssClass ? b.className = a.cssClass + \"_circle\" : b.style.backgroundColor = \"black\", g.appendChild(b);\n      }\n\n      return g;\n    }, Abhaas.deg = function (e, t, i, n) {\n      var a,\n          o = Math.abs(e - i),\n          r = Math.abs(t - n),\n          l = (e + i) / 2,\n          s = (t + n) / 2,\n          d = Math.sqrt(o * o + r * r),\n          c = l - d / 2,\n          h = s;\n      o = d / 2, a = Math.abs(l - c), r = Math.sqrt(Math.abs(e - c) * Math.abs(e - c) + Math.abs(t - h) * Math.abs(t - h));\n      var u = (r * r - o * o - a * a) / (2 * o * a);\n      return 180 * Math.acos(u) / Math.PI;\n    }, Abhaas.complete = function (e) {\n      return \"complete\" === document.readyState ? void e() : (Abhaas.complete.list || (Abhaas.complete.list = [], Abhaas.re(document, \"readystatechange\", function () {\n        if (\"complete\" === document.readyState) {\n          for (var e = 0; e < Abhaas.complete.list.length; e++) {\n            (0, Abhaas.complete.list[e])();\n          }\n\n          Abhaas.complete.list = [];\n        }\n      })), void Abhaas.complete.list.push(e));\n    }, Abhaas.page = function (e) {\n      return e = e || window.event, \"undefined\" == typeof e.pageX || Abhaas.browser.ie ? \"undefined\" != typeof e.clientX && document.body && document.documentElement ? {\n        x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,\n        y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop\n      } : null : {\n        x: e.pageX,\n        y: e.pageY\n      };\n    }, Abhaas.rel = function (e, t) {\n      var i = Abhaas.abs(e),\n          n = Abhaas.abs(t);\n      return {\n        \"x\": i.x - n.x,\n        \"y\": i.y - n.y,\n        \"w\": e.offsetWidth,\n        \"h\": e.offsetHeight\n      };\n    }, Abhaas.abs = function (e, t) {\n      if (!e) return null;\n      if (!document.body.contains(e)) return null;\n\n      if (e.getBoundingClientRect) {\n        var i = Abhaas.absBoundingClientBased(e);\n\n        if (t) {\n          var n = Abhaas.absOffsetBased(e, !1),\n              t = Abhaas.absOffsetBased(e, !0);\n          i.x += t.x - n.x, i.y += t.y - n.y, i.w = t.w, i.h = t.h;\n        }\n\n        return i;\n      }\n\n      return Abhaas.absOffsetBased(e, t);\n    }, Abhaas.absBoundingClientBased = function (e) {\n      var t = e.getBoundingClientRect();\n      return {\n        x: t.left + window.pageXOffset,\n        y: t.top + window.pageYOffset,\n        w: e.clientWidth,\n        h: e.clientHeight,\n        toString: function () {\n          return \"x:\" + this.x + \" y:\" + this.y + \" w:\" + this.w + \" h:\" + this.h;\n        }\n      };\n    }, Abhaas.isArray = function (e) {\n      return \"[object Array]\" === Object.prototype.toString.call(e);\n    }, Abhaas.absOffsetBased = function (e, t) {\n      for (var i = {\n        x: e.offsetLeft,\n        y: e.offsetTop,\n        w: e.clientWidth,\n        h: e.clientHeight,\n        toString: function () {\n          return \"x:\" + this.x + \" y:\" + this.y + \" w:\" + this.w + \" h:\" + this.h;\n        }\n      }; Abhaas.op(e);) e = Abhaas.op(e), i.x -= e.scrollLeft, i.y -= e.scrollTop, t && (i.x < 0 && (i.w += i.x, i.x = 0), i.y < 0 && (i.h += i.y, i.y = 0), e.scrollLeft > 0 && i.x + i.w > e.clientWidth && (i.w -= i.x + i.w - e.clientWidth), e.scrollTop && i.y + i.h > e.clientHeight && (i.h -= i.y + i.h - e.clientHeight)), i.x += e.offsetLeft, i.y += e.offsetTop;\n\n      var n = Abhaas.pageOffset();\n      return i.x += n.x, i.y += n.y, i;\n    }, Abhaas.wd = function () {\n      var e = Abhaas.isIEQuirks,\n          t = document.documentElement.clientHeight;\n      e && (t = document.body.clientHeight);\n      var i = document.documentElement.clientWidth;\n      e && (i = document.body.clientWidth);\n      var n = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop,\n          a = document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft,\n          o = {};\n      return o.width = i, o.height = t, o.scrollTop = n, o.scrollLeft = a, o;\n    }, Abhaas.op = function (e) {\n      try {\n        return e.offsetParent;\n      } catch (e) {\n        return document.body;\n      }\n    }, Abhaas.distance = function (e, t) {\n      return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));\n    }, Abhaas.doc = function () {\n      var e = document.documentElement;\n      return e && e.clientHeight ? e : document.body;\n    }, Abhaas.pageOffset = function () {\n      if (\"undefined\" != typeof window.pageXOffset) return {\n        x: window.pageXOffset,\n        y: window.pageYOffset\n      };\n      var e = Abhaas.doc();\n      return {\n        x: e.scrollLeft,\n        y: e.scrollTop\n      };\n    }, Abhaas.ac = function (e, t) {\n      if (!t) var t = [];\n\n      for (var i = 0; e.children && i < e.children.length; i++) t.push(e.children[i]), Abhaas.ac(e.children[i], t);\n\n      return t;\n    }, Abhaas.indexOf = function (e, t, i) {\n      if (!e || !e.length) return -1;\n\n      for (var n = 0; n < e.length; n++) if (i) {\n        if (i(e[n], t)) return n;\n      } else if (e[n] === t) return n;\n\n      return -1;\n    }, Abhaas.contains = function (e, t) {\n      return !!e && (e === t && !Abhaas.isArray(e) || Abhaas.indexOf(e, t) !== -1);\n    }, Abhaas.rfa = function (e, t) {\n      var i = Abhaas.indexOf(e, t);\n      i !== -1 && e.splice(i, 1);\n    }, Abhaas.sheet = function (e) {\n      e = e || window.document;\n      var t = e.createElement(\"style\");\n      t.setAttribute(\"type\", \"text/css\"), t.styleSheet || t.appendChild(e.createTextNode(\"\")), (e.head || e.getElementsByTagName(\"head\")[0]).appendChild(t);\n      var i = !!t.styleSheet,\n          n = {};\n      return n.rules = [], n.commit = function () {\n        try {\n          i && (t.styleSheet.cssText = this.rules.join(\"\\n\"));\n        } catch (e) {}\n      }, n.add = function (e, a, o) {\n        if (i) return void this.rules.push(e + \"{\" + a + \"}\");\n        if (t.sheet.insertRule) \"undefined\" == typeof o && (o = t.sheet.cssRules.length), t.sheet.insertRule(e + \"{\" + a + \"}\", o);else {\n          if (!t.sheet.addRule) throw \"No CSS registration method found\";\n          t.sheet.addRule(e, a, o);\n        }\n        return n;\n      }, n;\n    }, Abhaas.Args = function (e) {\n      var t = this;\n      this.isArgs = !0, this.preventDefault = function () {\n        e && e.preventDefault(), t.preventDefault.value = !0;\n      };\n    }, Abhaas.Debug = function (e) {\n      var t = this;\n      this.printToBrowserConsole = !1, this.enabled = !1, this.messages = [], this.target = null, this.a = null, this.clear = function () {\n        this.messages = [], t.a && (t.a.innerHTML = \"\");\n      }, this.hide = function () {\n        Abhaas.de(t.a), t.a = null;\n      }, this.show = function () {\n        t.a && t.hide();\n        var i = e.nav.top,\n            n = document.createElement(\"div\");\n        n.style.position = \"absolute\", n.style.top = \"0px\", n.style.bottom = \"0px\", n.style.left = \"0px\", n.style.right = \"0px\", n.style.backgroundColor = \"black\", n.style.color = \"#ccc\", n.style.overflow = \"auto\", n.style.webkitUserSelect = \"auto\", n.style.MozUserSelect = \"all\", n.onclick = function () {\n          t.hide();\n        };\n\n        for (var a = 0; a < this.messages.length; a++) {\n          var o = t.messages[a],\n              r = o.b();\n          n.appendChild(r);\n        }\n\n        this.a = n, i.appendChild(n);\n      }, this.log = function () {\n        if (t.target) {\n          for (var e = [], i = 0; i < arguments.length; i++) {\n            var n = arguments[i];\n            e.push(n);\n          }\n\n          var a = e.join(\" \");\n          t.target.style.whiteSpace = \"pre\", t.target.innerText += a + \"\\n\";\n        }\n      }, this.message = function (e, t) {\n        if (this.enabled) {\n          var i = {};\n          i.time = new Abhaas.Date(), i.level = t || \"debug\", i.text = e, i.b = function () {\n            var e = document.createElement(\"div\");\n\n            switch (e.innerHTML = i.time + \" (\" + i.level + \"): \" + i.text, i.level) {\n              case \"error\":\n                e.style.color = \"red\";\n                break;\n\n              case \"warning\":\n                e.style.color = \"orange\";\n                break;\n\n              case \"info\":\n                e.style.color = \"white\";\n                break;\n\n              case \"debug\":\n            }\n\n            return e;\n          }, this.messages.push(i), this.printToBrowserConsole && \"undefined\" != typeof console && console.log(i);\n        }\n      };\n    }, Abhaas.re = function (e, t, i) {\n      if (i && e) if (e.addEventListener) e.addEventListener(t, i, !1);else if (e.attachEvent) {\n        var n = function (t) {\n          i.call(e, t);\n        };\n\n        e.attachEvent(\"on\" + t, n);\n      }\n    }, Abhaas.ue = function (e, t, i) {\n      e.removeEventListener ? e.removeEventListener(t, i, !1) : e.detachEvent && e.detachEvent(\"on\" + t, i);\n    }, Abhaas.tr = function (e) {\n      return e ? \"string\" == typeof e ? e.replace(/^\\s+|\\s+$/g, \"\") : e : \"\";\n    }, Abhaas.ds = function (e) {\n      return Abhaas.Date.toStringSortable(e);\n    }, Abhaas.gs = function (e, t) {\n      var i = e;\n      if (i.currentStyle) var n = i.currentStyle[t];else if (window.getComputedStyle) var n = document.defaultView.getComputedStyle(i, null).getPropertyValue(t);\n      return \"undefined\" == typeof n && (n = \"\"), n;\n    }, Abhaas.StyleReader = function (e) {\n      function t(e) {\n        return e.charAt(0).toUpperCase() + e.slice(1);\n      }\n\n      this.get = function (i) {\n        var n = Abhaas.list(i.split(\"-\")),\n            a = n.reduce(function (e, i, n) {\n          return i = t(i), e + i;\n        });\n        return e ? Abhaas.gs(e, a) || Abhaas.gs(e, i) : null;\n      }, this.getPx = function (e) {\n        var t = this.get(e);\n        return t.indexOf(\"px\") === -1 ? void 0 : parseInt(t, 10);\n      }, this.getFont = function () {\n        var e = \"bold\" === this.get(\"font-weight\") ? \"bold\" : \"\",\n            t = \"italic\" === this.get(\"font-style\") ? \"italic\" : \"\";\n        return {\n          \"family\": this.get(\"font-family\"),\n          \"size\": this.get(\"font-size\"),\n          \"style\": t + \" \" + e\n        };\n      }, this.getBackColor = function (e) {\n        \"undefined\" == typeof e && (e = \"white\");\n        var t = this.get(\"background-color\");\n        return Abhaas.Util.isTransparentColor(t) ? e : t;\n      };\n    }, Abhaas.he = function (e) {\n      var t = e.replace(/&/g, \"&amp;\");\n      return t = t.replace(/</g, \"&lt;\"), t = t.replace(/>/g, \"&gt;\"), t = t.replace(/\"/g, \"&quot;\");\n    }, Abhaas.he2 = function (e) {\n      var t = document.createTextNode(e),\n          i = document.createElement(\"div\");\n      return i.appendChild(t), i.innerHTML;\n    }, Abhaas.us = function (e) {\n      if (e) {\n        e.setAttribute(\"unselectable\", \"on\"), e.style.userSelect = \"none\", e.style.MozUserSelect = \"none\", e.style.KhtmlUserSelect = \"none\", e.style.webkitUserSelect = \"none\";\n\n        for (var t = 0; t < e.childNodes.length; t++) 1 === e.childNodes[t].nodeType && Abhaas.us(e.childNodes[t]);\n      }\n    }, Abhaas.pu = function (e) {\n      var t,\n          i,\n          n,\n          a = e.attributes;\n      if (a) for (i = a.length, t = 0; t < i; t += 1) a[t] && (n = a[t].name, \"function\" == typeof e[n] && (e[n] = null));\n      if (a = e.childNodes) for (i = a.length, t = 0; t < i; t += 1) {\n        Abhaas.pu(e.childNodes[t]);\n      }\n    }, Abhaas.puc = function (e) {\n      var t,\n          i,\n          n = e.childNodes;\n\n      if (n) {\n        var i = n.length;\n\n        for (t = 0; t < i; t += 1) Abhaas.pu(e.childNodes[t]);\n      }\n    }, Abhaas.de = function (e) {\n      if (e) if (Abhaas.isArray(e)) for (var t = 0; t < e.length; t++) Abhaas.de(e[t]);else e.parentNode && e.parentNode.removeChild(e);\n    }, Abhaas.fade = function (e, t, i) {\n      if (e) {\n        clearTimeout(e.messageTimeout);\n        var n = \"none\" !== e.style.display,\n            a = t > 0,\n            o = t < 0;\n\n        if (0 !== t) {\n          if (a ? e.status = \"in\" : o && (e.status = \"out\"), a && !n) e.target = parseFloat(e.style.opacity), e.opacity = 0, e.style.opacity = 0, e.style.filter = \"alpha(opacity=0)\", e.style.display = \"\";else if (o && !e.target) e.target = e.style.opacity;else {\n            var r = e.opacity,\n                l = Math.floor(10 * (r + t)) / 10;\n            a && l > e.target && (l = e.target), o && l < 0 && (l = 0);\n            var s = 100 * l;\n            e.opacity = l, e.style.opacity = l, e.style.filter = \"alpha(opacity=\" + s + \")\";\n          }\n\n          if (a && (e.opacity >= e.target || e.opacity >= 1) || o && e.opacity <= 0) {\n            if (e.target = null, o) {\n              e.style.opacity = e.target, e.opacity = e.target;\n              var d = e.target ? \"alpha(opacity=\" + 100 * e.target + \")\" : null;\n              e.style.filter = d, e.style.display = \"none\";\n            }\n\n            i && \"function\" == typeof i && (e.status = null, i());\n          } else e.messageTimeout = setTimeout(function () {\n            Abhaas.fade(e, t, i);\n          }, 50);\n        }\n      }\n    }, Abhaas.sw = function (e) {\n      return e ? e.offsetWidth - e.clientWidth : 0;\n    }, Abhaas.swa = function () {\n      var e = document.createElement(\"div\");\n      e.style.position = \"absolute\", e.style.top = \"-2000px\", e.style.left = \"-2000px\", e.style.width = \"200px\", e.style.height = \"100px\", e.style.overflow = \"auto\";\n      var t = document.createElement(\"div\");\n      t.style.width = \"300px\", t.style.height = \"300px\", e.appendChild(t), document.body.appendChild(e);\n      var i = Abhaas.sw(e);\n      return document.body.removeChild(e), i;\n    }, Abhaas.sh = function (e) {\n      return e ? e.offsetHeight - e.clientHeight : 0;\n    }, Abhaas.guid = function () {\n      var e = function () {\n        return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);\n      };\n\n      return \"\" + e() + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + e() + e();\n    }, Abhaas.ua = function (e) {\n      if (\"string\" == typeof e || \"number\" == typeof e) return [e];\n\n      for (var t = {}, i = [], n = 0, a = e.length; n < a; ++n) e[n] in t || (i.push(e[n]), t[e[n]] = 1);\n\n      return i;\n    }, Abhaas.am = function () {\n      return \"undefined\" == typeof angular ? null : (Abhaas.am.cached || (Abhaas.am.cached = angular.module(\"Abhaas\", [])), Abhaas.am.cached);\n    }, function () {\n      function e(e, n) {\n        var a = {\n          w: e.offsetWidth,\n          h: e.offsetHeight,\n          x: parseInt(e.style.left),\n          y: parseInt(e.style.top)\n        };\n        a.height = e.style.height, a.width = e.style.width, a.top = e.style.top, a.left = e.style.left, a.toString = function () {\n          return \"w: \" + this.w + \" h:\" + this.h;\n        };\n        var o = {};\n        if (o.finished = null, o.vertical = \"center\", o.horizontal = \"center\", n) for (var r in n) o[r] = n[r];\n        e.style.visibility = \"hidden\", e.style.display = \"\";\n        var l = n.animation || \"fast\",\n            s = t(l);\n        s.div = e, s.i = 0, s.target = a, s.config = o, i(s);\n      }\n\n      function t(e) {\n        var t = function () {\n          var e = [];\n          e.time = 10;\n          var t,\n              i = .08;\n          t = .1;\n\n          for (var n = t; n < 1.2; n += i) e.push(n), t = n;\n\n          i = .03;\n\n          for (var n = t; n > .8; n -= i) e.push(n), t = n;\n\n          for (var n = t; n <= 1; n += i) e.push(n), t = n;\n\n          return e;\n        },\n            i = function () {\n          var e = [];\n          e.time = 10;\n          var t,\n              i = .04;\n          t = .1;\n\n          for (var n = t; n <= 1; n += i) e.push(n), t = n;\n\n          return e;\n        },\n            n = function () {\n          var e = [];\n          e.time = 10;\n          var t,\n              i = .08;\n          t = .1;\n\n          for (var n = t; n <= 1; n += i) e.push(n), t = n;\n\n          return e;\n        },\n            a = {\n          \"fast\": n,\n          \"slow\": i,\n          \"jump\": t\n        };\n\n        return a[e] || (e = \"fast\"), a[e]();\n      }\n\n      function i(e) {\n        var t,\n            n = e.div,\n            a = e[e.i],\n            o = a * e.target.h;\n\n        switch (e.config.vertical) {\n          case \"center\":\n            t = e.target.y - (o - e.target.h) / 2;\n            break;\n\n          case \"top\":\n            t = e.target.y;\n            break;\n\n          case \"bottom\":\n            t = e.target.y - (o - e.target.h);\n            break;\n\n          default:\n            throw \"Unexpected 'vertical' value.\";\n        }\n\n        var r,\n            l = a * e.target.w;\n\n        switch (e.config.horizontal) {\n          case \"left\":\n            r = e.target.x;\n            break;\n\n          case \"center\":\n            r = e.target.x - (l - e.target.w) / 2;\n            break;\n\n          case \"right\":\n            r = e.target.x - (l - e.target.w);\n            break;\n\n          default:\n            throw \"Unexpected 'horizontal' value.\";\n        }\n\n        n.style.height = o + \"px\", n.style.top = t + \"px\", n.style.width = l + \"px\", n.style.left = r + \"px\", n.style.visibility = \"visible\", e.i++, e.i < e.length - 1 ? setTimeout(function (e) {\n          return function () {\n            i(e);\n          };\n        }(e), e.time) : (n.style.width = e.target.width, n.style.height = e.target.height, n.style.top = e.target.top, n.style.left = e.target.left, \"function\" == typeof e.config.finished && e.config.finished());\n      }\n\n      Abhaas.pop = e;\n    }(), Abhaas.Util = {}, Abhaas.Util.addClass = function (e, t) {\n      if (t && e) if (Abhaas.isArray(e)) for (var i = 0; i < e.length; i++) Abhaas.Util.addClass(e[i], t);else {\n        if (!e.className) return void (e.className = t);\n        var n = new RegExp(\"(^|\\\\s)\" + t + \"($|\\\\s)\");\n        n.test(e.className) || (e.className = e.className + \" \" + t);\n      }\n    }, Abhaas.Util.normalizeColor = function (e) {\n      function t(e) {\n        return e = e.replace(/[^\\d,]/g, \"\").split(\",\"), \"#\" + ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2]).toString(16).slice(1);\n      }\n\n      return 0 === e.indexOf(\"rgb\") ? t(e) : e;\n    }, Abhaas.Util.addClassToString = function (e, t) {\n      return e ? new RegExp(\"(^|\\\\s)\" + t + \"($|\\\\s)\").test(e) ? e : e + \" \" + t : t;\n    }, Abhaas.Util.removeClassFromString = function (e, t) {\n      if (!e) return \"\";\n      var i = new RegExp(\"(^|\\\\s)\" + t + \"($|\\\\s)\");\n      return e.replace(i, \" \").replace(/^\\s\\s*/, \"\").replace(/\\s\\s*$/, \"\");\n    }, Abhaas.Util.removeClass = function (e, t) {\n      if (e) if (Abhaas.isArray(e)) for (var i = 0; i < e.length; i++) Abhaas.Util.removeClass(e[i], t);else if (e.className) {\n        var n = new RegExp(\"(^|\\\\s)\" + t + \"($|\\\\s)\");\n        e.className = e.className.replace(n, \" \").replace(/^\\s\\s*/, \"\").replace(/\\s\\s*$/, \"\");\n      }\n    }, Abhaas.Util.props = function (e) {\n      var t = [];\n\n      for (var i in e) t.push(i), t.push(e[i]);\n\n      return t.join(\"-\");\n    }, Abhaas.Util.propArray = function (e, t, i) {\n      return Abhaas.list(e).map(function (e) {\n        return e[t] ? e[t] : i;\n      });\n    }, Abhaas.Util.updatePropsFromArray = function (e, t, i) {\n      for (var n = 0; n < i.length; n++) e[n][t] = i[n];\n    }, Abhaas.Util.copyProps = function (e, t, i) {\n      if (e) {\n        if (t || (t = {}), \"undefined\" == typeof i) for (var n in e) e.hasOwnProperty(n) && \"undefined\" != typeof e[n] && (t[n] = e[n]);else for (var a = 0; a < i.length; a++) {\n          var n = i[a];\n          \"undefined\" != typeof e[n] && (t[n] = e[n]);\n        }\n        return t;\n      }\n    }, Abhaas.Util.ownPropsAsArray = function (e) {\n      var t = [];\n      if (!e) return t;\n\n      for (var i in e) if (e.hasOwnProperty(i)) {\n        var n = {};\n        n.key = i, n.val = e[i], t.push(n);\n      }\n\n      return t;\n    }, Abhaas.Util.firstPropValue = function (e) {\n      for (var t in e) return e[t];\n    }, Abhaas.Util.isOnlyProperty = function (e, t) {\n      if (!e) return !1;\n\n      for (var i in e) if (e.hasOwnProperty(i) && i !== t) return !1;\n\n      return !0;\n    }, Abhaas.Util.createArrayCopy = function (e, t) {\n      if (!Abhaas.isArray(e)) return [];\n\n      for (var i = [], n = 0; n < e.length; n++) {\n        var a = {};\n        Abhaas.Util.copyProps(e[n], a, t), i.push(a);\n      }\n\n      return i;\n    }, Abhaas.Util.atLeast = function (e, t) {\n      return Math.max(e, t);\n    }, Abhaas.Util.avg = function (e, t) {\n      return (e + t) / 2;\n    }, Abhaas.Util.div = function (e, t, i, n, a) {\n      var o = document.createElement(\"div\");\n      return (t || i || n || a) && (n < 0 && (t += n, n *= -1), a < 0 && (i += a, a *= -1), o.style.position = \"absolute\", \"number\" == typeof t ? o.style.left = t + \"px\" : \"string\" == typeof t && (o.style.left = t), \"number\" == typeof i ? o.style.top = i + \"px\" : \"string\" == typeof i && (o.style.top = i), \"number\" == typeof n ? o.style.width = n + \"px\" : \"string\" == typeof n && (o.style.width = n), \"number\" == typeof a ? o.style.height = a + \"px\" : \"string\" == typeof a && (o.style.height = a)), e && e.appendChild(o), o;\n    }, Abhaas.Util.overlaps = function (e, t, i, n) {\n      return !(t <= i || e >= n);\n    }, Abhaas.Util.isMouseEvent = function (e) {\n      return !!navigator.msPointerEnabled && !!e.pointerType && (\"mouse\" === e.pointerType || 4 === e.pointerType);\n    }, Abhaas.Util.mouseButton = function (e) {\n      var t = {};\n\n      switch (e.button) {\n        case 0:\n          t.left = !0;\n          break;\n\n        case 1:\n          t.middle = !0;\n          break;\n\n        case 2:\n          t.right = !0;\n      }\n\n      return t;\n    }, Abhaas.Util.membersPlain = function (e) {\n      var t = Abhaas.Util.members(e, 2),\n          i = function (e) {\n        for (var t = 0; t < e.length; t++) {\n          var i = e[t],\n              n = i.name;\n          i.obsolete && (n += \" (obsolete)\"), i.noCssOnly && (n += \" (!cssOnly)\"), i.aspnet && (n += \" (ASP.NET)\"), i.mvc && (n += \"(MVC)\"), e[t] = n;\n        }\n      };\n\n      return i(t.events), i(t.methods), i(t.properties), t;\n    }, Abhaas.Util.shouldApply = function (e) {\n      if (!e) return !1;\n      var t = e.toLowerCase();\n      return !(t.indexOf(\"before\") >= 0) && !(t.indexOf(\"after\") >= 0) && \"onrowfilter\" !== t && \"oneventfilter\" !== t;\n    }, Abhaas.Util.safeApply = function (e, t) {\n      var i = e[\"$root\"][\"$$phase\"];\n      \"$apply\" === i || \"$digest\" === i ? e[\"$eval\"](t) : e[\"$apply\"](t);\n    }, Abhaas.Util.members = function (e, t) {\n      var i = Abhaas.list(),\n          n = Abhaas.list(),\n          a = Abhaas.list(),\n          o = e && e.members ? e.members.obsolete : [],\n          r = e && e.members ? e.members.noCssOnly : [],\n          l = e && e.members ? e.members.ignore : [],\n          s = e && e.members && e.members.ignoreFilter ? e.members.ignoreFilter : function () {\n        return !1;\n      };\n\n      for (var d in e) if (0 !== d.indexOf(\"$\") && 0 !== d.indexOf(\"_\") && 0 !== d.indexOf(\"number\") && 0 !== d.indexOf(\"is\") && \"v\" !== d && !Abhaas.contains(l, d) && !s(d)) if (0 !== d.indexOf(\"on\")) {\n        if (\"function\" != typeof e[d]) {\n          if (\"object\" != typeof e[d]) a.push(d);else {\n            var c = e[d];\n\n            if (0 === t) {\n              a.push(d);\n              continue;\n            }\n\n            if (c && c.nodeType > 0) {\n              a.push(d);\n              continue;\n            }\n\n            if (c instanceof Abhaas.Bubble) {\n              a.push(d);\n              continue;\n            }\n\n            if (c instanceof Abhaas.Date) {\n              a.push(d);\n              continue;\n            }\n\n            if (c instanceof Abhaas.Menu) {\n              a.push(d);\n              continue;\n            }\n\n            if (c instanceof Abhaas.Scheduler) {\n              a.push(d);\n              continue;\n            }\n\n            if (Abhaas.isArray(c)) {\n              a.push(d);\n              continue;\n            }\n\n            null === c && a.push(d);\n            var h = null;\n            \"number\" == typeof t && (h = t - 1);\n\n            for (var u = Abhaas.Util.members(c, h), f = 0; f < u.events.length; f++) i.push(d + \".\" + u.events[f].name);\n\n            for (var f = 0; f < u.methods.length; f++) n.push(d + \".\" + u.methods[f].name);\n\n            for (var f = 0; f < u.properties.length; f++) a.push(d + \".\" + u.properties[f].name);\n          }\n        } else n.push(d);\n      } else i.push(d);\n\n      i.sort(), n.sort(), a.sort();\n\n      var v = function (e) {\n        for (var t = 0; t < e.length; t++) {\n          var i = e[t],\n              n = {};\n          n.name = i, e[t] = n, Abhaas.contains(o, i) && (n.obsolete = !0), Abhaas.contains(r, i) && (n.noCssOnly = !0), i.indexOf(\"CallBack\") !== -1 && (n.aspnet = !0, n.mvc = !0), i.indexOf(\"PostBack\") !== -1 && (n.aspnet = !0), i.indexOf(\"Notify\") !== -1 && (n.aspnet = !0, n.mvc = !0);\n        }\n      };\n\n      return v(i), v(n), v(a), {\n        \"events\": i,\n        \"methods\": n,\n        \"properties\": a\n      };\n    }, Abhaas.Util.replaceCharAt = function (e, t, i) {\n      return e.substr(0, t) + i + e.substr(t + i.length);\n    }, Abhaas.Util.evalVariable = function (e, t) {\n      if (t = t || [\"object\"], null === e || \"undefined\" == typeof e) return null;\n      if (Abhaas.indexOf(t, typeof e) !== -1) return e;\n      if (\"string\" != typeof e) throw \"Unable to resolve a variable name (not a string).\";\n      if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)) throw \"Invalid variable name: \" + e;\n      return eval(e);\n    }, Abhaas.Util.evalFunction = function (e) {\n      if (null === e) return null;\n      if (\"function\" == typeof e) return e;\n      if (\"string\" != typeof e) throw \"Unable to resolve a function (not a string).\";\n      if (!/^\\(?function/.test(e)) throw \"Invalid function string\";\n      return eval(\"(\" + e + \")\");\n    }, Abhaas.Util.isNullOrUndefined = function (e) {\n      return null === e || \"undefined\" == typeof e;\n    }, Abhaas.Util.log = function (e) {\n      window.console && window.console.log && window.console.log(e);\n    }, Abhaas.Util.workerFrom = function (e) {\n      var t = e.toString(),\n          i = t.slice(t.indexOf(\"{\") + 1, t.lastIndexOf(\"}\")),\n          n = new Blob([i]),\n          a = window.URL.createObjectURL(n);\n      return new Worker(a);\n    }, Abhaas.Util.dataUriToBlob = function (e) {\n      if (\"string\" != typeof e) throw \"Abhaas.Util.dataUriToBlob(): dataURI string expected\";\n\n      for (var t = e.split(\",\"), i = t[0], n = t[1], a = i.indexOf(\"base64\") !== -1, o = a ? atob : decodeURI, r = i.split(\":\")[1].split(\";\")[0], l = o(n), s = new window.Uint8Array(l.length), d = 0; d < l.length; d++) s[d] = l.charCodeAt(d);\n\n      return new Blob([s], {\n        \"type\": r\n      });\n    }, Abhaas.Util.downloadDataUri = function (e, t) {\n      var i = Abhaas.Util.dataUriToBlob(e);\n      Abhaas.Util.downloadBlob(i, t);\n    }, Abhaas.Util.downloadBlob = function (e, t) {\n      var t = t || \"download\";\n      if (window.navigator.msSaveBlob) window.navigator.msSaveBlob(e, t);else {\n        var i = window.URL.createObjectURL(e),\n            n = document.createElement(\"a\");\n        n.download = t, n.href = i, n.style = \"display:none\", document.body.appendChild(n), n.click(), setTimeout(function () {\n          document.body.removeChild(n), window.URL.revokeObjectURL(i);\n        });\n      }\n    }, Abhaas.Util.monitor = function (e, t, i) {\n      var n = e[t];\n\n      e[t] = function () {\n        i.apply(e, arguments), n.apply(e, arguments);\n      };\n    }, Abhaas.Util.isTransparentColor = function (e) {\n      return \"transparent\" === e || \"rgba(0, 0, 0, 0)\" === e;\n    }, Abhaas.Util.stripTags = function (e) {\n      if (Abhaas.Util.isNullOrUndefined(e)) return e;\n      if (\"string\" == typeof e) return e.replace(/<(?:.|\\n)*?>/gm, \"\");\n      throw new Abhaas.Exception(\"Unable to strip tags from a non-string\");\n    }, Abhaas.Util.escapeHtml = function (e) {\n      var t = document.createElement(\"div\");\n      return t.innerText = e, t.innerHTML;\n    }, Abhaas.Util.isSameEvent = function (e, t) {\n      return !(!e || !t) && (e = e instanceof Abhaas.Event ? e.data : e, t = t instanceof Abhaas.Event ? t.data : t, e === t || !Abhaas.Util.isNullOrUndefined(e.id) && e.id === t.id || !(!Abhaas.Util.isNullOrUndefined(e.id) || Abhaas.Util.isNullOrUndefined(e.recurrentMasterId)) && e.recurrentMasterId === t.recurrentMasterId && new Abhaas.Date(e.start) === new Abhaas.Date(t.start));\n    }, Abhaas.Util.isReactComponent = function (e) {\n      return e && e.$$typeof === (\"function\" == typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103);\n    }, Abhaas.Areas = {}, Abhaas.Areas.attach = function (e, t, n) {\n      var n = n || {},\n          a = n.areas,\n          o = n.allowed || function () {\n        return !0;\n      },\n          r = n.offsetX || 0;\n\n      a = i(t, a), a && Abhaas.isArray(a) && 0 !== a.length && (Abhaas.re(e, \"mousemove\", function (i) {\n        e.active || e.areasDisabled || !o() || Abhaas.Areas.showAreas(e, t, i, a, {\n          \"offsetX\": r,\n          \"eventDiv\": n.eventDiv\n        });\n      }), Abhaas.re(e, \"mouseout\", function (t) {\n        Abhaas.Areas.hideAreas(e, t);\n      }), Abhaas.list(a).each(function (i) {\n        if (Abhaas.Areas.isAlwaysVisible(i)) {\n          var a = Abhaas.Areas.createArea(e, t, i, {\n            \"offsetX\": r,\n            \"eventDiv\": n.eventDiv\n          });\n          e.appendChild(a);\n        }\n      }));\n    }, Abhaas.Areas.disable = function (e) {\n      e.areasDisabled = !0, Abhaas.list(e.childNodes).filter(function (e) {\n        return e.isActiveArea && !e.area.start;\n      }).each(function (e) {\n        e.style.display = \"none\";\n      });\n    }, Abhaas.Areas.enable = function (e) {\n      e.areasDisabled = !1, Abhaas.list(e.childNodes).filter(function (e) {\n        return e.isActiveArea && !e.area.start;\n      }).each(function (e) {\n        e.style.display = \"\";\n      });\n    }, Abhaas.Areas.remove = function (e) {\n      var t = Abhaas.list(e.childNodes).filter(function (e) {\n        return e.isActiveArea;\n      });\n      Abhaas.de(t);\n    }, Abhaas.Areas.isAlwaysVisible = function (e) {\n      var t = e.visibility || e.v || \"Visible\";\n      return \"Visible\" === t || !(\"TouchVisible\" !== t || !window.matchMedia(\"(any-hover: none)\").matches);\n    };\n\n    var i = function (e, t) {\n      return Abhaas.isArray(t) || (t = e.areas, t || (e.cache ? t = e.cache.areas : e.data && (t = e.data.areas))), t;\n    };\n\n    Abhaas.Areas.showAreas = function (e, t, i, n, a) {\n      if (!Abhaas.Global.resizing && !Abhaas.Global.moving && !e.active) {\n        if (Abhaas.Areas.all && Abhaas.Areas.all.length > 0) for (var o = 0; o < Abhaas.Areas.all.length; o++) {\n          var r = Abhaas.Areas.all[o];\n          r !== e && Abhaas.Areas.hideAreas(r, i);\n        }\n\n        if (e.active = {}, Abhaas.isArray(n) || (n = t.areas, n || (t.cache ? n = t.cache.areas : t.data && (n = t.data.areas))), n && 0 !== n.length && !(e.areas && e.areas.length > 0)) {\n          e.areas = [];\n\n          for (var o = 0; o < n.length; o++) {\n            var l = n[o];\n\n            if (!Abhaas.Areas.isAlwaysVisible(l)) {\n              var s = Abhaas.Areas.createArea(e, t, l, a);\n              e.areas.push(s), e.appendChild(s), Abhaas.Areas.all.push(e);\n            }\n          }\n\n          e.active.children = Abhaas.ac(e);\n        }\n      }\n    }, Abhaas.Areas.createArea = function (e, t, i, n) {\n      function a(e, t, i) {\n        Abhaas.Bubble && Abhaas.Bubble.touchPosition(i), e.calendar.bubble && e.calendar.bubble.showEvent(e, !0);\n      }\n\n      function o(e, t, i, n) {\n        Abhaas.Menu && Abhaas.Menu.touchPosition(n);\n        var a = i.contextMenu || i.menu;\n\n        if (a instanceof Abhaas.Menu || (\"string\" == typeof a ? a = Abhaas.Util.evalVariable(a) : t.isEvent && t.client.contextMenu() ? a = t.client.contextMenu() : t.isEvent && t.calendar.contextMenu ? a = Abhaas.Util.evalVariable(t.calendar.contextMenu) : t.isRow && t.calendar.contextMenuResource && (a = Abhaas.Util.evalVariable(t.calendar.contextMenuResource))), a && a.show) {\n          var o = {\n            \"type\": \"area\",\n            \"div\": e,\n            \"e\": t,\n            \"area\": i\n          };\n          a.show(t, {\n            \"initiator\": o\n          });\n        }\n      }\n\n      var n = n || {},\n          r = n.offsetX || 0,\n          l = n.eventDiv || e,\n          s = document.createElement(\"div\");\n      s.isActiveArea = !0, s.area = i, s.setAttribute(\"unselectable\", \"on\");\n      var d = i.w || i.width,\n          c = i.h || i.height,\n          h = i.cssClass || i.css || i.className;\n      if (\"undefined\" != typeof i.style && s.setAttribute(\"style\", i.style), s.style.position = \"absolute\", \"undefined\" != typeof d && (s.style.width = d + \"px\"), \"undefined\" != typeof c && (s.style.height = c + \"px\"), \"undefined\" != typeof i.right && (s.style.right = i.right + \"px\"), \"undefined\" != typeof i.top && (s.style.top = i.top + \"px\"), \"undefined\" != typeof i.left && (s.style.left = i.left + r + \"px\"), \"undefined\" != typeof i.bottom && (s.style.bottom = i.bottom + \"px\"), \"undefined\" != typeof i.html && i.html) s.innerHTML = i.html;else if (i.icon) {\n        var u = document.createElement(\"i\");\n        u.className = i.icon, s.appendChild(u);\n      } else if (i.image) {\n        var f = document.createElement(\"img\");\n        f.src = i.image, s.appendChild(f);\n      }\n\n      if (h && (s.className = h), i.toolTip && s.setAttribute(\"title\", i.toolTip), i.backColor && (s.style.background = i.backColor), i.background && (s.style.background = i.background), i.fontColor && (s.style.color = i.fontColor), i.padding && (s.style.padding = i.padding + \"px\", s.style.boxSizing = \"border-box\"), \"ResizeEnd\" === i.action || \"ResizeStart\" === i.action || \"Move\" === i.action) {\n        if (t.calendar.isCalendar) switch (i.action) {\n          case \"ResizeEnd\":\n            i.cursor = \"s-resize\", i.dpBorder = \"bottom\";\n            break;\n\n          case \"ResizeStart\":\n            i.cursor = \"n-resize\", i.dpBorder = \"top\";\n            break;\n\n          case \"Move\":\n            i.cursor = \"move\";\n        }\n        if (t.calendar.isScheduler || t.calendar.isMonth) switch (i.action) {\n          case \"ResizeEnd\":\n            i.cursor = \"e-resize\", i.dpBorder = \"right\";\n            break;\n\n          case \"ResizeStart\":\n            i.cursor = \"w-resize\", i.dpBorder = \"left\";\n            break;\n\n          case \"Move\":\n            i.cursor = \"move\";\n        }\n        s.onmousemove = function (e, t, i) {\n          return function (n) {\n            var n = n || window.event;\n            t.calendar.internal && t.calendar.internal.dragInProgress && t.calendar.internal.dragInProgress() || (n.cancelBubble = !0, e.style.cursor = i.cursor, i.dpBorder && (e.dpBorder = i.dpBorder));\n          };\n        }(l, t, i), s.onmouseout = function (e, t, i) {\n          return function (t) {\n            e.style.cursor = \"\";\n          };\n        }(l, t, i);\n      }\n\n      if ((\"ResizeEnd\" === i.action || \"ResizeStart\" === i.action) && t.isEvent && t.calendar.internal.touch) {\n        var v = function (e, t, i) {\n          return function (n) {\n            n.cancelBubble = !0;\n            var a = t.calendar.internal.touch,\n                o = n.touches ? n.touches[0] : n,\n                r = {\n              x: o.pageX,\n              y: o.pageY\n            };\n            t.calendar.coords = a.relativeCoords(n), a.preventEventTap = !0, t.calendar.isScheduler ? a.startResizing(e, \"ResizeEnd\" === i.action ? \"right\" : \"left\") : t.calendar.isCalendar && a.startResizing(e, \"ResizeEnd\" === i.action ? \"bottom\" : \"top\", r);\n          };\n        }(l, t, i);\n\n        Abhaas.re(s, Abhaas.touch.start, v);\n      }\n\n      if (\"ContextMenu\" === i.action && t.isEvent && t.calendar.internal.touch) {\n        var v = function (e, t, i) {\n          return function (n) {\n            n.cancelBubble = !0, n.preventDefault(), o(e, t, i, n), t.calendar.internal.touch.preventEventTap = !0;\n          };\n        }(l, t, i),\n            p = function (e, t, i) {\n          return function (e) {\n            e.cancelBubble = !0, e.preventDefault();\n          };\n        }(l, t, i);\n\n        Abhaas.re(s, Abhaas.touch.start, v), Abhaas.re(s, Abhaas.touch.end, p);\n      }\n\n      if (\"Bubble\" === i.action && t.isEvent && t.calendar.internal.touch) {\n        var v = function (e, t, i) {\n          return function (e) {\n            e.cancelBubble = !0, e.preventDefault(), a(t, i, e), t.calendar.internal.touch.preventEventTap = !0;\n          };\n        }(l, t, i),\n            p = function (e, t, i) {\n          return function (e) {\n            e.cancelBubble = !0, e.preventDefault();\n          };\n        }(l, t, i);\n\n        Abhaas.re(s, Abhaas.touch.start, v), Abhaas.re(s, Abhaas.touch.end, p);\n      }\n\n      if (\"Move\" === i.action && t.isEvent && t.calendar.internal.touch) {\n        var v = function (e, t, i) {\n          return function (i) {\n            i.cancelBubble = !0;\n            var n = t.calendar.internal.touch,\n                a = i.touches ? i.touches[0] : i,\n                o = {\n              x: a.pageX,\n              y: a.pageY\n            };\n            t.calendar.coords = n.relativeCoords(i), n.preventEventTap = !0, n.startMoving(e, o);\n          };\n        }(l, t, i);\n\n        Abhaas.re(s, Abhaas.touch.start, v);\n      }\n\n      if (\"Move\" === i.action && t.isRow && t.calendar.internal.touch, \"Bubble\" === i.action && t.isEvent && (s.onmousemove = function (e, t, i) {\n        return function (e) {\n          i.bubble ? i.bubble.showEvent(t, !0) : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0);\n        };\n      }(e, t, i), s.onmouseout = function (e, t, i) {\n        return function (e) {\n          \"undefined\" != typeof Abhaas.Bubble && (i.bubble ? i.bubble.hideOnMouseOut() : t.calendar.bubble && t.calendar.bubble.hideOnMouseOut());\n        };\n      }(e, t, i)), \"Bubble\" === i.action && t.isRow && (s.onmousemove = function (e, t, i) {\n        return function (e) {\n          i.bubble ? i.bubble.showResource(t, !0) : t.calendar.resourceBubble && t.calendar.resourceBubble.showResource(t, !0);\n        };\n      }(e, t, i), s.onmouseout = function (e, t, i) {\n        return function (e) {\n          \"undefined\" != typeof Abhaas.Bubble && (i.bubble ? i.bubble.hideOnMouseOut() : t.calendar.resourceBubble && t.calendar.resourceBubble.hideOnMouseOut());\n        };\n      }(e, t, i)), \"HoverMenu\" === i.action && (s.onmousemove = function (e, t, i) {\n        return function (e) {\n          var n = i.menu;\n          \"string\" == typeof n && (n = Abhaas.Util.evalVariable(n)), n && n.show && (n.visible ? n.source && \"undefined\" != typeof n.source.id && n.source.id !== t.id && n.show(t) : n.show(t), n.cancelHideTimeout());\n        };\n      }(e, t, i), s.onmouseout = function (e, t, i) {\n        return function (e) {\n          var t = i.menu;\n          \"string\" == typeof t && (t = Abhaas.Util.evalVariable(t)), t && t.hideOnMouseOver && t.delayedHide();\n        };\n      }(e, t, i)), \"JavaScript\" === i.action) {\n        var v = function (e, t, i) {\n          return function (e) {\n            if (!Abhaas.Util.isMouseEvent(e)) {\n              e.cancelBubble = !0, e.preventDefault();\n              t.calendar.internal.touch.start = !0;\n            }\n          };\n        }(l, t, i),\n            p = function (e, t, i) {\n          return function (e) {\n            if (!Abhaas.Util.isMouseEvent(e)) {\n              e.cancelBubble = !0, e.preventDefault();\n              t.calendar.internal.touch.start = !1;\n              var n = i.js;\n\n              if (\"string\" == typeof n && (n = Abhaas.Util.evalFunction(i.js)), \"function\" == typeof n) {\n                var a = i.target || t;\n                n.call(this, a);\n              }\n            }\n          };\n        }(l, t, i);\n\n        Abhaas.re(s, Abhaas.touch.start, v), Abhaas.re(s, Abhaas.touch.end, p);\n      }\n\n      return s.onmousedown = function (e, t, i) {\n        return function (n) {\n          if (\"function\" == typeof i.onmousedown && i.onmousedown(n), \"function\" == typeof i.mousedown) {\n            var a = {};\n            a.area = i, a.div = e, a.originalEvent = n, a.source = t, i.mousedown(a);\n          }\n\n          if (\"Move\" === i.action && t.isRow) {\n            var o = t.$.row;\n            t.calendar.internal.rowtools.startMoving(o);\n          }\n\n          \"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), \"Move\" === i.action && (Abhaas.Global.movingAreaData = i.data), \"Move\" === i.action && t.isEvent && t.calendar.internal && t.calendar.internal.startMoving && t.calendar.internal.startMoving(e, n);\n          \"Move\" !== i.action && \"ResizeEnd\" !== i.action && \"ResizeStart\" !== i.action && i.action && (n = n || window.event, n.preventDefault(), n.cancelBubble = !0);\n        };\n      }(e, t, i), s.onclick = function (e, t, i) {\n        return function (n) {\n          var n = n || window.event,\n              a = {};\n\n          if (a.area = i, a.source = t, a.originalEvent = n, a.preventDefault = function () {\n            a.preventDefault.value = !0;\n          }, \"function\" != typeof i.onClick || (i.onClick(a), !a.preventDefault.value)) {\n            switch (i.action) {\n              case \"JavaScript\":\n                var r = i.js;\n\n                if (\"string\" == typeof r && (r = Abhaas.Util.evalFunction(i.js)), \"function\" == typeof r) {\n                  var l = i.target || t;\n                  r.call(this, l);\n                }\n\n                n.cancelBubble = !0;\n                break;\n\n              case \"ContextMenu\":\n                o(e, t, i, n), n.cancelBubble = !0;\n                break;\n\n              case \"CallBack\":\n                alert(\"callback not implemented yet, id: \" + i.id), n.cancelBubble = !0;\n            }\n\n            \"function\" == typeof i.onClicked && i.onClicked(a);\n          }\n        };\n      }(e, t, i), s;\n    }, Abhaas.Areas.all = [], Abhaas.Areas.hideAreas = function (e, t) {\n      if (e && e && e.active) {\n        var i = e.active,\n            n = e.areas;\n\n        if (i && i.children) {\n          var t = t || window.event;\n\n          if (t) {\n            var a = t.toElement || t.relatedTarget;\n            if (~Abhaas.indexOf(i.children, a)) return;\n          }\n        }\n\n        if (!n || 0 === n.length) return void (e.active = null);\n        Abhaas.de(n), e.active = null, e.areas = [], Abhaas.rfa(Abhaas.Areas.all, e), i.children = null;\n      }\n    }, Abhaas.Areas.hideAll = function (e) {\n      if (Abhaas.Areas.all && 0 !== Abhaas.Areas.all.length) for (var t = 0; t < Abhaas.Areas.all.length; t++) Abhaas.Areas.hideAreas(Abhaas.Areas.all[t], e);\n    }, Abhaas.Action = function (e, t, i, n) {\n      var a = this;\n      this.calendar = e, this.isAction = !0, this.action = t, this.params = i, this.data = n, this.notify = function () {\n        a.calendar.internal.invokeEvent(\"Immediate\", this.action, this.params, this.data);\n      }, this.auto = function () {\n        a.calendar.internal.invokeEvent(\"Notify\", this.action, this.params, this.data);\n      }, this.queue = function () {\n        a.calendar.queue.add(this);\n      }, this.toJSON = function () {\n        var e = {};\n        return e.name = this.action, e.params = this.params, e.data = this.data, e;\n      };\n    }, Abhaas.Selection = function (e, t, i, n) {\n      this.menuType = \"selection\", this.start = new Abhaas.Date(e), this.end = new Abhaas.Date(t), this.resource = i, this.root = n, this.calendar = n, this.toJSON = function (e) {\n        var t = {};\n        return t.start = this.start, t.end = this.end, t.resource = this.resource, t;\n      };\n    }, Abhaas.Link = function (e, t) {\n      this.isLink = !0, this.data = e, this.calendar = t, this.to = function () {\n        return this.data.to;\n      }, this.from = function () {\n        return this.data.from;\n      }, this.type = function () {\n        return this.data.type;\n      }, this.id = function () {\n        return this.data.id;\n      }, this.toJSON = function () {\n        var e = {};\n        return e.from = this.data.from, e.to = this.data.to, e.id = this.data.id, e.type = this.data.type, e;\n      };\n    }, Abhaas.Event = function (e, t, i) {\n      var n = this;\n      this.calendar = t, this.data = e ? e : {}, this.part = i ? i : {}, \"undefined\" == typeof this.data.id && (this.data.id = this.data.value);\n      var a = {},\n          o = [\"id\", \"text\", \"start\", \"end\", \"resource\"];\n      this.isEvent = !0, Abhaas.Stats.eventObjects += 1, this.temp = function () {\n        if (a.dirty) return a;\n\n        for (var e = 0; e < o.length; e++) a[o[e]] = n.data[o[e]];\n\n        return a.dirty = !0, a;\n      }, this.copy = function () {\n        var e = {};\n        return Abhaas.Util.copyProps(n.data, e), e;\n      }, this.commit = function () {\n        if (a.dirty) {\n          for (var e = 0; e < o.length; e++) n.data[o[e]] = a[o[e]];\n\n          \"function\" == typeof n.data.commitCallback && n.data.commitCallback(), a.dirty = !1;\n        }\n      }, this.dirty = function () {\n        return a.dirty;\n      }, this.id = function (e) {\n        return \"undefined\" == typeof e ? n.data.id : void (this.temp().id = e);\n      }, this.value = function (e) {\n        return \"undefined\" == typeof e ? n.id() : void n.id(e);\n      }, this.text = function (e) {\n        return \"undefined\" == typeof e ? n.data.text : (this.temp().text = e, void this.client.innerHTML(e));\n      }, this.start = function (e) {\n        return \"undefined\" == typeof e ? new Abhaas.Date(n.data.start) : void (this.temp().start = new Abhaas.Date(e));\n      }, this.end = function (e) {\n        return \"undefined\" == typeof e ? t && t.internal.adjustEndNormalize ? t.internal.adjustEndNormalize(new Abhaas.Date(n.data.end)) : new Abhaas.Date(n.data.end) : void (this.temp().end = new Abhaas.Date(e));\n      }, this.duration = function () {\n        return new Abhaas.Duration(this.start(), this.end());\n      }, this.rawend = function (e) {\n        if (\"undefined\" == typeof e) return t && t.internal.adjustEndIn ? t.internal.adjustEndIn(new Abhaas.Date(n.data.end)) : new Abhaas.Date(n.data.end);\n        throw new Abhaas.Exception(\"Abhaas.Event.rawend() is readonly\");\n      }, this.partStart = function () {\n        return new Abhaas.Date(this.part.start);\n      }, this.partEnd = function () {\n        return new Abhaas.Date(this.part.end);\n      }, this.row = function () {\n        return this.resource();\n      }, this.allday = function () {\n        return \"undefined\" == typeof val ? n.data.allday : void (this.temp().allday = val);\n      }, this.isAllDay = this.allday, this.resource = function (e) {\n        return \"undefined\" == typeof e ? n.data.resource : void (this.temp().resource = e);\n      }, this.recurrent = function () {\n        return n.data.recurrent;\n      }, this.recurrentMasterId = function () {\n        return n.data.recurrentMasterId;\n      }, this.useBox = function () {\n        return this.part.box;\n      }, this.staticBubbleHTML = function () {\n        return this.bubbleHtml();\n      }, this.bubbleHtml = function () {\n        return n.cache ? n.cache.bubbleHtml || n.data.bubbleHtml : n.data.bubbleHtml;\n      }, this.tag = function (e) {\n        if (n.data.tags) return n.data.tags[e];\n        var t = n.data.tag;\n        if (!t) return null;\n        if (\"undefined\" == typeof e) return n.data.tag;\n\n        for (var i = n.calendar.tagFields, a = -1, o = 0; o < i.length; o++) e === i[o] && (a = o);\n\n        if (a === -1) throw \"Field name not found.\";\n        return t[a];\n      }, this.client = {}, this.client.innerHTML = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.html ? n.cache.html : \"undefined\" != typeof n.data.html ? n.data.html : n.data.text : (n.data.html = e, void (n.cache && (n.cache.html = e)));\n      }, this.client.html = this.client.innerHTML, this.client.header = function (e) {\n        return \"undefined\" == typeof e ? n.data.header : void (n.data.header = e);\n      }, this.client.cssClass = function (e) {\n        return \"undefined\" == typeof e ? n.data.cssClass : void (n.data.cssClass = e);\n      }, this.client.toolTip = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.toolTip ? n.cache.toolTip : \"undefined\" != typeof n.data.toolTip ? n.data.toolTip : n.data.text : void (n.data.toolTip = e);\n      }, this.client.backColor = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.backColor ? n.cache.backColor : \"undefined\" != typeof n.data.backColor ? n.data.backColor : n.calendar.eventBackColor : void (n.data.backColor = e);\n      }, this.client.borderColor = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.borderColor ? n.cache.borderColor : \"undefined\" != typeof n.data.borderColor ? n.data.borderColor : n.calendar.eventBorderColor : void (n.data.borderColor = e);\n      }, this.client.barColor = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.barColor ? n.cache.barColor : \"undefined\" != typeof n.data.barColor ? n.data.barColor : n.calendar.durationBarColor : void (n.data.barColor = e);\n      }, this.client.barVisible = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.barHidden ? !n.cache.barHidden : n.calendar.durationBarVisible && !n.data.barHidden : void (n.data.barHidden = !e);\n      }, this.client.contextMenu = function (e) {\n        if (\"undefined\" == typeof e) {\n          if (n.oContextMenu) return n.oContextMenu;\n          var t = n.cache ? n.cache.contextMenu : n.data.contextMenu;\n          return t ? Abhaas.Util.evalVariable(t) : null;\n        }\n\n        n.oContextMenu = e;\n      }, this.client.moveEnabled = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.moveDisabled ? !n.cache.moveDisabled : \"Disabled\" !== n.calendar.eventMoveHandling && !n.data.moveDisabled : void (n.data.moveDisabled = !e);\n      }, this.client.resizeEnabled = function (e) {\n        return \"undefined\" == typeof e ? \"Milestone\" !== n.data.type && (n.cache && \"undefined\" != typeof n.cache.resizeDisabled ? !n.cache.resizeDisabled : \"Disabled\" !== n.calendar.eventResizeHandling && !n.data.resizeDisabled) : void (n.data.resizeDisabled = !e);\n      }, this.client.rightClickEnabled = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.rightClickDisabled ? !n.cache.rightClickDisabled : \"Disabled\" !== n.calendar.eventRightClickHandling && !n.data.rightClickDisabled : void (n.data.rightClickDisabled = !e);\n      }, this.client.clickEnabled = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.clickDisabled ? !n.cache.clickDisabled : \"Disabled\" !== n.calendar.eventClickHandling && !n.data.clickDisabled : void (n.data.clickDisabled = !e);\n      }, this.client.deleteEnabled = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.deleteDisabled ? !n.cache.deleteDisabled : \"Disabled\" !== n.calendar.eventDeleteHandling && !n.data.deleteDisabled : void (n.data.deleteDisabled = !e);\n      }, this.client.doubleClickEnabled = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.doubleClickDisabled ? !n.cache.doubleClickDisabled : \"Disabled\" !== n.calendar.eventDoubleClickHandling && !n.data.doubleClickDisabled : void (n.data.doubleClickDisabled = !e);\n      }, this.client.deleteClickEnabled = function (e) {\n        return \"undefined\" == typeof e ? n.cache && \"undefined\" != typeof n.cache.deleteDisabled ? !n.cache.deleteDisabled : \"Disabled\" !== n.calendar.eventDeleteHandling && !n.data.deleteDisabled : void (n.data.deleteDisabled = !e);\n      }, this.toJSON = function (e) {\n        var t = {};\n        if (t.value = this.id(), t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), t.end = this.end().toJSON(), t.resource = this.resource(), t.isAllDay = !1, t.recurrentMasterId = this.recurrentMasterId(), t.join = this.data.join, t.tag = {}, n.data.tags) for (var i in n.data.tags) n.data.tags.hasOwnProperty(i) && (t.tag[i] = \"\" + n.data.tags[i]);else if (n.calendar && n.calendar.tagFields) for (var a = n.calendar.tagFields, o = 0; o < a.length; o++) t.tag[a[o]] = this.tag(a[o]);\n        return t;\n      };\n    }, Abhaas.Task = function (e, t) {\n      if (!e) throw \"Trying to initialize Abhaas.Task with null data parameter\";\n      var i = this,\n          n = null;\n      if (e instanceof Abhaas.Event) n = e, this.data = e.data.task;else {\n        if (e instanceof Abhaas.Task) return e;\n        e.isTaskWrapper ? this.data = e.data : this.data = e;\n      }\n      var a = {},\n          o = [\"id\", \"text\", \"start\", \"end\", \"complete\", \"type\"];\n      this.isTask = !0, this.calendar = t, this.temp = function () {\n        if (a.dirty) return a;\n\n        for (var e = 0; e < o.length; e++) a[o[e]] = i.data[o[e]];\n\n        return a.dirty = !0, a;\n      }, this.copy = function () {\n        var e = {};\n        return Abhaas.Util.copyProps(i.data, e), e;\n      }, this.commit = function () {\n        if (a.dirty) {\n          for (var e = 0; e < o.length; e++) i.data[o[e]] = a[o[e]];\n\n          a.dirty = !1;\n        }\n      }, this.dirty = function () {\n        return a.dirty;\n      }, this.id = function (e) {\n        return \"undefined\" == typeof e ? i.data.id : void (this.temp().id = e);\n      }, this.text = function (e) {\n        return \"undefined\" == typeof e ? i.data.text : (this.temp().text = e, void this.client.innerHTML(e));\n      }, this.start = function (e) {\n        return \"undefined\" == typeof e ? new Abhaas.Date(i.data.start) : void (this.temp().start = new Abhaas.Date(e));\n      }, this.duration = function () {\n        return new Abhaas.Duration(this.start(), this.end());\n      }, this.end = function (e) {\n        return \"undefined\" == typeof e ? t && \"Date\" === t.eventEndSpec ? new Abhaas.Date(i.data.end).getDatePart().addDays(1) : new Abhaas.Date(i.data.end) : void (this.temp().end = new Abhaas.Date(e));\n      }, this.type = function (e) {\n        return \"undefined\" == typeof e ? n ? n.data.type : i.data.type : void (this.temp().type = e);\n      }, this.complete = function (e) {\n        return \"undefined\" == typeof e ? i.data.complete ? i.data.complete : 0 : void (this.temp().complete = e);\n      }, this.children = function () {\n        var e = [];\n\n        e.add = function (e) {\n          var t = new Abhaas.Task(e);\n          this.data.children || (this.data.children = []), this.children.push(t.data);\n        };\n\n        for (var i = 0; this.data.children && i < this.data.children.length; i++) e.push(new Abhaas.Task(this.data.children[i], t));\n\n        return e;\n      }, this.toJSON = function (e) {\n        var t = {};\n        return t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), t.end = this.end().toJSON(), t.type = this.type(), t.tags = {}, Abhaas.Util.copyProps(this.data.tags, t.tags), t;\n      }, this.row = {};\n      var r = this.row;\n      r.expanded = function (e) {\n        return \"undefined\" == typeof e ? !i.data.row || !i.data.row.collapsed : (i.data.row || (i.data.row = {}), !!i.data.row.collapsed != !e && t.internal.rowObjectForTaskData(i.data).toggle(), i.data.row.collapsed = !e, void 0);\n      }, r.expand = function () {\n        r.expanded(!0);\n      }, r.collapse = function () {\n        r.expanded(!1);\n      }, r.toggle = function () {\n        r.expanded(!r.expanded());\n      };\n    }, Abhaas.request = function (e, t, i, n) {\n      var a = Abhaas.createXmlHttp();\n      a && (a.open(\"POST\", e, !0), a.setRequestHeader(\"Content-type\", \"text/plain\"), a.onreadystatechange = function () {\n        if (4 === a.readyState) return 200 !== a.status && 304 !== a.status ? void (n ? n(a) : window.console && console.log(\"HTTP error \" + a.status)) : void t(a);\n      }, 4 !== a.readyState && (\"object\" == typeof i && (i = JSON.stringify(i)), a.send(i)));\n    }, Abhaas.ajax = function (e) {\n      if (!e) throw new Abhaas.Exception(\"Parameter object required.\");\n      if (\"string\" != typeof e.url) throw new Abhaas.Exception(\"The parameter object must have 'url' property.\");\n      var t = Abhaas.createXmlHttp();\n      if (!t) throw new Abhaas.Exception(\"Unable to create XMLHttpRequest object\");\n\n      var i = \"object\" == typeof e.data,\n          n = e.data,\n          a = e.method || \"GET\",\n          o = e.success || function () {},\n          r = e.error || function () {},\n          l = e.url,\n          s = e.contentType || (i ? \"application/json\" : \"text/plain\"),\n          d = e.headers || {};\n\n      t.open(a, l, !0), t.setRequestHeader(\"Content-type\", s), Abhaas.Util.ownPropsAsArray(d).forEach(function (e) {\n        t.setRequestHeader(e.key, e.val);\n      }), t.onreadystatechange = function () {\n        if (4 === t.readyState) if (200 === t.status || 304 === t.status) {\n          var e = {};\n          e.request = t, e.data = JSON.parse(t.responseText), o(e);\n        } else if (r) {\n          var e = {};\n          e.request = t, r(e);\n        } else window.console && console.log(\"HTTP error \" + t.status);\n      }, 4 !== t.readyState && (i && (n = JSON.stringify(n)), t.send(n));\n    }, Abhaas.createXmlHttp = function () {\n      return new XMLHttpRequest();\n    }, Abhaas.Http = {}, Abhaas.Http.ajax = function (e) {\n      Abhaas.ajax(e);\n    }, Abhaas.Duration = function (e) {\n      var t = this,\n          i = 864e5,\n          n = 36e5,\n          a = 6e4,\n          o = 1e3;\n\n      if (2 === arguments.length) {\n        var r = arguments[0],\n            l = arguments[1];\n        if (!(r instanceof Abhaas.Date) && \"string\" != typeof r) throw \"Abhaas.Duration(): Invalid start argument, Abhaas.Date expected\";\n        if (!(l instanceof Abhaas.Date) && \"string\" != typeof l) throw \"Abhaas.Duration(): Invalid end argument, Abhaas.Date expected\";\n        \"string\" == typeof r && (r = new Abhaas.Date(r)), \"string\" == typeof l && (l = new Abhaas.Date(l)), e = l.getTime() - r.getTime();\n      }\n\n      return this.ticks = e, Abhaas.Date.Cache.DurationCtor[\"\" + e] ? Abhaas.Date.Cache.DurationCtor[\"\" + e] : (Abhaas.Date.Cache.DurationCtor[\"\" + e] = this, this.toString = function (e) {\n        if (!e) return t.days() + \".\" + t.hours() + \":\" + t.minutes() + \":\" + t.seconds() + \".\" + t.milliseconds();\n        var i = t.minutes();\n        i = (i < 10 ? \"0\" : \"\") + i;\n        var n = e;\n        return n = n.replace(\"mm\", i), n = n.replace(\"m\", t.minutes()), n = n.replace(\"H\", t.hours()), n = n.replace(\"h\", t.hours()), n = n.replace(\"d\", t.days()), n = n.replace(\"s\", t.seconds());\n      }, this.totalHours = function () {\n        return t.ticks / n;\n      }, this.totalDays = function () {\n        return t.ticks / i;\n      }, this.totalMinutes = function () {\n        return t.ticks / a;\n      }, this.totalSeconds = function () {\n        return t.ticks / o;\n      }, this.days = function () {\n        return Math.floor(t.totalDays());\n      }, this.hours = function () {\n        var e = t.ticks - t.days() * i;\n        return Math.floor(e / n);\n      }, this.minutes = function () {\n        var e = t.ticks - Math.floor(t.totalHours()) * n;\n        return Math.floor(e / a);\n      }, this.seconds = function () {\n        var e = t.ticks - Math.floor(t.totalMinutes()) * a;\n        return Math.floor(e / o);\n      }, void (this.milliseconds = function () {\n        return t.ticks % o;\n      }));\n    }, Abhaas.Duration.weeks = function (e) {\n      return new Abhaas.Duration(1e3 * e * 60 * 60 * 24 * 7);\n    }, Abhaas.Duration.days = function (e) {\n      return new Abhaas.Duration(1e3 * e * 60 * 60 * 24);\n    }, Abhaas.Duration.hours = function (e) {\n      return new Abhaas.Duration(1e3 * e * 60 * 60);\n    }, Abhaas.Duration.minutes = function (e) {\n      return new Abhaas.Duration(1e3 * e * 60);\n    }, Abhaas.Duration.seconds = function (e) {\n      return new Abhaas.Duration(1e3 * e);\n    }, Abhaas.TimeSpan = function () {\n      throw \"Please use Abhaas.Duration class instead of Abhaas.TimeSpan.\";\n    };\n\n    try {\n      Abhaas.TimeSpan.prototype = Object.create(Abhaas.Duration.prototype);\n    } catch (e) {}\n\n    Abhaas.Date = function (t, i) {\n      if (t instanceof Abhaas.Date) return t;\n      var n;\n      Abhaas.Util.isNullOrUndefined(t) && (n = Abhaas.DateUtil.fromLocal().getTime(), t = n);\n      var a = Abhaas.Date.Cache.Ctor;\n      if (a[t]) return Abhaas.Stats.cacheHitsCtor += 1, a[t];\n      var o = !1;\n      if (\"string\" == typeof t) n = Abhaas.DateUtil.fromStringSortable(t, i).getTime(), o = !0;else if (\"number\" == typeof t) {\n        if (isNaN(t)) throw \"Cannot create Abhaas.Date from NaN\";\n        n = t;\n      } else {\n        if (!(t instanceof Date)) throw \"Unrecognized parameter: use Date, number or string in ISO 8601 format\";\n        n = i ? Abhaas.DateUtil.fromLocal(t).getTime() : t.getTime();\n      }\n      var r = e(n);\n      return a[r] ? a[r] : (a[r] = this, a[n] = this, o && r !== t && Abhaas.DateUtil.hasTzSpec(t) && (a[t] = this), Object.defineProperty && !Abhaas.browser.ielt9 ? (Object.defineProperty(this, \"ticks\", {\n        get: function () {\n          return n;\n        }\n      }), Object.defineProperty(this, \"value\", {\n        \"value\": r,\n        \"writable\": !1,\n        \"enumerable\": !0\n      })) : (this.ticks = n, this.value = r), Abhaas.Date.Config.legacyShowD && (this.d = new Date(n)), void (Abhaas.Stats.dateObjects += 1));\n    }, Abhaas.Date.Config = {}, Abhaas.Date.Config.legacyShowD = !1, Abhaas.Date.Cache = {}, Abhaas.Date.Cache.Parsing = {}, Abhaas.Date.Cache.Ctor = {}, Abhaas.Date.Cache.Ticks = {}, Abhaas.Date.Cache.DurationCtor = {}, Abhaas.Date.Cache.clear = function () {\n      Abhaas.Date.Cache.Parsing = {}, Abhaas.Date.Cache.Ctor = {}, Abhaas.Date.Cache.Ticks = {}, Abhaas.Date.Cache.DurationCtor = {};\n    }, Abhaas.Date.prototype.addDays = function (e) {\n      return e ? new Abhaas.Date(this.ticks + 24 * e * 60 * 60 * 1e3) : this;\n    }, Abhaas.Date.prototype.addHours = function (e) {\n      return e ? this.addTime(60 * e * 60 * 1e3) : this;\n    }, Abhaas.Date.prototype.addMilliseconds = function (e) {\n      return e ? this.addTime(e) : this;\n    }, Abhaas.Date.prototype.addMinutes = function (e) {\n      return e ? this.addTime(60 * e * 1e3) : this;\n    }, Abhaas.Date.prototype.addMonths = function (e) {\n      if (!e) return this;\n      var t = new Date(this.ticks),\n          i = t.getUTCFullYear(),\n          n = t.getUTCMonth() + 1;\n\n      if (e > 0) {\n        for (; e >= 12;) e -= 12, i++;\n\n        e > 12 - n ? (i++, n = e - (12 - n)) : n += e;\n      } else {\n        for (; e <= -12;) e += 12, i--;\n\n        n + e <= 0 ? (i--, n = 12 + n + e) : n += e;\n      }\n\n      var a = new Date(t.getTime());\n      a.setUTCDate(1), a.setUTCFullYear(i), a.setUTCMonth(n - 1);\n      var o = new Abhaas.Date(a).daysInMonth();\n      return a.setUTCDate(Math.min(o, t.getUTCDate())), new Abhaas.Date(a);\n    }, Abhaas.Date.prototype.addSeconds = function (e) {\n      return e ? this.addTime(1e3 * e) : this;\n    }, Abhaas.Date.prototype.addTime = function (e) {\n      return e ? (e instanceof Abhaas.Duration && (e = e.ticks), new Abhaas.Date(this.ticks + e)) : this;\n    }, Abhaas.Date.prototype.addYears = function (e) {\n      var t = new Date(this.ticks),\n          i = new Date(this.ticks),\n          n = this.getYear() + e,\n          a = this.getMonth();\n      i.setUTCDate(1), i.setUTCFullYear(n), i.setUTCMonth(a);\n      var o = new Abhaas.Date(i).daysInMonth();\n      return i.setUTCDate(Math.min(o, t.getUTCDate())), new Abhaas.Date(i);\n    }, Abhaas.Date.prototype.dayOfWeek = function () {\n      return new Date(this.ticks).getUTCDay();\n    }, Abhaas.Date.prototype.getDayOfWeek = function () {\n      return new Date(this.ticks).getUTCDay();\n    }, Abhaas.Date.prototype.getDayOfYear = function () {\n      var e = this.firstDayOfYear();\n      return Abhaas.DateUtil.daysDiff(e, this) + 1;\n    }, Abhaas.Date.prototype.daysInMonth = function () {\n      var e = new Date(this.ticks),\n          t = e.getUTCMonth() + 1,\n          i = e.getUTCFullYear(),\n          n = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n      return 2 !== t ? n[t - 1] : i % 4 !== 0 ? n[1] : i % 100 === 0 && i % 400 !== 0 ? n[1] : n[1] + 1;\n    }, Abhaas.Date.prototype.daysInYear = function () {\n      var e = this.getYear();\n      return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366;\n    }, Abhaas.Date.prototype.dayOfYear = function () {\n      return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 864e5) + 1;\n    }, Abhaas.Date.prototype.equals = function (e) {\n      if (null === e) return !1;\n      if (e instanceof Abhaas.Date) return this === e;\n      throw \"The parameter must be a Abhaas.Date object (Abhaas.Date.equals())\";\n    }, Abhaas.Date.prototype.firstDayOfMonth = function () {\n      var e = new Date();\n      return e.setUTCFullYear(this.getYear(), this.getMonth(), 1), e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new Abhaas.Date(e);\n    }, Abhaas.Date.prototype.firstDayOfYear = function () {\n      var e = this.getYear(),\n          t = new Date();\n      return t.setUTCFullYear(e, 0, 1), t.setUTCHours(0), t.setUTCMinutes(0), t.setUTCSeconds(0), t.setUTCMilliseconds(0), new Abhaas.Date(t);\n    }, Abhaas.Date.prototype.firstDayOfWeek = function (e) {\n      var t = this;\n      if (e instanceof Abhaas.Locale) e = e.weekStarts;else if (\"string\" == typeof e && Abhaas.Locale.find(e)) {\n        var i = Abhaas.Locale.find(e);\n        e = i.weekStarts;\n      } else e = e || 0;\n\n      for (var n = t.dayOfWeek(); n !== e;) t = t.addDays(-1), n = t.dayOfWeek();\n\n      return new Abhaas.Date(t);\n    }, Abhaas.Date.prototype.getDay = function () {\n      return new Date(this.ticks).getUTCDate();\n    }, Abhaas.Date.prototype.getDatePart = function () {\n      var e = new Date(this.ticks);\n      return e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new Abhaas.Date(e);\n    }, Abhaas.Date.prototype.getYear = function () {\n      return new Date(this.ticks).getUTCFullYear();\n    }, Abhaas.Date.prototype.getHours = function () {\n      return new Date(this.ticks).getUTCHours();\n    }, Abhaas.Date.prototype.getMilliseconds = function () {\n      return new Date(this.ticks).getUTCMilliseconds();\n    }, Abhaas.Date.prototype.getMinutes = function () {\n      return new Date(this.ticks).getUTCMinutes();\n    }, Abhaas.Date.prototype.getMonth = function () {\n      return new Date(this.ticks).getUTCMonth();\n    }, Abhaas.Date.prototype.getSeconds = function () {\n      return new Date(this.ticks).getUTCSeconds();\n    }, Abhaas.Date.prototype.getTotalTicks = function () {\n      return this.getTime();\n    }, Abhaas.Date.prototype.getTime = function () {\n      return this.ticks;\n    }, Abhaas.Date.prototype.getTimePart = function () {\n      var e = this.getDatePart();\n      return Abhaas.DateUtil.diff(this, e);\n    }, Abhaas.Date.prototype.lastDayOfMonth = function () {\n      var e = new Date(this.firstDayOfMonth().getTime()),\n          t = this.daysInMonth();\n      return e.setUTCDate(t), new Abhaas.Date(e);\n    }, Abhaas.Date.prototype.weekNumber = function () {\n      var e = this.firstDayOfYear(),\n          t = (this.getTime() - e.getTime()) / 864e5;\n      return Math.ceil((t + e.dayOfWeek() + 1) / 7);\n    }, Abhaas.Date.prototype.weekNumberISO = function () {\n      var e = !1,\n          t = this.dayOfYear(),\n          i = this.firstDayOfYear().dayOfWeek(),\n          n = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();\n      0 === i && (i = 7), 0 === n && (n = 7);\n      var a = 8 - i;\n      4 !== i && 4 !== n || (e = !0);\n      var o = Math.ceil((t - a) / 7),\n          r = o;\n      return a >= 4 && (r += 1), r > 52 && !e && (r = 1), 0 === r && (r = this.firstDayOfYear().addDays(-1).weekNumberISO()), r;\n    }, Abhaas.Date.prototype.toDateLocal = function () {\n      var e = new Date(this.ticks),\n          t = new Date();\n      return t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()), t.setHours(e.getUTCHours()), t.setMinutes(e.getUTCMinutes()), t.setSeconds(e.getUTCSeconds()), t.setMilliseconds(e.getUTCMilliseconds()), t;\n    }, Abhaas.Date.prototype.toDate = function () {\n      return new Date(this.ticks);\n    }, Abhaas.Date.prototype.toJSON = function () {\n      return this.value;\n    }, Abhaas.Date.prototype.toString = function (e, t) {\n      return e ? new a(e, t).print(this) : this.toStringSortable();\n    }, Abhaas.Date.prototype.toStringSortable = function () {\n      return e(this.ticks);\n    }, Abhaas.Date.parse = function (e, t, i) {\n      return new a(t, i).parse(e);\n    };\n    var n = 0;\n    Abhaas.Date.today = function () {\n      return new Abhaas.Date(Abhaas.DateUtil.localToday(), !0);\n    }, Abhaas.Date.fromYearMonthDay = function (e, t, i) {\n      t = t || 1, i = i || 1;\n      var n = new Date(0);\n      return n.setUTCFullYear(e), n.setUTCMonth(t - 1), n.setUTCDate(i), new Abhaas.Date(n);\n    }, Abhaas.DateUtil = {}, Abhaas.DateUtil.fromStringSortable = function (e, t) {\n      if (!e) throw \"Can't create Abhaas.Date from an empty string\";\n      var i = e.length,\n          n = 10 === i,\n          a = 19 === i,\n          o = i > 19;\n      if (!n && !a && !o) throw \"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): \" + e;\n      if (Abhaas.Date.Cache.Parsing[e] && !t) return Abhaas.Stats.cacheHitsParsing += 1, Abhaas.Date.Cache.Parsing[e];\n      var r = e.substring(0, 4),\n          l = e.substring(5, 7),\n          s = e.substring(8, 10),\n          d = new Date(0);\n      if (d.setUTCFullYear(r, l - 1, s), n) return Abhaas.Date.Cache.Parsing[e] = d, d;\n      var c = e.substring(11, 13),\n          h = e.substring(14, 16),\n          u = e.substring(17, 19);\n      if (d.setUTCHours(c), d.setUTCMinutes(h), d.setUTCSeconds(u), a) return Abhaas.Date.Cache.Parsing[e] = d, d;\n      var f = e[19],\n          v = 0;\n\n      if (\".\" === f) {\n        var p = parseInt(e.substring(20, 23));\n        d.setUTCMilliseconds(p), v = Abhaas.DateUtil.getTzOffsetMinutes(e.substring(23));\n      } else v = Abhaas.DateUtil.getTzOffsetMinutes(e.substring(19));\n\n      var g = new Abhaas.Date(d);\n      return t || (g = g.addMinutes(-v)), d = g.toDate(), Abhaas.Date.Cache.Parsing[e] = d, d;\n    }, Abhaas.DateUtil.getTzOffsetMinutes = function (e) {\n      if (Abhaas.Util.isNullOrUndefined(e) || \"\" === e) return 0;\n      if (\"Z\" === e) return 0;\n      var t = e[0],\n          i = parseInt(e.substring(1, 3)),\n          n = parseInt(e.substring(4)),\n          a = 60 * i + n;\n      if (\"-\" === t) return -a;\n      if (\"+\" === t) return a;\n      throw \"Invalid timezone spec: \" + e;\n    }, Abhaas.DateUtil.hasTzSpec = function (e) {\n      return !!e.indexOf(\"+\") || !!e.indexOf(\"-\");\n    }, Abhaas.DateUtil.daysDiff = function (e, t) {\n      if (e && t || function () {\n        throw \"two parameters required\";\n      }(), e = new Abhaas.Date(e), t = new Abhaas.Date(t), e.getTime() > t.getTime()) return null;\n\n      for (var i = 0, n = e.getDatePart(), a = t.getDatePart(); n < a;) n = n.addDays(1), i++;\n\n      return i;\n    }, Abhaas.DateUtil.daysSpan = function (e, t) {\n      if (e && t || function () {\n        throw \"two parameters required\";\n      }(), e = new Abhaas.Date(e), t = new Abhaas.Date(t), e === t) return 0;\n      var i = Abhaas.DateUtil.daysDiff(e, t);\n      return t == t.getDatePart() && i--, i;\n    }, Abhaas.DateUtil.diff = function (e, t) {\n      if (!(e && t && e.getTime && t.getTime)) throw \"Both compared objects must be Date objects (Abhaas.Date.diff).\";\n      return e.getTime() - t.getTime();\n    }, Abhaas.DateUtil.fromLocal = function (e) {\n      e || (e = new Date());\n      var t = new Date();\n      return t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t.setUTCHours(e.getHours()), t.setUTCMinutes(e.getMinutes()), t.setUTCSeconds(e.getSeconds()), t.setUTCMilliseconds(e.getMilliseconds()), t;\n    }, Abhaas.DateUtil.localToday = function () {\n      var e = new Date();\n      return e.setHours(0), e.setMinutes(0), e.setSeconds(0), e.setMilliseconds(0), e;\n    }, Abhaas.DateUtil.hours = function (e, t) {\n      var i = e.getUTCMinutes();\n      i < 10 && (i = \"0\" + i);\n      var n = e.getUTCHours();\n\n      if (t) {\n        var a = n < 12,\n            n = n % 12;\n        0 === n && (n = 12);\n        return n + \":\" + i + \" \" + (a ? \"AM\" : \"PM\");\n      }\n\n      return n + \":\" + i;\n    }, Abhaas.DateUtil.max = function (e, t) {\n      return e.getTime() > t.getTime() ? e : t;\n    }, Abhaas.DateUtil.min = function (e, t) {\n      return e.getTime() < t.getTime() ? e : t;\n    };\n\n    var a = function (e, i) {\n      \"string\" == typeof i && (i = Abhaas.Locale.find(i));\n\n      var i = i || Abhaas.Locale.US,\n          n = [{\n        \"seq\": \"yyyy\",\n        \"expr\": \"[0-9]{4,4}\",\n        \"str\": function (e) {\n          return e.getYear();\n        }\n      }, {\n        \"seq\": \"yy\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          return e.getYear() % 100;\n        }\n      }, {\n        \"seq\": \"mm\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          var t = e.getMinutes();\n          return t < 10 ? \"0\" + t : t;\n        }\n      }, {\n        \"seq\": \"m\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          return e.getMinutes();\n        }\n      }, {\n        \"seq\": \"HH\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          var t = e.getHours();\n          return t < 10 ? \"0\" + t : t;\n        }\n      }, {\n        \"seq\": \"H\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          return e.getHours();\n        }\n      }, {\n        \"seq\": \"hh\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          var t = e.getHours(),\n              t = t % 12;\n          0 === t && (t = 12);\n          var i = t;\n          return i < 10 ? \"0\" + i : i;\n        }\n      }, {\n        \"seq\": \"h\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          var t = e.getHours(),\n              t = t % 12;\n          return 0 === t && (t = 12), t;\n        }\n      }, {\n        \"seq\": \"ss\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          var t = e.getSeconds();\n          return t < 10 ? \"0\" + t : t;\n        }\n      }, {\n        \"seq\": \"s\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          return e.getSeconds();\n        }\n      }, {\n        \"seq\": \"MMMM\",\n        \"expr\": \"[^\\\\s0-9]*\",\n        \"str\": function (e) {\n          return i.monthNames[e.getMonth()];\n        },\n        \"transform\": function (e) {\n          var n = Abhaas.indexOf(i.monthNames, e, t);\n          return n < 0 ? null : n + 1;\n        }\n      }, {\n        \"seq\": \"MMM\",\n        \"expr\": \"[^\\\\s0-9]*\",\n        \"str\": function (e) {\n          return i.monthNamesShort[e.getMonth()];\n        },\n        \"transform\": function (e) {\n          var n = Abhaas.indexOf(i.monthNamesShort, e, t);\n          return n < 0 ? null : n + 1;\n        }\n      }, {\n        \"seq\": \"MM\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          var t = e.getMonth() + 1;\n          return t < 10 ? \"0\" + t : t;\n        }\n      }, {\n        \"seq\": \"M\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          return e.getMonth() + 1;\n        }\n      }, {\n        \"seq\": \"dddd\",\n        \"expr\": \"[^\\\\s0-9]*\",\n        \"str\": function (e) {\n          return i.dayNames[e.getDayOfWeek()];\n        }\n      }, {\n        \"seq\": \"ddd\",\n        \"expr\": \"[^\\\\s0-9]*\",\n        \"str\": function (e) {\n          return i.dayNamesShort[e.getDayOfWeek()];\n        }\n      }, {\n        \"seq\": \"dd\",\n        \"expr\": \"[0-9]{2,2}\",\n        \"str\": function (e) {\n          var t = e.getDay();\n          return t < 10 ? \"0\" + t : t;\n        }\n      }, {\n        \"seq\": \"%d\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          return e.getDay();\n        }\n      }, {\n        \"seq\": \"d\",\n        \"expr\": \"[0-9]{1,2}\",\n        \"str\": function (e) {\n          return e.getDay();\n        }\n      }, {\n        \"seq\": \"tt\",\n        \"expr\": \"(AM|PM|am|pm)\",\n        \"str\": function (e) {\n          return e.getHours() < 12 ? \"AM\" : \"PM\";\n        },\n        \"transform\": function (e) {\n          return e.toUpperCase();\n        }\n      }],\n          a = function (e) {\n        return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n      };\n\n      this.init = function () {\n        this.year = this.findSequence(\"yyyy\"), this.month = this.findSequence(\"MMMM\") || this.findSequence(\"MMM\") || this.findSequence(\"MM\") || this.findSequence(\"M\"), this.day = this.findSequence(\"dd\") || this.findSequence(\"d\"), this.hours = this.findSequence(\"HH\") || this.findSequence(\"H\"), this.minutes = this.findSequence(\"mm\") || this.findSequence(\"m\"), this.seconds = this.findSequence(\"ss\") || this.findSequence(\"s\"), this.ampm = this.findSequence(\"tt\"), this.hours12 = this.findSequence(\"hh\") || this.findSequence(\"h\");\n      }, this.findSequence = function (t) {\n        function i(e) {\n          return parseInt(e);\n        }\n\n        return e.indexOf(t) === -1 ? null : {\n          \"findValue\": function (o) {\n            for (var r = a(e), l = null, s = 0; s < n.length; s++) {\n              var d = (n[s].length, t === n[s].seq),\n                  c = n[s].expr;\n              d && (c = \"(\" + c + \")\", l = n[s].transform), r = r.replace(n[s].seq, c);\n            }\n\n            r = \"^\" + r + \"$\";\n\n            try {\n              var h = new RegExp(r),\n                  u = h.exec(o);\n              return u ? (l = l || i)(u[1]) : null;\n            } catch (e) {\n              throw \"unable to create regex from: \" + r;\n            }\n          }\n        };\n      }, this.print = function (t) {\n        for (var i = function (e) {\n          for (var t = 0; t < n.length; t++) if (n[t] && n[t].seq === e) return n[t];\n\n          return null;\n        }, a = e.length <= 0, o = 0, r = []; !a;) {\n          var l = e.substring(o),\n              s = /%?(.)\\1*/.exec(l);\n\n          if (s && s.length > 0) {\n            var d = s[0],\n                c = i(d);\n            c ? r.push(c) : r.push(d), o += d.length, a = e.length <= o;\n          } else a = !0;\n        }\n\n        for (var h = 0; h < r.length; h++) {\n          var u = r[h];\n          \"string\" != typeof u && (r[h] = u.str(t));\n        }\n\n        return r.join(\"\");\n      }, this.parse = function (e) {\n        var t = this.year.findValue(e);\n        if (!t) return null;\n        var i = this.month.findValue(e);\n        if (Abhaas.Util.isNullOrUndefined(i)) return null;\n        if (i > 12 || i < 1) return null;\n        var n = this.day.findValue(e),\n            a = Abhaas.Date.fromYearMonthDay(t, i).daysInMonth();\n        if (n < 1 || n > a) return null;\n        var o = this.hours ? this.hours.findValue(e) : 0,\n            r = this.minutes ? this.minutes.findValue(e) : 0,\n            l = this.seconds ? this.seconds.findValue(e) : 0,\n            s = this.ampm ? this.ampm.findValue(e) : null;\n\n        if (this.ampm && this.hours12) {\n          var d = this.hours12.findValue(e);\n          if (d < 1 || d > 12) return null;\n          o = \"PM\" === s ? 12 === d ? 12 : d + 12 : 12 === d ? 0 : d;\n        }\n\n        if (o < 0 || o > 23) return null;\n        if (r < 0 || r > 59) return null;\n        if (l < 0 || l > 59) return null;\n        var c = new Date();\n        return c.setUTCFullYear(t, i - 1, n), c.setUTCHours(o), c.setUTCMinutes(r), c.setUTCSeconds(l), c.setUTCMilliseconds(0), new Abhaas.Date(c);\n      }, this.init();\n    };\n\n    Abhaas.Canvas = function (e, t, i, n, a) {\n      function o(e, t, i) {\n        for (var n = t.split(\" \"), a = [], o = n[0], r = 1; r < n.length; r++) {\n          var l = n[r];\n          e.measureText(o + \" \" + l).width < i ? o += \" \" + l : (a.push(o), o = l);\n        }\n\n        return a.push(o), a;\n      }\n\n      var n = n || 1,\n          r = document.createElement(\"canvas\");\n      r.width = e * n, r.height = t * n;\n      var l = r.getContext(\"2d\");\n      l.scale(n, n), this.defaultFileName = \"image.png\", \"image/jpeg\" === i && (this.defaultFileName = \"image.jpg\", a = a || .92), this.fillRect = function (e, t) {\n        l.save(), l.strokeStyle = \"rgb(0,0,0,0)\", l.fillStyle = t, l.fillRect(e.x, e.y, e.w, e.h), l.restore();\n      }, this.rect = function (e, t) {\n        l.save(), l.strokeStyle = t, l.beginPath(), l.rect(e.x + .5, e.y + .5, e.w - 1, e.h - 1), l.stroke(), l.restore();\n      }, this.diamond = function (e, t) {\n        l.save(), l.strokeStyle = \"rgb(0,0,0,0)\", l.fillStyle = t, l.beginPath(), l.moveTo(e.x + e.w / 2, e.y + .5), l.lineTo(e.x + e.w - .5, e.y + e.h / 2), l.lineTo(e.x + e.w / 2, e.y + e.h - .5), l.lineTo(e.x + .5, e.y + e.h / 2), l.closePath(), l.fill(), l.restore();\n      }, this.triangle = function (e, t, i) {\n        for (i = i || 0; i < 0;) i += 360;\n\n        for (; i >= 360;) i -= 360;\n\n        switch (l.save(), l.strokeStyle = \"rgb(0,0,0,0)\", l.fillStyle = t, l.beginPath(), i) {\n          case 0:\n            l.moveTo(e.x + e.w / 3, e.y + .5), l.lineTo(e.x + e.w + .5, e.y + e.h / 2), l.lineTo(e.x + e.w / 3, e.y + e.h - .5);\n            break;\n\n          case 90:\n            l.moveTo(e.x - .5, e.y + e.h / 3), l.lineTo(e.x + e.w + .5, e.y + e.h / 3), l.lineTo(e.x + e.w / 2, e.y + e.h + .5);\n            break;\n\n          case 180:\n            l.moveTo(e.x + 2 * e.w / 3, e.y + .5), l.lineTo(e.x + 2 * e.w / 3, e.y + e.h), l.lineTo(e.x, e.y + e.h / 2);\n            break;\n\n          case 270:\n            l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + .5), l.lineTo(e.x + e.w - .5, e.y + 2 * e.h / 3), l.lineTo(e.x, e.y + 2 * e.h / 3);\n            break;\n\n          default:\n            throw new Abhaas.Exception(\"Unsupported rotation angle\");\n        }\n\n        l.closePath(), l.fill(), l.restore();\n      }, this.upperLeftCorner = function (e, t) {\n        l.save(), l.strokeStyle = \"rgb(0,0,0,0)\", l.fillStyle = t, l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x, e.y + e.h), l.closePath(), l.fill(), l.restore();\n      }, this.upperRightCorner = function (e, t) {\n        l.save(), l.strokeStyle = \"rgb(0,0,0,0)\", l.fillStyle = t, l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x + e.w, e.y + e.h), l.closePath(), l.fill(), l.restore();\n      }, this.textWidth = function (e, t) {\n        l.save(), l.font = t.style + \" \" + t.size + \" \" + t.family;\n        var i = l.measureText(e).width + 1;\n        return l.restore(), i;\n      }, this.text = function (e, t, i, n, a, r) {\n        if (t) {\n          if (\"number\" == typeof t && (t = \"\" + t), \"string\" != typeof t) throw \"String expected, supplied: \" + typeof t;\n          a = a || \"left\", r = r || 0, n = n || \"#000\", l.save();\n          var s = parseInt(i.size),\n              d = Abhaas.browser.ff ? 3 : 0;\n          d += .2 * s, d += Abhaas.browser.chrome ? 1 : 0, d += Abhaas.browser.ie ? 1 : 0, l.rect(e.x + .5 + r, e.y + .5 + r, e.w - 1 - r, e.h - 1 - r), l.clip(), l.fillStyle = n, l.font = i.style + \" \" + i.size + \" \" + i.family, l.textBaseline = \"top\", l.textAlign = a;\n          var c = e.x;\n\n          switch (a) {\n            case \"center\":\n              c += e.w / 2;\n              break;\n\n            case \"right\":\n              c += e.w;\n          }\n\n          var h = 0;\n          c += h;\n          var u = 1.2 * parseInt(i.size),\n              f = t.split(\"\\n\"),\n              v = [];\n          Abhaas.list(f).each(function (t) {\n            var i = o(l, t, e.w);\n            Abhaas.list(i).each(function (e) {\n              v.push(e);\n            });\n          });\n\n          for (var p = e.y + h + r + d, g = 0; g < v.length; g++) {\n            var m = v[g];\n            l.fillText(m, c + r, p), p += u;\n          }\n\n          l.restore();\n        }\n      }, this.line = function (e, t, i, n, a) {\n        l.save(), l.lineWidth = 1, l.strokeStyle = a, l.beginPath(), l.moveTo(e + .5, t + .5), l.lineTo(i + .5, n + .5), l.stroke(), l.restore();\n      }, this.image = function (e, t) {\n        if (t) {\n          if (\"string\" == typeof t) {\n            var i = t,\n                t = document.createElement(\"img\");\n            if (0 !== i.indexOf(\"data:\")) return t.onload = function () {\n              l.save(), l.drawImage(t, e.x, e.y), l.restore();\n            }, void (t.src = i);\n            t.src = i;\n          }\n\n          l.save(), l.drawImage(t, e.x, e.y), l.restore();\n        }\n      }, this.getWidth = function () {\n        return r.width;\n      }, this.getHeight = function () {\n        return r.height;\n      }, this.getElement = function () {\n        return r;\n      }, this.getSource = function () {\n        return \"<img src='\" + r.toDataURL(i, a) + \"' />\";\n      }, this.getDataUri = function () {\n        return r.toDataURL(i, a);\n      }, this.getDefaultFileName = function () {\n        return this.defaultFileName;\n      }, this.getBlob = function () {\n        return r.msToBlob ? r.msToBlob() : Abhaas.Util.dataUriToBlob(this.getDataUri());\n      };\n    }, Abhaas.Svg = function (e, t) {\n      function i(e, t) {\n        var i = null;\n\n        if (e) {\n          if (\"string\" == typeof e) {\n            if (0 === e.indexOf(\"data:\")) {\n              var n = {};\n              n.dataUri = e, t(n);\n            }\n\n            i = e;\n          } else i = e.src;\n\n          var e = document.createElement(\"img\");\n          e.onload = function () {\n            var e = document.createElement(\"canvas\");\n            e.width = this.naturalWidth, e.height = this.naturalHeight, e.getContext(\"2d\").drawImage(this, 0, 0);\n            var i = {};\n            i.dataUri = e.toDataURL(\"image/png\"), t(i);\n          }, e.src = i;\n        }\n      }\n\n      var n = \"http://www.w3.org/2000/svg\",\n          a = document.createElementNS(n, \"svg\");\n      a.outerHTML && a.setAttribute(\"xmlns\", n), a.setAttribute(\"viewBox\", \"0 0 \" + e + \" \" + t), this.defaultFileName = \"image.svg\", this.fillRect = function (e, t) {\n        var i = document.createElementNS(n, \"rect\");\n        i.setAttribute(\"x\", e.x), i.setAttribute(\"y\", e.y), i.setAttribute(\"width\", e.w), i.setAttribute(\"height\", e.h), i.setAttribute(\"fill\", t), a.appendChild(i);\n      }, this.diamond = function (e, t) {\n        var i = document.createElementNS(n, \"path\"),\n            o = \"\";\n        o += \"M \" + (e.x + e.w / 2) + \" \" + e.y, o += \" \", o += \"L \" + (e.x + e.w) + \" \" + (e.y + e.h / 2), o += \" \", o += \"L \" + (e.x + e.w / 2) + \" \" + (e.y + e.h), o += \" \", o += \"L \" + e.x + \" \" + (e.y + e.h / 2), o += \" Z\", i.setAttribute(\"d\", o), i.setAttribute(\"fill\", t), a.appendChild(i);\n      }, this.triangle = function (e, t, i) {\n        var o = document.createElementNS(n, \"path\"),\n            r = \"\";\n        r += \"M \" + (e.x + e.w / 3) + \" \" + e.y, r += \" \", r += \"L \" + (e.x + e.w) + \" \" + (e.y + e.h / 2), r += \" \", r += \"L \" + (e.x + e.w / 3) + \" \" + (e.y + e.h), r += \" Z\", o.setAttribute(\"d\", r), o.setAttribute(\"fill\", t), \"number\" == typeof i && o.setAttribute(\"transform\", \"rotate(\" + i + \",\" + (e.x + e.w / 2) + \",\" + (e.y + e.h / 2) + \")\"), a.appendChild(o);\n      }, this.upperLeftCorner = function (e, t) {\n        var i = document.createElementNS(n, \"path\"),\n            o = \"\";\n        o += \"M \" + e.x + \" \" + e.y, o += \" \", o += \"L \" + (e.x + e.w) + \" \" + e.y, o += \" \", o += \"L \" + e.x + \" \" + (e.y + e.h), o += \" Z\", i.setAttribute(\"d\", o), i.setAttribute(\"fill\", t), a.appendChild(i);\n      }, this.upperRightCorner = function (e, t) {\n        var i = document.createElementNS(n, \"path\"),\n            o = \"\";\n        o += \"M \" + e.x + \" \" + e.y, o += \" \", o += \"L \" + (e.x + e.w) + \" \" + e.y, o += \" \", o += \"L \" + (e.x + e.w) + \" \" + (e.y + e.h), o += \" Z\", i.setAttribute(\"d\", o), i.setAttribute(\"fill\", t), a.appendChild(i);\n      }, this.rect = function (e, t) {\n        var i = document.createElementNS(n, \"rect\");\n        i.setAttribute(\"x\", e.x + .5), i.setAttribute(\"y\", e.y + .5), i.setAttribute(\"width\", e.w - 1), i.setAttribute(\"height\", e.h - 1), i.setAttribute(\"stroke\", t), i.setAttribute(\"stroke-width\", \"1\"), i.setAttribute(\"fill\", \"transparent\"), a.appendChild(i);\n      }, this.text = function (e, t, i, o, r, l) {\n        function s(e, t, r) {\n          var l = document.createElementNS(n, \"text\");\n          l.setAttribute(\"fill\", o), l.setAttribute(\"font-family\", i.family), l.setAttribute(\"font-size\", i.size), l.setAttribute(\"font-style\", i.style), l.setAttribute(\"x\", t), l.setAttribute(\"y\", r), l.setAttribute(\"dy\", \"1em\"), l.setAttribute(\"text-anchor\", h), l.setAttribute(\"clip-path\", \"url(#\" + u.id + \")\");\n          var s = document.createTextNode(e);\n          l.appendChild(s), a.appendChild(l);\n        }\n\n        if (\"number\" == typeof t && (t = \"\" + t), \"string\" != typeof t) throw \"String expected\";\n        var r = r || \"left\",\n            l = l || 0,\n            d = 3,\n            c = e.x,\n            h = \"start\";\n\n        switch (r) {\n          case \"center\":\n            c += e.w / 2, h = \"middle\";\n            break;\n\n          case \"right\":\n            c += e.w, h = \"end\";\n        }\n\n        var u = document.createElementNS(n, \"clipPath\");\n        u.id = \"clip\" + Abhaas.guid();\n        var f = document.createElementNS(n, \"rect\");\n        f.setAttribute(\"x\", e.x), f.setAttribute(\"y\", e.y), f.setAttribute(\"width\", e.w), f.setAttribute(\"height\", e.h), u.appendChild(f), a.appendChild(u);\n\n        for (var v = 1.2 * parseInt(i.size), p = t.split(\"\\n\"), g = e.y + l + d, m = 0; m < p.length; m++) {\n          s(p[m], c + l, g), g += v;\n        }\n      }, this.line = function (e, t, i, o, r) {\n        var l = document.createElementNS(n, \"line\");\n        l.setAttribute(\"x1\", e + .5), l.setAttribute(\"y1\", t + .5), l.setAttribute(\"x2\", i + .5), l.setAttribute(\"y2\", o + .5), l.setAttribute(\"stroke\", r), a.appendChild(l);\n      }, this.image = function (e, t) {\n        function o(t) {\n          var i = document.createElementNS(n, \"image\");\n          i.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", t.dataUri), i.setAttribute(\"x\", e.x), i.setAttribute(\"y\", e.y), i.setAttribute(\"width\", e.w), i.setAttribute(\"height\", e.h), a.appendChild(i);\n        }\n\n        i(t, o);\n      }, this.c = {}, this.textWidth = function (e, t) {\n        var i = \"#\" + e + \"#\" + JSON.stringify(t),\n            n = this.c[i];\n        if (\"number\" == typeof n) return n;\n        var a = \"http://www.w3.org/2000/svg\",\n            o = document.createElementNS(a, \"svg\");\n        o.style.position = \"absolute\", o.style.left = \"-10000px\", o.style.width = \"100px\", o.outerHTML && o.setAttribute(\"xmlns\", a), o.setAttribute(\"viewBox\", \"0 0 100 100\");\n        var r = document.createElementNS(a, \"text\");\n        r.setAttribute(\"font-family\", t.family), r.setAttribute(\"font-size\", t.size), r.setAttribute(\"font-style\", t.style), r.setAttribute(\"x\", 0), r.setAttribute(\"y\", 0), r.setAttribute(\"dy\", \"1em\");\n        var l = document.createTextNode(e);\n        r.appendChild(l), o.appendChild(r), document.body.appendChild(o);\n        var s = r.getComputedTextLength();\n        return this.c[i] = s, document.body.removeChild(o), s;\n      }, this.getWidth = function () {\n        return e;\n      }, this.getHeight = function () {\n        return t;\n      }, this.getElement = function () {\n        return a;\n      }, this.getSource = function () {\n        if (a.outerHTML) return a.outerHTML;\n        var e = document.createElement(\"div\"),\n            t = a.cloneNode(!0);\n        return e.appendChild(t), e.innerHTML;\n      }, this.getDataUri = function () {\n        return \"data:application/octet-stream,\" + encodeURIComponent(this.getSource());\n      }, this.getDefaultFileName = function () {\n        return this.defaultFileName;\n      }, this.getBlob = function () {\n        return new Blob([this.getSource()]);\n      };\n    }, Abhaas.Excel = function () {\n      var e = this,\n          t = null,\n          i = null,\n          n = null,\n          a = {};\n      a.xmlns = \"urn:schemas-microsoft-com:office:spreadsheet\", a.o = \"urn:schemas-microsoft-com:office:office\", a.x = \"urn:schemas-microsoft-com:office:excel\", a.ss = \"urn:schemas-microsoft-com:office:spreadsheet\", a.html = \"http://www.w3.org/TR/REC-html40\", this.init = function () {\n        t = document.implementation.createDocument(a.xmlns, \"Workbook\", null), t.documentElement.setAttribute(\"xmlns:o\", a.o), t.documentElement.setAttribute(\"xmlns:x\", a.x), t.documentElement.setAttribute(\"xmlns:ss\", a.ss), t.documentElement.setAttribute(\"xmlns:html\", a.html);\n        var o = t.createElement(\"x:ExcelWorkbook\");\n        t.documentElement.appendChild(o), i = t.createElement(\"ss:Styles\"), t.documentElement.appendChild(i), n = e.styles.create(), n.setId(\"Default\"), n.setName(\"Normal\");\n      }, this.worksheets = [], this.worksheets.create = function (t) {\n        var i = e.el(a.ss, \"Worksheet\"),\n            n = new o(i);\n        return n.setName(t), this.push(n), n;\n      }, this.styles = [], this.styles.create = function (e) {\n        var n = t.createElement(\"ss:Style\");\n        i.appendChild(n);\n        var a = new r(n);\n        return this.push(a), a;\n      }, this.styles.getDefault = function () {\n        return n;\n      }, this.el = function (e, i) {\n        var n = t.createElementNS(e, i);\n        return t.documentElement.appendChild(n), n;\n      }, this.getSource = function () {\n        return '<?xml version=\"1.0\"?>' + new XMLSerializer().serializeToString(t);\n      }, this.getDataUri = function () {\n        return \"data:application/vnd.ms-excel,\" + encodeURIComponent(this.getSource());\n      }, this.getElement = function () {\n        return t;\n      }, this.getDefaultFileName = function () {\n        return \"spreadsheet.xls\";\n      }, this.getBlob = function () {\n        return new Blob([this.getSource()]);\n      };\n\n      var o = function (e) {\n        var i = t.createElement(\"Table\");\n        e.appendChild(i);\n        var n = t.createElement(\"x:WorksheetOptions\");\n        e.appendChild(n), this.rows = [], this.setName = function (t) {\n          e.setAttribute(\"ss:Name\", t);\n        }, this.cell = function (e, n) {\n          for (; n >= this.rows.length;) {\n            var o = t.createElement(\"Row\");\n            i.appendChild(o), this.rows.push(new a(o));\n          }\n\n          return this.rows[n].cell(e);\n        }, this.enableGridlines = function (e) {\n          var i = Abhaas.list(n.childNodes).find(function (e) {\n            return \"x:DoNotDisplayGridlines\" === e.tagName;\n          });\n\n          if (!i && !e) {\n            var a = t.createElement(\"x:DoNotDisplayGridlines\");\n            n.appendChild(a);\n          }\n\n          i && e && n.removeChild(i);\n        };\n\n        var a = function (e) {\n          this.cells = [], this.getElement = function () {\n            return e;\n          }, this.cell = function (n) {\n            for (; n >= this.cells.length;) {\n              var a = t.createElement(\"Cell\");\n              e.appendChild(a), this.cells.push(new i(a));\n            }\n\n            return this.cells[n];\n          };\n\n          var i = function (e) {\n            this.setText = function (i) {\n              var n = t.createElement(\"Data\");\n              n.setAttribute(\"ss:Type\", \"String\");\n              var a = t.createTextNode(i);\n\n              for (n.appendChild(a); e.firstChild;) e.removeChild(e.firstChild);\n\n              return e.appendChild(n), this;\n            }, this.setColspan = function (t) {\n              return t > 1 ? e.setAttribute(\"ss:MergeAcross\", t - 1) : e.removeAttribute(\"ss:MergeAcross\"), this;\n            }, this.setRowspan = function (t) {\n              return t > 1 ? e.setAttribute(\"ss:MergeDown\", t - 1) : e.removeAttribute(\"ss:MergeDown\"), this;\n            }, this.setStyle = function (t) {\n              if (!(t instanceof r)) throw \"Invalid argument, Style expected\";\n              return e.setAttribute(\"ss:StyleID\", t.getId()), this;\n            };\n          };\n        };\n      },\n          r = function (e) {\n        var i = Abhaas.guid();\n        e.setAttribute(\"ss:ID\", i);\n        var n = t.createElement(\"ss:Alignment\");\n        e.appendChild(n);\n        var a = t.createElement(\"ss:Interior\");\n        e.appendChild(a);\n        var o = t.createElement(\"ss:Borders\");\n        e.appendChild(o), this.setHorizontalAlignment = function (e) {\n          n.setAttribute(\"ss:Horizontal\", e);\n        }, this.setVerticalAlignment = function (e) {\n          n.setAttribute(\"ss:Vertical\", e);\n        }, this.setBackColor = function (e) {\n          var t = Abhaas.Util.normalizeColor(e);\n          a.setAttribute(\"ss:Color\", t), a.setAttribute(\"ss:Pattern\", \"Solid\");\n        }, this.setBorderColor = function (e) {\n          function i(e, i) {\n            var n = t.createElement(\"ss:Border\");\n            return n.setAttribute(\"ss:Position\", e), n.setAttribute(\"ss:LineStyle\", \"Continuous\"), n.setAttribute(\"ss:Color\", Abhaas.Util.normalizeColor(i)), n;\n          }\n\n          this.clearBorders();\n          var n = i(\"Left\", e);\n          o.appendChild(n);\n          var a = i(\"Right\", e);\n          o.appendChild(a);\n          var r = i(\"Top\", e);\n          o.appendChild(r);\n          var l = i(\"Bottom\", e);\n          o.appendChild(l);\n        }, this.clearBorders = function () {\n          for (; o.firstChild;) o.removeChild(o.firstChild);\n        }, this.getId = function () {\n          return i;\n        }, this.setId = function (t) {\n          i = t, e.setAttribute(\"ss:ID\", i);\n        }, this.setName = function (t) {\n          e.setAttribute(\"ss:Name\", t);\n        };\n      };\n\n      this.init();\n    }, Abhaas.Export = function (e) {\n      this.toElement = function () {\n        return e.getElement();\n      }, this.dimensions = function () {\n        return {\n          \"width\": e.getWidth(),\n          \"height\": e.getHeight()\n        };\n      }, this.toHtml = function () {\n        return e.getSource();\n      }, this.toDataUri = function () {\n        return e.getDataUri();\n      }, this.toBlob = function () {\n        return e.getBlob();\n      }, this.print = function (t) {\n        t = t || {}, t.orientation = t.orientation || \"portrait\";\n        var i = document.createElement(\"iframe\");\n        i.setAttribute(\"width\", 0), i.setAttribute(\"height\", 0), i.setAttribute(\"frameborder\", 0), i.setAttribute(\"src\", \"about:blank\"), i.onload = function () {\n          var n = i.contentWindow.document;\n\n          if (n.body.appendChild(e.getElement()), \"landscape\" === t.orientation) {\n            var a = Abhaas.sheet(n);\n            a.add(\"@page\", \"size: landscape;\"), a.commit();\n          }\n\n          i.contentWindow.document.execCommand(\"print\", !1, null) || (i.contentWindow.focus(), i.contentWindow.print()), setTimeout(function () {\n            document.body.removeChild(i);\n          }, 10);\n        }, document.body.appendChild(i);\n      }, this.download = function (t) {\n        var t = t || e.getDefaultFileName(),\n            i = e.getBlob();\n        Abhaas.Util.downloadBlob(i, t);\n      };\n    }, Abhaas.Exception = function (e) {\n      return new Error(e);\n    }, Abhaas.Locale = function (e, t) {\n      if (this.id = e, this.dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"], this.dayNamesShort = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"], this.monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"], this.monthNamesShort = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"], this.datePattern = \"M/d/yyyy\", this.timePattern = \"H:mm\", this.dateTimePattern = \"M/d/yyyy H:mm\", this.timeFormat = \"Clock12Hours\", this.weekStarts = 0, t) for (var i in t) this[i] = t[i];\n    }, Abhaas.Locale.all = {}, Abhaas.Locale.find = function (e) {\n      if (!e) return null;\n      var t = e.toLowerCase();\n      return t.length > 2 && (t = Abhaas.Util.replaceCharAt(t, 2, \"-\")), Abhaas.Locale.all[t];\n    }, Abhaas.Locale.register = function (e) {\n      Abhaas.Locale.all[e.id] = e;\n    }, Abhaas.Locale.register(new Abhaas.Locale(\"ca-es\", {\n      \"dayNames\": [\"diumenge\", \"dilluns\", \"dimarts\", \"dimecres\", \"dijous\", \"divendres\", \"dissabte\"],\n      \"dayNamesShort\": [\"dg\", \"dl\", \"dt\", \"dc\", \"dj\", \"dv\", \"ds\"],\n      \"monthNames\": [\"gener\", \"febrer\", \"mar\", \"abril\", \"maig\", \"juny\", \"juliol\", \"agost\", \"setembre\", \"octubre\", \"novembre\", \"desembre\", \"\"],\n      \"monthNamesShort\": [\"gen.\", \"febr.\", \"mar\", \"abr.\", \"maig\", \"juny\", \"jul.\", \"ag.\", \"set.\", \"oct.\", \"nov.\", \"des.\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"cs-cz\", {\n      \"dayNames\": [\"nedle\", \"pondl\", \"ter\", \"steda\", \"tvrtek\", \"ptek\", \"sobota\"],\n      \"dayNamesShort\": [\"ne\", \"po\", \"t\", \"st\", \"t\", \"p\", \"so\"],\n      \"monthNames\": [\"leden\", \"nor\", \"bezen\", \"duben\", \"kvten\", \"erven\", \"ervenec\", \"srpen\", \"z\", \"jen\", \"listopad\", \"prosinec\", \"\"],\n      \"monthNamesShort\": [\"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\", \"X\", \"XI\", \"XII\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"d. M. yyyy\",\n      \"dateTimePattern\": \"d. M. yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"da-dk\", {\n      \"dayNames\": [\"sndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"lrdag\"],\n      \"dayNamesShort\": [\"s\", \"ma\", \"ti\", \"on\", \"to\", \"fr\", \"l\"],\n      \"monthNames\": [\"januar\", \"februar\", \"marts\", \"april\", \"maj\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"december\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd-MM-yyyy\",\n      \"dateTimePattern\": \"dd-MM-yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"de-at\", {\n      \"dayNames\": [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n      \"dayNamesShort\": [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"Jnner\", \"Februar\", \"Mrz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\", \"\"],\n      \"monthNamesShort\": [\"Jn\", \"Feb\", \"Mr\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"de-ch\", {\n      \"dayNames\": [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n      \"dayNamesShort\": [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"Januar\", \"Februar\", \"Mrz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"de-de\", {\n      \"dayNames\": [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n      \"dayNamesShort\": [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"Januar\", \"Februar\", \"Mrz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"de-lu\", {\n      \"dayNames\": [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n      \"dayNamesShort\": [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"Januar\", \"Februar\", \"Mrz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mrz\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"en-au\", {\n      \"dayNames\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      \"dayNamesShort\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"],\n      \"timePattern\": \"h:mm tt\",\n      \"datePattern\": \"d/MM/yyyy\",\n      \"dateTimePattern\": \"d/MM/yyyy h:mm tt\",\n      \"timeFormat\": \"Clock12Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"en-ca\", {\n      \"dayNames\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      \"dayNamesShort\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"],\n      \"timePattern\": \"h:mm tt\",\n      \"datePattern\": \"yyyy-MM-dd\",\n      \"dateTimePattern\": \"yyyy-MM-dd h:mm tt\",\n      \"timeFormat\": \"Clock12Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"en-gb\", {\n      \"dayNames\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      \"dayNamesShort\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"en-us\", {\n      \"dayNames\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      \"dayNamesShort\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      \"monthNames\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"],\n      \"monthNamesShort\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"],\n      \"timePattern\": \"h:mm tt\",\n      \"datePattern\": \"M/d/yyyy\",\n      \"dateTimePattern\": \"M/d/yyyy h:mm tt\",\n      \"timeFormat\": \"Clock12Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"es-es\", {\n      \"dayNames\": [\"domingo\", \"lunes\", \"martes\", \"mircoles\", \"jueves\", \"viernes\", \"sbado\"],\n      \"dayNamesShort\": [\"D\", \"L\", \"M\", \"X\", \"J\", \"V\", \"S\"],\n      \"monthNames\": [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\", \"\"],\n      \"monthNamesShort\": [\"ene.\", \"feb.\", \"mar.\", \"abr.\", \"may.\", \"jun.\", \"jul.\", \"ago.\", \"sep.\", \"oct.\", \"nov.\", \"dic.\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"es-mx\", {\n      \"dayNames\": [\"domingo\", \"lunes\", \"martes\", \"mircoles\", \"jueves\", \"viernes\", \"sbado\"],\n      \"dayNamesShort\": [\"do.\", \"lu.\", \"ma.\", \"mi.\", \"ju.\", \"vi.\", \"s.\"],\n      \"monthNames\": [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\", \"\"],\n      \"monthNamesShort\": [\"ene.\", \"feb.\", \"mar.\", \"abr.\", \"may.\", \"jun.\", \"jul.\", \"ago.\", \"sep.\", \"oct.\", \"nov.\", \"dic.\", \"\"],\n      \"timePattern\": \"hh:mm tt\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy hh:mm tt\",\n      \"timeFormat\": \"Clock12Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"eu-es\", {\n      \"dayNames\": [\"igandea\", \"astelehena\", \"asteartea\", \"asteazkena\", \"osteguna\", \"ostirala\", \"larunbata\"],\n      \"dayNamesShort\": [\"ig\", \"al\", \"as\", \"az\", \"og\", \"or\", \"lr\"],\n      \"monthNames\": [\"urtarrila\", \"otsaila\", \"martxoa\", \"apirila\", \"maiatza\", \"ekaina\", \"uztaila\", \"abuztua\", \"iraila\", \"urria\", \"azaroa\", \"abendua\", \"\"],\n      \"monthNamesShort\": [\"urt.\", \"ots.\", \"mar.\", \"api.\", \"mai.\", \"eka.\", \"uzt.\", \"abu.\", \"ira.\", \"urr.\", \"aza.\", \"abe.\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"yyyy/MM/dd\",\n      \"dateTimePattern\": \"yyyy/MM/dd H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"fi-fi\", {\n      \"dayNames\": [\"sunnuntai\", \"maanantai\", \"tiistai\", \"keskiviikko\", \"torstai\", \"perjantai\", \"lauantai\"],\n      \"dayNamesShort\": [\"su\", \"ma\", \"ti\", \"ke\", \"to\", \"pe\", \"la\"],\n      \"monthNames\": [\"tammikuu\", \"helmikuu\", \"maaliskuu\", \"huhtikuu\", \"toukokuu\", \"keskuu\", \"heinkuu\", \"elokuu\", \"syyskuu\", \"lokakuu\", \"marraskuu\", \"joulukuu\", \"\"],\n      \"monthNamesShort\": [\"tammi\", \"helmi\", \"maalis\", \"huhti\", \"touko\", \"kes\", \"hein\", \"elo\", \"syys\", \"loka\", \"marras\", \"joulu\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"d.M.yyyy\",\n      \"dateTimePattern\": \"d.M.yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"fr-be\", {\n      \"dayNames\": [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n      \"dayNamesShort\": [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"],\n      \"monthNames\": [\"janvier\", \"fvrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"aot\", \"septembre\", \"octobre\", \"novembre\", \"dcembre\", \"\"],\n      \"monthNamesShort\": [\"janv.\", \"fvr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"aot\", \"sept.\", \"oct.\", \"nov.\", \"dc.\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd-MM-yy\",\n      \"dateTimePattern\": \"dd-MM-yy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"fr-ca\", {\n      \"dayNames\": [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n      \"dayNamesShort\": [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"],\n      \"monthNames\": [\"janvier\", \"fvrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"aot\", \"septembre\", \"octobre\", \"novembre\", \"dcembre\", \"\"],\n      \"monthNamesShort\": [\"janv.\", \"fvr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"aot\", \"sept.\", \"oct.\", \"nov.\", \"dc.\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"yyyy-MM-dd\",\n      \"dateTimePattern\": \"yyyy-MM-dd HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"fr-ch\", {\n      \"dayNames\": [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n      \"dayNamesShort\": [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"],\n      \"monthNames\": [\"janvier\", \"fvrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"aot\", \"septembre\", \"octobre\", \"novembre\", \"dcembre\", \"\"],\n      \"monthNamesShort\": [\"janv.\", \"fvr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"aot\", \"sept.\", \"oct.\", \"nov.\", \"dc.\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"fr-fr\", {\n      \"dayNames\": [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n      \"dayNamesShort\": [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"],\n      \"monthNames\": [\"janvier\", \"fvrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"aot\", \"septembre\", \"octobre\", \"novembre\", \"dcembre\", \"\"],\n      \"monthNamesShort\": [\"janv.\", \"fvr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"aot\", \"sept.\", \"oct.\", \"nov.\", \"dc.\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"fr-lu\", {\n      \"dayNames\": [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n      \"dayNamesShort\": [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"],\n      \"monthNames\": [\"janvier\", \"fvrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"aot\", \"septembre\", \"octobre\", \"novembre\", \"dcembre\", \"\"],\n      \"monthNamesShort\": [\"janv.\", \"fvr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"aot\", \"sept.\", \"oct.\", \"nov.\", \"dc.\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"gl-es\", {\n      \"dayNames\": [\"domingo\", \"luns\", \"martes\", \"mrcores\", \"xoves\", \"venres\", \"sbado\"],\n      \"dayNamesShort\": [\"do\", \"lu\", \"ma\", \"m\", \"xo\", \"ve\", \"s\"],\n      \"monthNames\": [\"xaneiro\", \"febreiro\", \"marzo\", \"abril\", \"maio\", \"xuo\", \"xullo\", \"agosto\", \"setembro\", \"outubro\", \"novembro\", \"decembro\", \"\"],\n      \"monthNamesShort\": [\"xan\", \"feb\", \"mar\", \"abr\", \"maio\", \"xuo\", \"xul\", \"ago\", \"set\", \"out\", \"nov\", \"dec\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"it-it\", {\n      \"dayNames\": [\"domenica\", \"luned\", \"marted\", \"mercoled\", \"gioved\", \"venerd\", \"sabato\"],\n      \"dayNamesShort\": [\"do\", \"lu\", \"ma\", \"me\", \"gi\", \"ve\", \"sa\"],\n      \"monthNames\": [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\", \"\"],\n      \"monthNamesShort\": [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"it-ch\", {\n      \"dayNames\": [\"domenica\", \"luned\", \"marted\", \"mercoled\", \"gioved\", \"venerd\", \"sabato\"],\n      \"dayNamesShort\": [\"do\", \"lu\", \"ma\", \"me\", \"gi\", \"ve\", \"sa\"],\n      \"monthNames\": [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\", \"\"],\n      \"monthNamesShort\": [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"ja-jp\", {\n      \"dayNames\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"dayNamesShort\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"monthNames\": [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"\"],\n      \"monthNamesShort\": [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"yyyy/MM/dd\",\n      \"dateTimePattern\": \"yyyy/MM/dd H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"ko-kr\", {\n      \"dayNames\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"dayNamesShort\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"monthNames\": [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"\"],\n      \"monthNamesShort\": [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"\"],\n      \"timePattern\": \"tt h:mm\",\n      \"datePattern\": \"yyyy-MM-dd\",\n      \"dateTimePattern\": \"yyyy-MM-dd tt h:mm\",\n      \"timeFormat\": \"Clock12Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"nb-no\", {\n      \"dayNames\": [\"sndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"lrdag\"],\n      \"dayNamesShort\": [\"s\", \"ma\", \"ti\", \"on\", \"to\", \"fr\", \"l\"],\n      \"monthNames\": [\"januar\", \"februar\", \"mars\", \"april\", \"mai\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"desember\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"feb\", \"mar\", \"apr\", \"mai\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"des\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"nl-nl\", {\n      \"dayNames\": [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n      \"dayNamesShort\": [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n      \"monthNames\": [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"d-M-yyyy\",\n      \"dateTimePattern\": \"d-M-yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"nl-be\", {\n      \"dayNames\": [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n      \"dayNamesShort\": [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n      \"monthNames\": [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"d/MM/yyyy\",\n      \"dateTimePattern\": \"d/MM/yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"nn-no\", {\n      \"dayNames\": [\"sndag\", \"mndag\", \"tysdag\", \"onsdag\", \"torsdag\", \"fredag\", \"laurdag\"],\n      \"dayNamesShort\": [\"s\", \"m\", \"ty\", \"on\", \"to\", \"fr\", \"la\"],\n      \"monthNames\": [\"januar\", \"februar\", \"mars\", \"april\", \"mai\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"desember\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"feb\", \"mar\", \"apr\", \"mai\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"des\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"pt-br\", {\n      \"dayNames\": [\"domingo\", \"segunda-feira\", \"tera-feira\", \"quarta-feira\", \"quinta-feira\", \"sexta-feira\", \"sbado\"],\n      \"dayNamesShort\": [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n      \"monthNames\": [\"janeiro\", \"fevereiro\", \"maro\", \"abril\", \"maio\", \"junho\", \"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\", \"dezembro\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"fev\", \"mar\", \"abr\", \"mai\", \"jun\", \"jul\", \"ago\", \"set\", \"out\", \"nov\", \"dez\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"pl-pl\", {\n      \"dayNames\": [\"niedziela\", \"poniedziaek\", \"wtorek\", \"roda\", \"czwartek\", \"pitek\", \"sobota\"],\n      \"dayNamesShort\": [\"N\", \"Pn\", \"Wt\", \"r\", \"Cz\", \"Pt\", \"So\"],\n      \"monthNames\": [\"stycze\", \"luty\", \"marzec\", \"kwiecie\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\", \"wrzesie\", \"padziernik\", \"listopad\", \"grudzie\", \"\"],\n      \"monthNamesShort\": [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\", \"lis\", \"gru\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"yyyy-MM-dd\",\n      \"dateTimePattern\": \"yyyy-MM-dd HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"pt-pt\", {\n      \"dayNames\": [\"domingo\", \"segunda-feira\", \"tera-feira\", \"quarta-feira\", \"quinta-feira\", \"sexta-feira\", \"sbado\"],\n      \"dayNamesShort\": [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n      \"monthNames\": [\"janeiro\", \"fevereiro\", \"maro\", \"abril\", \"maio\", \"junho\", \"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\", \"dezembro\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"fev\", \"mar\", \"abr\", \"mai\", \"jun\", \"jul\", \"ago\", \"set\", \"out\", \"nov\", \"dez\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"dd/MM/yyyy\",\n      \"dateTimePattern\": \"dd/MM/yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 0\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"ro-ro\", {\n      \"dayNames\": [\"duminic\", \"luni\", \"mari\", \"miercuri\", \"joi\", \"vineri\", \"smbt\"],\n      \"dayNamesShort\": [\"D\", \"L\", \"Ma\", \"Mi\", \"J\", \"V\", \"S\"],\n      \"monthNames\": [\"ianuarie\", \"februarie\", \"martie\", \"aprilie\", \"mai\", \"iunie\", \"iulie\", \"august\", \"septembrie\", \"octombrie\", \"noiembrie\", \"decembrie\", \"\"],\n      \"monthNamesShort\": [\"ian.\", \"feb.\", \"mar.\", \"apr.\", \"mai.\", \"iun.\", \"iul.\", \"aug.\", \"sep.\", \"oct.\", \"nov.\", \"dec.\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"ru-ru\", {\n      \"dayNames\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"dayNamesShort\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"monthNames\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"monthNamesShort\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"dd.MM.yyyy\",\n      \"dateTimePattern\": \"dd.MM.yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"sk-sk\", {\n      \"dayNames\": [\"nedea\", \"pondelok\", \"utorok\", \"streda\", \"tvrtok\", \"piatok\", \"sobota\"],\n      \"dayNamesShort\": [\"ne\", \"po\", \"ut\", \"st\", \"t\", \"pi\", \"so\"],\n      \"monthNames\": [\"janur\", \"februr\", \"marec\", \"aprl\", \"mj\", \"jn\", \"jl\", \"august\", \"september\", \"oktber\", \"november\", \"december\", \"\"],\n      \"monthNamesShort\": [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"d.M.yyyy\",\n      \"dateTimePattern\": \"d.M.yyyy H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"sv-se\", {\n      \"dayNames\": [\"sndag\", \"mndag\", \"tisdag\", \"onsdag\", \"torsdag\", \"fredag\", \"lrdag\"],\n      \"dayNamesShort\": [\"s\", \"m\", \"ti\", \"on\", \"to\", \"fr\", \"l\"],\n      \"monthNames\": [\"januari\", \"februari\", \"mars\", \"april\", \"maj\", \"juni\", \"juli\", \"augusti\", \"september\", \"oktober\", \"november\", \"december\", \"\"],\n      \"monthNamesShort\": [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"yyyy-MM-dd\",\n      \"dateTimePattern\": \"yyyy-MM-dd HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"tr-tr\", {\n      \"dayNames\": [\"Pazar\", \"Pazartesi\", \"Sal\", \"aramba\", \"Perembe\", \"Cuma\", \"Cumartesi\"],\n      \"dayNamesShort\": [\"Pz\", \"Pt\", \"Sa\", \"a\", \"Pe\", \"Cu\", \"Ct\"],\n      \"monthNames\": [\"Ocak\", \"ubat\", \"Mart\", \"Nisan\", \"Mays\", \"Haziran\", \"Temmuz\", \"Austos\", \"Eyll\", \"Ekim\", \"Kasm\", \"Aralk\", \"\"],\n      \"monthNamesShort\": [\"Oca\", \"ub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Au\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\", \"\"],\n      \"timePattern\": \"HH:mm\",\n      \"datePattern\": \"d.M.yyyy\",\n      \"dateTimePattern\": \"d.M.yyyy HH:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.register(new Abhaas.Locale(\"zh-cn\", {\n      \"dayNames\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"dayNamesShort\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"monthNames\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n      \"monthNamesShort\": [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"\"],\n      \"timePattern\": \"H:mm\",\n      \"datePattern\": \"yyyy/M/d\",\n      \"dateTimePattern\": \"yyyy/M/d H:mm\",\n      \"timeFormat\": \"Clock24Hours\",\n      \"weekStarts\": 1\n    })), Abhaas.Locale.US = Abhaas.Locale.find(\"en-us\"), Abhaas.Switcher = function (e) {\n      function t(e, t, n) {\n        var a = {};\n        a.start = e, a.end = t, a.day = n, a.target = i.active.control, a.preventDefault = function () {\n          this.preventDefault.value = !0;\n        };\n        var o = i.l;\n        o && o.start === a.start && o.end === a.end && o.day === a.day && o.target === a.target || (i.l = a, \"function\" == typeof i.onChange && (i.onChange(a), a.preventDefault.value) || \"function\" == typeof i.onTimeRangeSelect && (i.onTimeRangeSelect(a), a.preventDefault.value) || (i.active.sendNavigate(i.day), \"function\" == typeof i.onChanged && i.onChanged(a), \"function\" == typeof i.onTimeRangeSelected && i.onTimeRangeSelected(a)));\n      }\n\n      var i = this;\n      this.views = [], this.triggers = [], this.navigator = {}, this.selectedClass = null, this.active = null, this.day = Abhaas.Date.today(), this.onChange = null, this.onChanged = null, this.navigator.updateMode = function (e) {\n        var t = i.navigator.control;\n        t && (t.selectMode = e, t.select(i.day));\n      }, this.addView = function (e, t) {\n        var n;\n\n        if (\"string\" == typeof e) {\n          if (n = document.getElementById(e), !n) throw \"Element not found: \" + e;\n        } else n = e;\n\n        var a = n,\n            o = {};\n        return o.isView = !0, o.id = a.id, o.control = a, o.options = t || {}, o.hide = function () {\n          a.hide ? a.hide() : a.nav && a.nav.top ? a.nav.top.style.display = \"none\" : a.style.display = \"none\";\n        }, o.sendNavigate = function (e) {\n          (function () {\n            return !!a.backendUrl || !(\"function\" != typeof WebForm_DoCallback || !a.uniqueID);\n          })() ? a.commandCallBack && a.commandCallBack(\"navigate\", {\n            \"day\": e\n          }) : (a.startDate = e, a.update());\n        }, o.show = function () {\n          i.f(), a.show ? a.show() : a.nav && a.nav.top ? a.nav.top.style.display = \"\" : a.style.display = \"\";\n        }, o.selectMode = function () {\n          if (o.options.navigatorSelectMode) return o.options.navigatorSelectMode;\n          if (a.isCalendar) switch (a.viewType) {\n            case \"Day\":\n              return \"day\";\n\n            case \"Week\":\n              return \"week\";\n\n            case \"WorkWeek\":\n              return \"week\";\n\n            default:\n              return \"day\";\n          } else if (a.isMonth) switch (a.viewType) {\n            case \"Month\":\n              return \"month\";\n\n            case \"Weeks\":\n              return \"week\";\n\n            default:\n              return \"day\";\n          }\n          return \"day\";\n        }, this.views.push(o), o;\n      }, this.addTrigger = function (e, t) {\n        var n;\n\n        if (\"string\" == typeof e) {\n          if (n = document.getElementById(e), !n) throw \"Element not found: \" + e;\n        } else n = e;\n\n        var a = this.g(t);\n        a || (a = this.addView(t));\n        var o = {};\n        return o.isTrigger = !0, o.element = n, o.id = n.id, o.view = a, o.onClick = function (e) {\n          i.show(o), i.j(o), e = e || window.event, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1);\n        }, Abhaas.re(n, \"click\", o.onClick), this.triggers.push(o), o;\n      }, this.addButton = this.addTrigger, this.select = function (e) {\n        var t = this.k(e);\n        t ? t.onClick() : this.triggers.length > 0 && this.triggers[0].onClick();\n      }, this.k = function (e) {\n        for (var t = 0; t < this.triggers.length; t++) {\n          var i = this.triggers[t];\n          if (i.id === e) return i;\n        }\n\n        return null;\n      }, this.j = function (e) {\n        if (this.selectedClass) {\n          for (var t = 0; t < this.triggers.length; t++) {\n            var i = this.triggers[t];\n            Abhaas.Util.removeClass(i.element, this.selectedClass);\n          }\n\n          Abhaas.Util.addClass(e.element, this.selectedClass);\n        }\n      }, this.addNavigator = function (e) {\n        i.navigator.control = e, e.timeRangeSelectedHandling = \"JavaScript\", e.onTimeRangeSelected = function () {\n          var n, a, o;\n          if (1 === e.api) n = arguments[0], a = arguments[1], o = arguments[2];else {\n            var r = arguments[0];\n            n = r.start, a = r.end, o = r.day;\n          }\n          i.day = o, t(n, a, o);\n        };\n      }, this.show = function (e) {\n        var t, n;\n        if (e.isTrigger) n = e, t = n.view;else if (t = e.isView ? e : this.g(e), this.active === t) return;\n\n        if (i.onSelect) {\n          var a = {};\n          a.source = n ? n.element : null, a.target = t.control, i.onSelect(a);\n        }\n\n        this.active = t, t.show();\n        var o = t.selectMode();\n        i.navigator.updateMode(o);\n      }, this.g = function (e) {\n        for (var t = 0; t < this.views.length; t++) if (this.views[t].control === e) return this.views[t];\n\n        return null;\n      }, this.f = function () {\n        for (var e = 0; e < this.views.length; e++) this.views[e].hide();\n      }, this.events = {}, this.events.load = function (e, t, n) {\n        if (!i.active || !i.active.control) throw \"Abhaas.Switcher.events.load(): Active view not found\";\n        i.active.control.events.load(e, t, n);\n      }, this.l = null, this.m = function () {\n        if (e) for (var t in e) \"triggers\" === t ? Abhaas.list(e.triggers).each(function (e) {\n          i.addTrigger(e.id, e.view);\n        }) : \"navigator\" === t ? i.addNavigator(e.navigator) : i[t] = e[t];\n      }, this.m();\n    }, function () {\n      if (!Abhaas.Global.defaultCss) {\n        var e = Abhaas.sheet();\n        e.add(\".bubble_default_main\", \"cursor: default;\"), e.add(\".bubble_default_main_inner\", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'), e.add(\".calendar_default_main\", \"border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;\"), e.add(\".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner\", \"color: #333;background: #f3f3f3;\"), e.add(\".calendar_default_cornerright_inner\", \"position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\\tborder-bottom: 1px solid #c0c0c0;\"), e.add(\".calendar_default_rowheader_inner\", \"font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;\"), e.add(\".calendar_default_corner_inner\", \"position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;\"), e.add(\".calendar_default_rowheader_minutes\", \"font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;\"), e.add(\".calendar_default_colheader_inner\", \"position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;\"), e.add(\".calendar_default_cell_inner\", \"position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;\"), e.add(\".calendar_default_cell_business .calendar_default_cell_inner\", \"background: #fff\"), e.add(\".calendar_default_alldayheader_inner\", \"text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;\"), e.add(\".calendar_default_message\", \"opacity: 0.9;filter: alpha(opacity=90);\\tpadding: 10px; color: #ffffff;background: #ffa216;\"), e.add(\".calendar_default_alldayevent_inner,.calendar_default_event_inner\", \"color: #666; border: 1px solid #999;\"), e.add(\".calendar_default_event_bar\", \"top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;\"), e.add(\".calendar_default_event_bar_inner\", \"position: absolute;width: 4px;background-color: #1066a8;\"), e.add(\".calendar_default_alldayevent_inner,.calendar_default_event_inner\", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".calendar_default_selected .calendar_default_event_inner\", \"background: #ddd;\"), e.add(\".calendar_default_alldayevent_inner\", \"position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 2px;margin-right: 1px;font-size: 12px;\"), e.add(\".calendar_default_event_withheader .calendar_default_event_inner\", \"padding-top: 15px;\"), e.add(\".calendar_default_event\", \"cursor: default;\"), e.add(\".calendar_default_event_inner\", \"position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;\"), e.add(\".calendar_default_shadow_inner\", \"position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;filter: alpha(opacity=50);\"), e.add(\".calendar_default_event_delete\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;\"), e.add(\".calendar_default_event_delete:hover\", \"opacity: 1;-ms-filter: none;\"), e.add(\".calendar_default_scroll_up\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);\"), e.add(\".calendar_default_scroll_down\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);\"), e.add(\".calendar_default_now\", \"background-color: red;\"), e.add(\".calendar_default_now:before\", \"content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);\"), e.add(\".calendar_default_shadow_forbidden .calendar_default_shadow_inner\", \"background-color: red;\"), e.add(\".calendar_default_shadow_top\", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".calendar_default_shadow_bottom\", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top\", \"background-color: gray; opacity: 0.2; filter: alpha(opacity=20)\"), e.add(\".calendar_default_loading\", \"background-color: orange; color: white; padding: 2px;\"), e.add(\".calendar_default_scroll\", \"background-color: #f3f3f3;\"), e.add(\".menu_default_main\", \"font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);\"), e.add(\".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".menu_default_title\", \"background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;\"), e.add(\".menu_default_main a\", \"padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;\"), e.add(\".menu_default_main a img\", \"margin-left: 6px;margin-top: 2px;\"), e.add(\".menu_default_item_text\", \"display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;\"), e.add(\".menu_default_main a:hover\", \"background-color: #f3f3f3;\"), e.add(\".menu_default_main div div\", \"border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;\"), e.add(\".menu_default_main a.menu_default_item_disabled\", \"color: #ccc\"), e.add(\".menu_default_item_haschildren.menu_default_item_haschildren_active\", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#efefef\", endColorStr=\"#e6e6e6\");'), e.add(\".menu_default_item_haschildren a:before\", \"content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;\"), e.add(\".menu_default_item_icon\", \"position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;\"), e.add(\".menu_default_item a i\", \"height: 20px;line-height: 20px;\"), e.add(\".menubar_default_main\", \"border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;\"), e.add(\".menubar_default_item\", \"display: inline-block;  padding: 6px 10px; cursor: default;\"), e.add(\".menubar_default_item:hover\", \"background-color: #f2f2f2;\"), e.add(\".menubar_default_item_active\", \"background-color: #f2f2f2;\"), e.add(\".month_default_main\", \"border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;\"), e.add(\".month_default_main *, .month_default_main *:before, .month_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".month_default_cell_inner\", \"border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;\"), e.add(\".month_default_cell_business .month_default_cell_inner\", \"background-color: #fff;\"), e.add(\".month_default_cell_header\", \"text-align: right;padding-right: 2px;\"), e.add(\".month_default_header_inner\", \"text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden;\"), e.add(\".month_default_message\", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffa216\", endColorStr=\"#ff8400\");'), e.add(\".month_default_event_inner\", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");border: 1px solid #999;border-radius: 0px;'), e.add(\".month_default_event_continueright .month_default_event_inner\", \"border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;\"), e.add(\".month_default_event_continueleft .month_default_event_inner\", \"border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;\"), e.add(\".month_default_selected .month_default_event_inner\", \"background: #ddd;\"), e.add(\".month_default_shadow_inner\", \"background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;\"), e.add(\".month_default_event_delete\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;\"), e.add(\".month_default_event_delete:hover\", \"opacity: 1;-ms-filter: none;\"), e.add(\".month_default_event_timeleft\", \"color: #ccc; font-size: 8pt\"), e.add(\".month_default_event_timeright\", \"color: #ccc; font-size: 8pt; text-align: right;\"), e.add(\".month_default_loading\", \"background-color: orange; color: white; padding: 2px;\"), e.add(\".navigator_default_main\", \"border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;\"), e.add(\".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".navigator_default_month\", \"font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;\"), e.add(\".navigator_default_day\", \"color: black;\"), e.add(\".navigator_default_weekend\", \"background-color: #f0f0f0;\"), e.add(\".navigator_default_dayheader\", \"color: black;\"), e.add(\".navigator_default_line\", \"border-bottom: 1px solid #c0c0c0;\"), e.add(\".navigator_default_dayother\", \"color: gray;\"), e.add(\".navigator_default_todaybox\", \"border: 1px solid red;\"), e.add(\".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright\", \"border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;\"), e.add(\".navigator_default_busy\", \"font-weight: bold;\"), e.add(\".navigator_default_cell\", \"text-align: center;\"), e.add(\".navigator_default_select .navigator_default_cell_box\", \"background-color: #FFE794; opacity: 0.5;\"), e.add(\".navigator_default_title\", \"text-align: center;\"), e.add(\".navigator_default_titleleft, .navigator_default_titleright\", \"text-align: center;\"), e.add(\".navigator_default_dayheader\", \"text-align: center;\"), e.add(\".navigator_default_weeknumber\", \"text-align: center;\"), e.add(\".navigator_default_cell_text\", \"cursor: pointer;\"), e.add(\".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".scheduler_default_main\", \"box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;\"), e.add(\".scheduler_default_selected .scheduler_default_event_inner\", \"background: #ddd;\"), e.add(\".scheduler_default_timeheader\", \"cursor: default;color: #333;\"), e.add(\".scheduler_default_message\", \"opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;\"), e.add(\".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol\", \"color: #333;background: #f3f3f3;\"), e.add(\".scheduler_default_rowheader,.scheduler_default_corner\", \"color: #333;background: #f3f3f3;\"), e.add(\".scheduler_default_rowheader.scheduler_default_rowheader_selected\", \"background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".scheduler_default_rowheader_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;display: flex; align-items: center;\"), e.add(\".scheduler_default_timeheadergroup_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;\"), e.add(\".scheduler_default_timeheadercol_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;\"), e.add(\".scheduler_default_timeheader_float\", \"display: flex; align-items: center; justify-content: center;\"), e.add(\".scheduler_default_divider, .scheduler_default_splitter\", \"background-color: #c0c0c0;\"), e.add(\".scheduler_default_divider_horizontal\", \"background-color: #c0c0c0;\"), e.add(\".scheduler_default_matrix_vertical_line\", \"background-color: #eee;\"), e.add(\".scheduler_default_matrix_vertical_break\", \"background-color: #999;\"), e.add(\".scheduler_default_matrix_horizontal_line\", \"background-color: #eee;\"), e.add(\".scheduler_default_resourcedivider\", \"background-color: #c0c0c0;\"), e.add(\".scheduler_default_shadow_inner\", \"background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;\"), e.add(\".scheduler_default_event\", \"font-size:12px;color:#333;\"), e.add(\".scheduler_default_event_inner\", \"position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;\"), e.add(\".scheduler_default_event_bar\", \"top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;\"), e.add(\".scheduler_default_event_bar_inner\", \"position:absolute;height:4px;background-color:#1066a8;\"), e.add(\".scheduler_default_event_inner\", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".scheduler_default_event_float\", \"display: flex; align-items: center;\"), e.add(\".scheduler_default_event_float_inner\", \"padding:2px 2px 2px 8px; position: relative;\"), e.add(\".scheduler_default_event_float_inner:after\", 'content:\"\";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:4px;left:-4px;'), e.add(\".scheduler_default_columnheader_inner\", \"font-weight: bold;\"), e.add(\".scheduler_default_columnheader_splitter\", \"box-sizing: border-box; border-right: 1px solid #c0c0c0;\"), e.add(\".scheduler_default_columnheader_splitter:hover\", \"background-color: #c0c0c0;\"), e.add(\".scheduler_default_columnheader_cell_inner\", \"position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;\"), e.add(\".scheduler_default_cell\", \"background-color: #f9f9f9;\"), e.add(\".scheduler_default_cell.scheduler_default_cell_business\", \"background-color: #fff;\"), e.add(\".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected\", \"background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".scheduler_default_tree_image_no_children\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);\"), e.add(\".scheduler_default_tree_image_expand\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);\"), e.add(\".scheduler_default_tree_image_collapse\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);\"), //e.add(\".scheduler_default_event_delete\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;\"), e.add(\".scheduler_default_event_delete:hover\", \"opacity: 1;-ms-filter: none;\"), e.add(\".scheduler_default_rowmove_handle\", \"background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;\"), e.add(\".scheduler_default_rowmove_source\", \"background-color: black; opacity: 0.2;\"), e.add(\".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after\", \"background-color: #999; height: 2px;\"), e.add(\".scheduler_default_rowmove_position_child\", \"margin-left: 10px; background-color: #999; height: 2px;\"), e.add(\".scheduler_default_rowmove_position_child:before\", \"content: '+'; color: #999; position: absolute; top: -8px; left: -10px;\"), e.add(\".scheduler_default_rowmove_position_forbidden\", \"background-color: red; height: 2px; margin-left: 10px;\"), e.add(\".scheduler_default_rowmove_position_forbidden:before\", \"content: 'x'; color: red; position: absolute; top: -8px; left: -10px;\"), e.add(\".scheduler_default_link_horizontal\", \"border-bottom-style: solid; border-bottom-color: red\"), e.add(\".scheduler_default_link_vertical\", \"border-right-style: solid; border-right-color: red\"), e.add(\".scheduler_default_link_arrow_right:before\", \"content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".scheduler_default_link_arrow_left:before\", \"content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".scheduler_default_link_arrow_down:before\", \"content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".scheduler_default_link_arrow_up:before\", \"content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".scheduler_default_shadow_overlap .scheduler_default_shadow_inner\", \"background-color: red;\"), e.add(\".scheduler_default_block\", \"background-color: #808080; opacity: 0.5;\"), e.add(\".scheduler_default_main .scheduler_default_event_group\", \"box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;\"), e.add(\".scheduler_default_main .scheduler_default_header_icon\", \"box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;\"), e.add(\".scheduler_default_header_icon:hover\", \"background-color: #ccc;\"), e.add(\".scheduler_default_header_icon_hide:before\", \"content: '\\\\00AB';\"), e.add(\".scheduler_default_header_icon_show:before\", \"content: '\\\\00BB';\"), e.add(\".scheduler_default_row_new .scheduler_default_rowheader_inner\", \"padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);\"), e.add(\".scheduler_default_row_new .scheduler_default_rowheader_inner:hover\", \"background: white; color: white;\"), e.add(\".scheduler_default_rowheader textarea\", \"padding: 3px;\"), e.add(\".scheduler_default_rowheader_scroll\", \"cursor: default;\"), e.add(\".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner\", \"background-color: red;\"), e.add(\".scheduler_default_event_moving_source\", \"opacity: 0.5; filter: alpha(opacity=50);\"), e.add(\".scheduler_default_linkpoint\", \"background-color: white; border: 1px solid gray; border-radius: 5px;\"), e.add(\".scheduler_default_linkpoint.scheduler_default_linkpoint_hover\", \"background-color: black;\"), e.add(\".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner\", \"background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top\", \"background-color: gray; opacity: 0.2; filter: alpha(opacity=20)\"), e.add(\".scheduler_default_link_dot\", \"border-radius: 10px; background-color: red\"), e.add(\".scheduler_default_task_milestone .scheduler_default_event_inner\", \"position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;\"), e.add(\".scheduler_default_event_left\", \"white-space: nowrap; padding-top: 5px; color: #666; cursor: default;\"), e.add(\".scheduler_default_event_right\", \"white-space: nowrap; padding-top: 5px; color: #666; cursor: default;\"), e.add(\".scheduler_default_main:focus\", \"outline: none;\"), e.add(\".scheduler_default_cell_focus\", \"outline: red 2px solid; z-index: 100; opacity: 0.5;\"), e.add(\".scheduler_default_selectionrectangle\", \"background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;\"), e.add(\".scheduler_default_link_shadow\", \"border:1px solid black;\"), e.add(\".scheduler_default_link_shadow_circle\", \"background-color:black;\"), e.add(\".scheduler_default_event_move_left\", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\"); display: flex; align-items: center;'), e.add(\".scheduler_default_event_move_right\", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\"); display: flex; align-items: center;'), e.add(\".scheduler_default_link_hover\", \"box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)\"), e.add(\".gantt_default_selected .gantt_default_event_inner\", \"background: #ddd;\"), e.add(\".gantt_default_main\", \"border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;\"), e.add(\".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".gantt_default_timeheader\", \"cursor: default;color: #666;\"), e.add(\".gantt_default_message\", \"opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;\"), e.add(\".gantt_default_timeheadergroup,.gantt_default_timeheadercol\", \"color: #333;background: #f3f3f3;\"), e.add(\".gantt_default_rowheader,.gantt_default_corner\", \"color: #333;background: #f3f3f3;\"), e.add(\".gantt_default_rowheader.gantt_default_rowheader_selected\", \"background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".gantt_default_rowheader_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;\"), e.add(\".gantt_default_timeheadergroup, .gantt_default_timeheadercol\", \"text-align: center;\"), e.add(\".gantt_default_timeheadergroup_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;\"), e.add(\".gantt_default_timeheadercol_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;\"), e.add(\".gantt_default_divider, .gantt_default_splitter\", \"background-color: #aaa;\"), e.add(\".gantt_default_divider_horizontal\", \"background-color: #aaa;\"), e.add(\".gantt_default_matrix_vertical_line\", \"background-color: #eee;\"), e.add(\".gantt_default_matrix_vertical_break\", \"background-color: #000;\"), e.add(\".gantt_default_matrix_horizontal_line\", \"background-color: #eee;\"), e.add(\".gantt_default_resourcedivider\", \"background-color: #aaa;\"), e.add(\".gantt_default_shadow_inner\", \"background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;\"), e.add(\".gantt_default_event\", \"font-size:12px;color:#666;\"), e.add(\".gantt_default_event_inner\", \"position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;\"), e.add(\".gantt_default_event_bar\", \"top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;\"), e.add(\".gantt_default_event_bar_inner\", \"position:absolute;height:4px;background-color:#1066a8;\"), e.add(\".gantt_default_event_inner\", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".gantt_default_event_float_inner\", \"padding:6px 2px 2px 8px;\"), e.add(\".gantt_default_event_float_inner:after\", 'content:\"\";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'), e.add(\".gantt_default_columnheader_inner\", \"font-weight: bold;\"), e.add(\".gantt_default_columnheader_splitter\", \"background-color: #666;opacity: 0.5;filter: alpha(opacity=50);\"), e.add(\".gantt_default_columnheader_cell_inner\", \"padding: 2px;\"), e.add(\".gantt_default_cell\", \"background-color: #f9f9f9;\"), e.add(\".gantt_default_cell.gantt_default_cell_business\", \"background-color: #fff;\");\n        e.add(\".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected\", \"background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\");\n        e.add(\".gantt_default_tree_image_no_children\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);\"), e.add(\".gantt_default_tree_image_expand\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);\"), e.add(\".gantt_default_tree_image_collapse\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);\"), e.add(\".gantt_default_event_move_left\", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".gantt_default_event_move_right\", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".gantt_default_event_delete\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;\"), e.add(\".gantt_default_event_delete:hover\", \"opacity: 1;-ms-filter: none;\"), e.add(\".gantt_default_rowmove_handle\", \"background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;\"), e.add(\".gantt_default_rowmove_source\", \"background-color: black; opacity: 0.2;\"), e.add(\".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after\", \"background-color: #999; height: 2px;\"), e.add(\".gantt_default_rowmove_position_child\", \"margin-left: 10px; background-color: #999; height: 2px;\"), e.add(\".gantt_default_rowmove_position_child:before\", \"content: '+'; color: #999; position: absolute; top: -8px; left: -10px;\"), e.add(\".gantt_default_rowmove_position_forbidden\", \"background-color: red; height: 2px; margin-left: 10px;\"), e.add(\".gantt_default_rowmove_position_forbidden:before\", \"content: 'x'; color: red; position: absolute; top: -8px; left: -10px;\"), e.add(\".gantt_default_task_group .gantt_default_event_inner\", \"position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #1155cc; filter: none; border: 0px none;\"), e.add(\".gantt_default_task_group.gantt_default_event:before\", \"content:''; border-color: transparent transparent transparent #1155cc; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;\"), e.add(\".gantt_default_task_group.gantt_default_event:after\", \"content:''; border-color: transparent #1155cc transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;\"), e.add(\".gantt_default_task_milestone .gantt_default_event_inner\", \"position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;\"), e.add(\".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner\", \"-ms-filter: \\\"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\\\"\"), e.add(\".gantt_default_event_left\", \"white-space: nowrap; padding-top: 5px; color: #666; cursor: default;\"), e.add(\".gantt_default_event_right\", \"white-space: nowrap; padding-top: 5px; color: #666; cursor: default;\"), e.add(\".gantt_default_link_horizontal\", \"border-bottom-style: solid; border-bottom-color: red;\"), e.add(\".gantt_default_link_vertical\", \"border-right-style: solid; border-right-color: red;\"), e.add(\".gantt_default_link_arrow_right:before\", \"content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".gantt_default_link_arrow_left:before\", \"content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".gantt_default_link_arrow_down:before\", \"content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".gantt_default_link_arrow_up:before\", \"content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;\"), e.add(\".gantt_default_shadow_overlap .gantt_default_shadow_inner\", \"background-color: red;\"), e.add(\".gantt_default_block\", \"background-color: gray; opacity: 0.5; filter: alpha(opacity=50);\"), e.add(\".gantt_default_link_hover\", \"box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)\"), e.add(\".gantt_default_main .gantt_default_header_icon\", \"box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;\"), e.add(\".gantt_default_header_icon:hover\", \"background-color: #ccc;\"), e.add(\".gantt_default_header_icon_hide:before\", \"content: '\\\\00AB';\"), e.add(\".gantt_default_header_icon_show:before\", \"content: '\\\\00BB';\"), e.add(\".gantt_default_row_new .gantt_default_rowheader_inner\", \"cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);\"), e.add(\".gantt_default_row_new .gantt_default_rowheader_inner:hover\", \"background: white;\"), e.add(\".gantt_default_rowheader textarea\", \"padding: 5px;\"), e.add(\".gantt_default_rowheader_scroll\", \"cursor: default;\"), e.add(\".gantt_default_shadow_forbidden .gantt_default_shadow_inner\", \"background-color: red;\"), e.add(\".gantt_default_event_moving_source\", \"opacity: 0.5; filter: alpha(opacity=50);\"), e.add(\".gantt_default_event.gantt_default_event_version .gantt_default_event_inner\", \"background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before\", \"border:0;\"), e.add(\".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before\", 'content:\"\";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'), e.add(\".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner\", \"padding-left: 8px;\"), e.add(\".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before\", 'content:\"\";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'), e.add(\".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after\", \"border:0;\"), e.add(\".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after\", 'content:\"\";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'), e.add(\".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner\", \"padding-right: 8px;\"), e.add(\".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after\", 'content:\"\";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'), e.add(\".gantt_default_linkpoint\", \"background-color: white; border: 1px solid gray; border-radius: 5px;\"), e.add(\".gantt_default_linkpoint.gantt_default_linkpoint_hover\", \"background-color: black;\"), e.add(\".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top\", \"background-color: gray; opacity: 0.2; filter: alpha(opacity=20)\"), e.add(\".gantt_default_selectionrectangle\", \"background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;\"), e.add(\".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after\", \"box-sizing: content-box;\"), e.add(\".kanban_default_main\", \"box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;\"), e.add(\".kanban_default_selected .kanban_default_event_inner\", \"background: #ddd;\"), e.add(\".kanban_default_timeheader\", \"cursor: default;color: #333;\"), e.add(\".kanban_default_message\", \"opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;\"), e.add(\".kanban_default_colheadercell\", \"color: #333;background: #f3f3f3;\"), e.add(\".kanban_default_rowheader,.kanban_default_corner\", \"color: #333;background: #f3f3f3;\"), e.add(\".kanban_default_rowheader.kanban_default_rowheader_selected\", \"background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".kanban_default_rowheader_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;\"), e.add(\".kanban_default_colheadercell\", \"text-align: center;\"), e.add(\".kanban_default_colheadercell_inner\", \"position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;\"), e.add(\".kanban_default_divider, .kanban_default_splitter\", \"background-color: #c0c0c0;\"), e.add(\".kanban_default_divider_horizontal\", \"background-color: #c0c0c0;\"), e.add(\".kanban_default_matrix_vertical_line\", \"background-color: #eee;\"), e.add(\".kanban_default_matrix_vertical_break\", \"background-color: #000;\"), e.add(\".kanban_default_matrix_horizontal_line\", \"background-color: #eee;\"), e.add(\".kanban_default_rowheaderdivider\", \"background-color: #c0c0c0;\"), e.add(\".kanban_default_shadow_inner\", \"background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;\"), e.add(\".kanban_default_card\", \"font-size:12px;color:#333;\"), e.add(\".kanban_default_card_inner\", \"position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;\"), e.add(\".kanban_default_card_inner\", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr=\"#ffffff\", endColorStr=\"#eeeeee\");'), e.add(\".kanban_default_cell\", \"background-color: #fff;\"), e.add(\".kanban_default_cell.kanban_default_cell_selected\", \"background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;\"), e.add(\".kanban_default_tree_image_no_children\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);\"), e.add(\".kanban_default_tree_image_expand\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);\"), e.add(\".kanban_default_tree_image_collapse\", \"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);\"), e.add(\".kanban_default_card_delete\", \"background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;\"), e.add(\".kanban_default_card_delete:hover\", \"opacity: 1;-ms-filter: none;\"), e.add(\".kanban_default_rowmove_source\", \"background-color: black; opacity: 0.2;\"), e.add(\".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after\", \"background-color: #999; height: 2px;\"), e.add(\".kanban_default_rowmove_position_forbidden\", \"background-color: red; height: 2px; margin-left: 10px;\"), e.add(\".kanban_default_rowmove_position_forbidden:before\", \"content: 'x'; color: red; position: absolute; top: -8px; left: -10px;\"), e.add(\".kanban_default_block\", \"background-color: gray; opacity: 0.5; filter: alpha(opacity=50);\"), e.add(\".kanban_default_main .kanban_default_header_icon\", \"box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;\"), e.add(\".kanban_default_header_icon:hover\", \"background-color: #ccc;\"), e.add(\".kanban_default_header_icon_hide:before\", \"content: '\\\\00AB';\"), e.add(\".kanban_default_header_icon_show:before\", \"content: '\\\\00BB';\"), e.add(\".kanban_default_row_new .kanban_default_rowheader_inner\", \"cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);\"), e.add(\".kanban_default_row_new .kanban_default_rowheader_inner:hover\", \"background: white;\"), e.add(\".kanban_default_rowheader textarea\", \"padding: 3px;\"), e.add(\".kanban_default_rowheader_scroll\", \"cursor: default;\"), e.add(\".kanban_default_card_moving_source\", \"opacity: 0.5; filter: alpha(opacity=50);\"), e.add(\".kanban_default_card .kanban_default_card_inner\", \"padding: 5px 5px 5px 10px;\"), e.add(\".kanban_default_cell\", \"background-color: #fff;\"), e.add(\".kanban_default_rowmove_handle\", \"opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;\"), e.add(\".kanban_default_card_header\", \"font-size: 120%; font-weight: bold;\"), e.add(\".kanban_default_card_bar\", \"background-color: #cc0000; cursor:move;\"), e.add(\".kanban_default_cell.kanban_default_collapsed\", \"background-color: #eee;\"), e.add(\".kanban_default_swimlane_collapse\", \"cursor:pointer; border: 1px solid #ccc; text-align:center;\"), e.add(\".kanban_default_swimlane_collapse:before\", \"content: '^';\"), e.add(\".kanban_default_swimlane_expand\", \"cursor:pointer; border: 1px solid #ccc; text-align:center;\"), e.add(\".kanban_default_swimlane_expand:before\", \"content: '>';\"), e.add(\".kanban_default_columnmove_handle\", \"opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;\"), e.add(\".kanban_default_columnmove_position\", \"background-color: #333;\"), e.add(\".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top\", \"background-color: gray; opacity: 0.2; filter: alpha(opacity=20)\"), e.commit(), Abhaas.Global.defaultCss = !0;\n      }\n    }();\n\n    var o = function (e) {\n      var t = this;\n      this.id = e, this.widths = [], this.titles = [], this.height = null, this.splitterWidth = 3, this.css = {}, this.css.title = null, this.css.titleInner = null, this.css.splitter = null, this.enabled = !0, this.blocks = [], this.drag = {}, this.updated = function () {}, this.updating = function () {};\n      var i = {};\n      i.splitterWidth = function () {\n        return t.enabled ? t.splitterWidth : 1;\n      }, this.init = function () {\n        var n;\n        if (!e) throw \"error: id not provided\";\n        if (\"string\" == typeof e) n = document.getElementById(e);else {\n          if (!e.appendChild) throw \"error: invalid object provided\";\n          n = e;\n        }\n        this.div = n, this.blocks = [];\n\n        for (var a = 0; a < this.widths.length; a++) {\n          var o = document.createElement(\"div\");\n          o.style.display = \"inline-block\", null !== t.height ? o.style.height = t.height + \"px\" : o.style.height = \"100%\", o.style.width = this.widths[a] - i.splitterWidth() + \"px\", o.style.overflow = \"hidden\", o.style.position = \"relative\", o.setAttribute(\"unselectable\", \"on\"), o.className = this.css.title, n.appendChild(o);\n          var r = document.createElement(\"div\");\n          r.innerHTML = this.titles[a], r.setAttribute(\"unselectable\", \"on\"), r.className = this.css.titleInner, o.appendChild(r);\n          var l = document.createElement(\"div\");\n          l.style.display = \"inline-block\", null !== t.height ? l.style.height = t.height + \"px\" : l.style.height = \"100%\", l.style.width = i.splitterWidth() + \"px\", l.style.position = \"relative\", l.appendChild(document.createElement(\"div\")), t.enabled && (l.style.cursor = \"col-resize\"), l.setAttribute(\"unselectable\", \"on\"), l.className = this.css.splitter;\n          var s = {};\n          s.index = a, s.width = this.widths[a], l.data = s, l.onmousedown = function (e) {\n            if (t.enabled) {\n              var i = Abhaas.page(e);\n              i && (t.drag.start = i, t.drag.data = this.data, t.div.style.cursor = \"col-resize\", e = e || window.event, e.preventDefault ? e.preventDefault() : e.returnValue = !1);\n            }\n          }, n.appendChild(l);\n          var d = {};\n          d.section = o, d.handle = l, this.blocks.push(d);\n        }\n\n        this.registerGlobalHandlers();\n      }, this.updateWidths = function () {\n        for (var e = 0; e < this.blocks.length; e++) {\n          var t = this.blocks[e],\n              i = this.widths[e];\n          t.handle.data.width = i, this.n(e);\n        }\n      }, this.n = function (e) {\n        var t = this.blocks[e],\n            n = this.widths[e];\n        t.section.style.width = n - i.splitterWidth() + \"px\";\n      }, this.totalWidth = function () {\n        for (var e = 0, t = 0; t < this.widths.length; t++) e += this.widths[t];\n\n        return e;\n      }, this.gMouseMove = function (e) {\n        if (t.drag.start) {\n          var i = t.drag.data,\n              n = Abhaas.page(e);\n\n          if (n) {\n            var a = n.x - t.drag.start.x,\n                o = i.index;\n            t.widths[o] = Math.max(5, i.width + a), t.n(o);\n            var r = {};\n            r.widths = this.widths, r.index = i.index, t.updating(r);\n          }\n        }\n      }, this.gMouseUp = function (e) {\n        if (t.drag.start) {\n          t.drag.start = null, document.body.style.cursor = \"\", t.div.style.cursor = \"\";\n          var i = t.drag.data;\n          i.width = t.widths[i.index];\n          var n = {};\n          n.widths = this.widths, n.index = i.index, t.updated(n);\n        }\n      }, this.dispose = function () {\n        Abhaas.list(this.blocks).each(function (e) {\n          e.handle.onmousedown = null, Abhaas.de(e.section), Abhaas.de(e.handle);\n        }), this.unregisterGlobalHandlers();\n      }, this.registerGlobalHandlers = function () {\n        Abhaas.re(document, \"mousemove\", this.gMouseMove), Abhaas.re(document, \"mouseup\", this.gMouseUp);\n      }, this.unregisterGlobalHandlers = function () {\n        Abhaas.ue(document, \"mousemove\", this.gMouseMove), Abhaas.ue(document, \"mouseup\", this.gMouseUp);\n      };\n    };\n\n    Abhaas.Splitter = o;\n  }\n}(), function () {\n  \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  if (\"undefined\" == typeof Abhaas.Bubble) {\n    var e = {};\n    e.mouseMove = function (t) {\n      if (\"undefined\" != typeof e) {\n        e.mouse = e.mousePosition(t);\n        var i = e.active;\n\n        if (i && i.p.showPosition) {\n          var n = i.p.showPosition,\n              a = e.mouse;\n          n.clientX !== a.clientX || n.clientY !== a.clientY;\n        }\n      }\n    }, e.touchPosition = function (e) {\n      if (!e || !e.touches) return null;\n      var t = e.touches[0],\n          i = {};\n      return i.x = t.pageX, i.y = t.pageY, i.clientX = t.clientX, i.clientY = t.clientY, i;\n    }, e.mousePosition = function (e) {\n      var t = Abhaas.mo3(null, e);\n      return e && (t.clientY = e.clientY, t.clientX = e.clientX), t;\n    }, Abhaas.Bubble = function (t) {\n      this.v = \"2019.3.4000\";\n      var i = this,\n          n = {};\n      if (this.cssOnly = !0, this.hideAfter = 500, this.loadingText = \"Loading...\", this.animated = !0, this.animation = \"fast\", this.position = \"EventTop\", this.hideOnClick = !0, this.showAfter = 500, this.showLoadingLabel = !0, this.zIndex = 10, this.theme = \"bubble_default\", this.onLoad = null, this.onBeforeDomAdd = null, this.onBeforeDomRemove = null, this.p = function () {}, this.callBack = function (e) {\n        this.aspnet() ? WebForm_DoCallback(this.uniqueID, JSON.stringify(e), this.updateView, this, this.callbackError, !0) : e.calendar.internal.bubbleCallBack ? e.calendar.internal.bubbleCallBack(e, this) : e.calendar.bubbleCallBack(e, this);\n      }, this.callbackError = function (e, t) {\n        alert(e + \"ab\");\n      }, this.updateView = function (t, a) {\n        if (i !== a) throw \"Callback object mismatch (internal error)\";\n        if (!t) return i.removeDiv(), void i.removeShadow();\n        var o = null,\n            r = null,\n            l = null;\n\n        if (\"string\" == typeof t ? r = t : \"object\" == typeof t && (o = t, r = t.html, l = t.element), e.active = i, i) {\n          var s = !1;\n          if (n.div) if (l) {\n            n.div.firstChild.innerHTML = \"\";\n            var d = Abhaas.Util.isReactComponent(l);\n\n            if (d) {\n              var c = i.q.calendar && i.q.calendar.internal.reactRefs().reactDOM;\n              if (!c) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n              c.render(l, n.div.firstChild);\n            } else n.div.firstChild.appendChild(l);\n\n            n.div.domArgs = o, s = !0;\n          } else r && (n.div.firstChild.innerHTML = r, s = !0);\n          s && (i.adjustPosition(), i.animated || i.addShadow());\n        }\n      }, this.init = function () {}, this.aspnet = function () {\n        return \"undefined\" != typeof WebForm_DoCallback;\n      }, this.rounded = function () {\n        return \"Rounded\" === this.corners;\n      }, this.showEvent = function (t, i) {\n        var n = new e.CallBackArgs(t.calendar || t.root, \"Event\", t, t.bubbleHtml ? t.bubbleHtml() : null);\n        i ? this.show(n) : this.showOnMouseOver(n);\n      }, this.showCell = function (t) {\n        e.cancelShowing();\n        var i = new e.CallBackArgs(t.calendar || t.root, \"Cell\", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null);\n        this.showOnMouseOver(i);\n      }, this.showTime = function (t) {\n        var i = new e.CallBackArgs(t.calendar || t.root, \"Time\", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null);\n        this.showOnMouseOver(i);\n      }, this.showResource = function (t, i) {\n        var n = {};\n        n.calendar = t.calendar, n.id = t.id, n.name = t.name, n.start = t.start, t.bubbleHtml ? n.bubbleHtml = function () {\n          return t.bubbleHtml;\n        } : t.data && t.data.bubbleHtml && (n.bubbleHtml = function () {\n          return t.data.bubbleHtml;\n        }), n.toJSON = function () {\n          var e = {};\n          return e.id = this.id, e;\n        };\n        var a = new e.CallBackArgs(n.calendar || n.root, \"Resource\", n, n.bubbleHtml ? n.bubbleHtml() : null);\n        a.div = t.div, i ? this.show(a) : this.showOnMouseOver(a);\n      }, this.r = function (e) {\n        return {};\n      }, this.showHtml = function (t, i) {\n        var n = new e.CallBackArgs(null, \"Html\", null, t);\n        n.div = i, this.show(n);\n      }, this.show = function (t) {\n        if (i.s(t)) {\n          var a = this.animated;\n          if (this.p.showPosition = e.mouse, e.showing = null, !e.mouse) return void setTimeout(function () {\n            i.show(t);\n          }, 100);\n          var o = this.getDiv(t);\n\n          if (\"EventTop\" === this.position && o) {\n            var r = 2,\n                l = Abhaas.abs(o, !0);\n            if (!l) return;\n            this.p.mouse = e.mouse, this.p.mouse.x = l.x, this.p.mouse.y = l.y, this.p.mouse.h = l.h + r, this.p.mouse.w = l.w;\n          } else this.p.mouse = e.mouse;\n\n          var s;\n\n          try {\n            s = JSON.stringify(t.object);\n          } catch (e) {\n            return;\n          }\n\n          if (!(e.active === this && this.p.sourceId === s || \"undefined\" != typeof Abhaas.Menu && Abhaas.Menu.active)) {\n            i.cssOnly || (i.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), e.hideActive(), e.active = this, this.p.sourceId = s;\n            var d = document.createElement(\"div\");\n            d.setAttribute(\"unselectable\", \"on\"), d.style.position = \"absolute\", this.showLoadingLabel || (d.style.display = \"none\"), this.cssOnly ? d.className = this.t(\"_main\") : (this.width && (d.style.width = this.width), d.style.cursor = \"default\"), d.style.top = \"0px\", d.style.left = \"0px\", d.style.zIndex = this.zIndex + 1, a && (d.style.visibility = \"hidden\"), this.hideOnClick && (d.onclick = function () {\n              e.hideActive();\n            }), d.onmousemove = function (t) {\n              e.cancelShowing(), e.cancelHiding();\n              var t = t || window.event;\n              t.cancelBubble = !0;\n            }, d.oncontextmenu = function () {\n              return !1;\n            }, d.onmouseout = function () {\n              i.delayedHide();\n            };\n            var c = document.createElement(\"div\");\n            d.appendChild(c), this.cssOnly && (c.className = this.t(\"_main_inner\")), c.innerHTML = this.loadingText, document.body.appendChild(d), n.div = d, i.q = function () {}, i.q.calendar = t.calendar;\n            var h = {};\n            h.source = t.object, h.async = !1, h.html = t.staticHTML, h.loaded = function () {\n              this.async && i.u(h);\n            }, this.showLoadingLabel && !a && (this.adjustPosition(), this.addShadow()), t.staticHTML && \"function\" != typeof this.onLoad ? i.u(h) : \"function\" == typeof this.onLoad ? (this.onLoad(h), h.async || i.u(h)) : \"function\" == typeof i.onDomAdd || \"function\" == typeof i.onBeforeDomAdd ? i.u(h) : this.z(t) && this.callBack(t);\n          }\n        }\n      }, this.s = function (e) {\n        return !!e.staticHTML || \"function\" == typeof this.onLoad || \"function\" == typeof i.onDomAdd || \"function\" == typeof i.onBeforeDomAdd || !!this.z(e);\n      }, this.u = function (e) {\n        var t = {};\n        t.source = e.source, t.html = e.html, t.element = null, \"function\" == typeof i.onDomAdd && i.onDomAdd(t), \"function\" == typeof i.onBeforeDomAdd && i.onBeforeDomAdd(t), i.updateView(t, i);\n      }, this.getDiv = function (e) {\n        return e.div ? e.div : \"Event\" === e.type && e.calendar && e.calendar.internal.findEventDiv ? e.calendar.internal.findEventDiv(e.object) : void 0;\n      }, this.t = function (e) {\n        var t = this.theme || this.cssClassPrefix;\n        return t ? t + e : \"\";\n      }, this.loadingElement = null, this.loadingStart = function (e) {}, this.loadingStop = function () {}, this.adjustPosition = function () {\n        var t = this.animated,\n            a = this.position,\n            o = 10;\n\n        if (n.div && this.p.mouse) {\n          if (!this.p.mouse.x || !this.p.mouse.y) return void e.hideActive();\n          var r = n.div;\n          r.style.display = \"\";\n          var l = r.offsetHeight,\n              s = r.offsetWidth;\n          r.style.display = \"none\";\n          var d = Abhaas.wd(),\n              c = d.width,\n              h = d.height,\n              u = \"bottom\",\n              f = \"left\";\n\n          if (\"Mouse\" === a) {\n            var v = 0;\n\n            if (this.p.mouse.clientY > h - l + o) {\n              this.p.mouse.clientY - (h - l) + o;\n              v = this.p.mouse.y - l - 10;\n            } else v = this.p.mouse.y + 22;\n\n            if (\"number\" == typeof v && (r.style.top = Math.max(v, 0) + \"px\"), this.p.mouse.clientX > c - s + o) {\n              var p = this.p.mouse.clientX - (c - s) + o;\n              r.style.left = this.p.mouse.x - p + \"px\";\n            } else r.style.left = this.p.mouse.x + \"px\";\n          } else if (\"EventTop\" === a) {\n            var g = 2,\n                v = this.p.mouse.y - l - g,\n                m = d.scrollTop;\n            v < m && (v = this.p.mouse.y + this.p.mouse.h + g, u = \"top\"), \"number\" == typeof v && (r.style.top = Math.max(v, 0) + \"px\");\n            var y = this.p.mouse.x;\n            this.p.mouse.x + s + o > c && (y = c - s - o, f = \"right\"), r.style.left = y + \"px\";\n          }\n\n          if (r.style.display = \"\", t) {\n            r.style.display = \"\";\n            var b = {};\n            b.color = r.firstChild.style.color, b.overflow = r.style.overflow, r.firstChild.style.color = \"transparent\", r.style.overflow = \"hidden\", this.removeShadow(), Abhaas.pop(r, {\n              \"finished\": function () {\n                r.firstChild.style.color = b.color, r.style.overflow = b.overflow, i.addShadow();\n              },\n              \"vertical\": u,\n              \"horizontal\": f,\n              \"animation\": i.animation\n            });\n          }\n        }\n      }, this.delayedHide = function () {\n        e.showing === this && e.cancelShowing();\n        var t = e.active;\n\n        if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {\n          var i = t.hideAfter;\n          e.timeoutHide = window.setTimeout(e.hideActive, i);\n        }\n      }, this.showOnMouseOver = function (t) {\n        e.active === this && e.cancelHiding();\n\n        var n = function (e) {\n          return function () {\n            i.show(e);\n          };\n        };\n\n        clearTimeout(e.timeoutShow), e.timeoutShow = window.setTimeout(n(t), this.showAfter), e.showing = this;\n      }, this.hideOnMouseOut = function () {\n        this.delayedHide();\n      }, this.z = function (e) {\n        return !!e.calendar.backendUrl || !(\"function\" != typeof WebForm_DoCallback || !this.uniqueID);\n      }, this.addShadow = function () {\n        this.cssOnly;\n      }, this.removeShadow = function () {\n        if (this.shadows) {\n          for (var e = 0; e < this.shadows.length; e++) document.body.removeChild(this.shadows[e]);\n\n          this.shadows = [];\n        }\n      }, this.removeDiv = function () {\n        if (n.div) {\n          var e = n.div.domArgs;\n\n          if (n.div.domArgs = null, \"function\" == typeof i.onDomRemove && i.onDomRemove(e), \"function\" == typeof i.onBeforeDomRemove && i.onBeforeDomRemove(e), \"function\" == typeof i.onDomAdd || \"function\" == typeof i.onBeforeDomAdd) {\n            var t = n.div.firstChild;\n\n            if (t) {\n              if (Abhaas.Util.isReactComponent(e.element)) {\n                var a = i.q.calendar && i.q.calendar.internal.reactRefs().reactDOM;\n                if (!a) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n                a.unmountComponentAtNode(t);\n              }\n            }\n          }\n\n          document.body.removeChild(n.div), n.div = null;\n        }\n      }, t) for (var a in t) this[a] = t[a];\n      this.init();\n    }, Abhaas.Bubble.touchPosition = function (t) {\n      t.touches && (e.mouse = e.touchPosition(t));\n    }, e.cancelShowing = function () {\n      e.showing = null, e.timeoutShow && (window.clearTimeout(e.timeoutShow), e.timeoutShow = null);\n    }, e.cancelHiding = function () {\n      e.timeoutHide && window.clearTimeout(e.timeoutHide);\n    }, e.hideActive = function () {\n      e.cancelHiding();\n      var t = e.active;\n      t && (t.removeDiv(), t.removeShadow()), e.active = null;\n    }, e.CallBackArgs = function (e, t, i, n) {\n      this.calendar = e, this.type = t, this.object = i, this.staticHTML = n, this.toJSON = function () {\n        var e = {};\n        return e.uid = this.calendar.uniqueID, e.type = this.type, e.object = i, e;\n      };\n    }, Abhaas.re(document, \"mousemove\", e.mouseMove), Abhaas.Bubble.hideActive = e.hideActive, Abhaas.Bubble.cancelShowing = e.cancelShowing, Abhaas.Bubble.hide = function () {\n      e.hideActive();\n    }, \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  if (\"undefined\" == typeof Abhaas.Calendar) {\n    var e = 10;\n\n    Abhaas.Calendar = function (i, n) {\n      this.v = \"2019.3.4000\";\n      var a = !1;\n      if (this instanceof Abhaas.Calendar && !this.A && (a = !0, this.A = !0), !a) throw \"Abhaas.Calendar() is a constructor and must be called as 'var c = new Abhaas.Calendar(id);'\";\n      var o = this;\n      this.uniqueID = null, this.clientName = i, this.id = i, this.isCalendar = !0, this.allDayEnd = \"DateTime\", this.allDayEventHeight = 25, this.allowEventOverlap = !0, this.allowMultiSelect = !0, this.api = 2, this.autoRefreshCommand = \"refresh\", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.backendUrl = null, \"function\" == typeof Abhaas.Bubble ? this.bubble = new Abhaas.Bubble() : this.bubble = null, this.cellBubble = null, this.columnBubble = null, this.businessBeginsHour = 9, this.businessEndsHour = 18, this.cellHeight = 30, this.cellDuration = 30, this.clientState = {}, this.columnMarginRight = 5, this.columnWidth = 200, this.columnWidthSpec = \"Auto\", this.columnsLoadMethod = \"GET\", this.contextMenu = null, this.contextMenuSelection = null, this.cornerHtml = \"\", this.crosshairType = \"Header\", this.cssOnly = !0, this.dayBeginsHour = 0, this.dayEndsHour = 24, this.days = 1, this.doubleClickTimeout = 300, this.durationBarVisible = !0, this.eventArrangement = \"Cascade\", this.eventsLoadMethod = \"GET\", this.headerHeight = 30, this.headerLevels = 1, this.height = 300, this.heightSpec = \"BusinessHours\", this.hideFreeCells = !1, this.hideUntilInit = !0, this.headerDateFormat = null, this.hourWidth = 60, this.initEventEnabled = !1, this.initScrollPos = null, this.loadingLabelText = \"Loading...\", this.loadingLabelVisible = !0, this.locale = \"en-us\", this.messageHideAfter = 5e3, this.moveBy = \"Full\", this.notifyCommit = \"Immediate\", this.rtl = !1, this.scrollLabelsVisible = !1, this.showToolTip = !0, this.showAllDayEvents = !1, this.showEventStartEnd = !1, this.showHeader = !0, this.showHours = !0, this.showCurrentTime = !0, this.showCurrentTimeMode = \"Day\", this.showCurrentTimeOffset = 0, this.startDate = Abhaas.Date.today(), this.cssClassPrefix = \"calendar_default\", this.tapAndHoldTimeout = 300, this.theme = null, this.timeFormat = \"Auto\", this.timeHeaderCellDuration = 60, this.timeRangeSelectingStartEndEnabled = !1, this.timeRangeSelectingStartEndFormat = \"Auto\", this.eventMovingStartEndEnabled = !1, this.eventMovingStartEndFormat = \"Auto\", this.eventResizingStartEndEnabled = !1, this.eventResizingStartEndFormat = \"Auto\", this.useEventBoxes = \"Always\", this.viewType = \"Days\", this.visible = !0, this.weekStarts = \"Auto\", this.width = null, this.eventClickHandling = \"Enabled\", this.eventDoubleClickHandling = \"Disabled\", this.eventRightClickHandling = \"ContextMenu\", this.eventDeleteHandling = \"Disabled\", this.eventEditHandling = \"Update\", this.eventHoverHandling = \"Bubble\", this.eventResizeHandling = \"Update\", this.eventMoveHandling = \"Update\", this.eventSelectHandling = \"Update\", this.eventTapAndHoldHandling = \"Move\", this.headerClickHandling = \"Enabled\", this.timeRangeTapAndHoldHandling = \"Select\", this.timeRangeSelectedHandling = \"Enabled\", this.timeRangeDoubleClickHandling = \"Disabled\", this.timeRangeRightClickHandling = \"ContextMenu\", this.onAutoRefresh = null, this.onColumnFilter = null, this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onEventFilter = null, this.onEventMove = null, this.onEventMoved = null, this.onEventMoving = null, this.onEventResize = null, this.onEventResized = null, this.onEventResizing = null, this.onEventSelect = null, this.onEventSelected = null, this.onEventEdit = null, this.onEventEdited = null, this.onEventDelete = null, this.onEventDeleted = null, this.onHeaderClick = null, this.onHeaderClicked = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventDoubleClick = null, this.onEventDoubleClicked = null, this.onEventClick = null, this.onEventClicked = null, this.onBeforeEventRender = null, this.onBeforeEventExport = null, this.onAfterEventRender = null, this.onBeforeCellRender = null, this.onBeforeCellExport = null, this.onBeforeCornerRender = null, this.onBeforeHeaderRender = null, this.onBeforeHeaderExport = null, this.onBeforeTimeHeaderRender = null, this.B = !0, this.C = e, this.D = !0, this.E = !0, this.F = !0, this.G = {}, this.G.pixels = {}, this.G.events = [], this.elements = {}, this.elements.events = [], this.elements.separators = [], this.elements.selection = [], this.events = {}, this.nav = {}, this.H = 0, this.I = !1, this.members = {}, this.members.obsolete = [\"Init\", \"cleanSelection\", \"cssClassPrefix\", \"cssOnly\", \"clientName\", \"uniqueID\"], this.members.ignore = [\"internal\", \"nav\", \"debug\", \"temp\", \"elements\", \"members\", \"onCallbackError\"], this.members.noCssOnly = [], this.J = \"javasc\", this.K = {}, this.K.ie = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"MSIE\") !== -1, this.K.ie9 = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"MSIE 9\") !== -1, this.K.ielt9 = function () {\n        var e = document.createElement(\"div\");\n        return e.innerHTML = \"<!--[if lt IE 9]><i></i><![endif]-->\", 1 === e.getElementsByTagName(\"i\").length;\n      }(), this.K.ff = navigator && navigator.userAgent && navigator.userAgent.indexOf(\"Firefox\") !== -1, this.clearSelection = function () {\n        return this.selectedCells ? (t.topSelectedCell = null, t.bottomSelectedCell = null, Abhaas.Global.selecting = null, this.L(), void (this.selectedCells = [])) : void (this.selectedCells = []);\n      }, this.L = function () {\n        this.selectedCells && (Abhaas.de(o.elements.selection), o.elements.selection = [], o.nav.activeSelection = null);\n      }, this.cleanSelection = this.clearSelection, this.M = function (e, t, i) {\n        var n = {};\n        n.action = e, n.parameters = i, n.data = t, n.header = this.N();\n        var a = \"JSON\" + JSON.stringify(n);\n\n        __doPostBack(o.uniqueID, a);\n      }, this.O = function (e, t, i, n) {\n        if (!this.z()) return void o.debug.message(\"Callback invoked without the server-side backend specified. Callback canceled.\", \"warning\");\n        \"undefined\" == typeof n && (n = \"CallBack\"), o.P();\n        var a = {};\n        a.action = e, a.type = n, a.parameters = t, a.data = i, a.header = this.N();\n        var r = \"JSON\" + JSON.stringify(a);\n        this.backendUrl ? Abhaas.request(this.backendUrl, this.Q, r, this.R) : \"function\" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.S, this.clientName, this.onCallbackError, !0);\n      }, this.z = function () {\n        return \"javasc\" !== o.J && o.J.indexOf(\"DCODE\") === -1 || o.devsb;\n      }, this.T = function () {\n        return !(\"function\" != typeof WebForm_DoCallback || !this.uniqueID);\n      }, this.R = function (e) {\n        if (\"function\" == typeof o.onAjaxError) {\n          var t = {};\n          t.request = e, o.onAjaxError(t);\n        } else \"function\" == typeof o.ajaxError && o.ajaxError(e);\n      }, this.dispose = function () {\n        var e = o;\n        e.nav.top && (e.U(), e.V(), e.nav.messageClose && (e.nav.messageClose.onclick = null), e.nav.hourTable && (e.nav.hourTable.oncontextmenu = null), e.nav.hourTable && (e.nav.hourTable.onmousemove = null), e.nav.header && (e.nav.header.oncontextmenu = null), e.nav.corner && (e.nav.corner.oncontextmenu = null), e.nav.zoom.onmousemove = null, e.nav.zoom.oncontextmenu = null, e.nav.scroll.onscroll = null, e.nav.scroll.root = null, Abhaas.pu(e.nav.loading), e.W(), e.X(), e.nav.select = null, e.nav.cornerRight = null, e.nav.scrollable = null, e.nav.bottomLeft = null, e.nav.bottomRight = null, e.nav.allday = null, e.nav.zoom = null, e.nav.loading = null, e.nav.events = null, e.nav.header = null, e.nav.hourTable = null, e.nav.scrolltop = null, e.nav.scroll = null, e.nav.vsph = null, e.nav.main = null, e.nav.message = null, e.nav.messageClose = null, e.nav.top.removeAttribute(\"style\"), e.nav.top.removeAttribute(\"class\"), e.nav.top.innerHTML = \"\", e.nav.top.dp = null, e.nav.top = null, Abhaas.ue(window, \"resize\", e.Y), t.unregister(e));\n      }, this.Z = function () {\n        this.nav.top.dispose = this.dispose;\n      }, this.Q = function (e) {\n        o.S(e.responseText);\n      }, this.N = function () {\n        var e = {};\n        return e.v = this.v, e.control = \"dpc\", e.id = this.id, e.clientState = o.clientState, e.columns = this._(), e.days = o.days, e.startDate = o.startDate, e.cellDuration = o.cellDuration, e.cssClassPrefix = o.cssClassPrefix, e.heightSpec = o.heightSpec, e.businessBeginsHour = o.businessBeginsHour, e.businessEndsHour = o.businessEndsHour, e.viewType = o.viewType, e.dayBeginsHour = o.dayBeginsHour, e.dayEndsHour = o.dayEndsHour, e.headerLevels = o.headerLevels, e.eventHeaderVisible = o.eventHeaderVisible, e.timeFormat = o.timeFormat, e.timeHeaderCellDuration = o.timeHeaderCellDuration, e.locale = o.locale, e.scrollY = o.scrollPos, e.showAllDayEvents = o.showAllDayEvents, e.tagFields = o.tagFields, e.weekStarts = o.weekStarts, e.selected = o.multiselect.events(), e.hashes = o.hashes, e;\n      }, this.aa = function () {\n        this.ba(), Abhaas.Areas.hideAll();\n      }, this._ = function () {\n        var e = [];\n        if (e.ignoreToJSON = !0, !this.ca) return e;\n\n        for (var t = 0; t < this.ca.length; t++) {\n          var i = this.ca[t],\n              n = this.da(i);\n          e.push(n);\n        }\n\n        return e;\n      }, this.da = function (e) {\n        var t = {};\n        return t.Value = e.id, t.Name = e.name, t.ToolTip = e.toolTip, t.Date = e.start, t.Children = this.ea(e.children), t;\n      }, this.ea = function (e) {\n        var t = [];\n        if (t.ignoreToJSON = !0, !e) return t;\n\n        for (var i = 0; i < e.length; i++) t.push(this.da(e[i]));\n\n        return t;\n      }, this.S = function (e, t) {\n        var e = JSON.parse(e);\n\n        if (e.BubbleGuid) {\n          var i = e.BubbleGuid,\n              n = this.bubbles[i];\n          return delete this.bubbles[i], o.fa(), void (\"undefined\" != typeof e.Result.BubbleHTML && n.updateView(e.Result.BubbleHTML, n));\n        }\n\n        if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);\n        if (\"undefined\" != typeof e.ClientState && (o.clientState = e.ClientState), \"None\" === e.UpdateType) return o.fa(), o.ga(e.CallBackData, !0), void (e.Message && o.message(e.Message));\n\n        if (e.VsUpdate) {\n          var a = document.createElement(\"input\");\n          a.type = \"hidden\", a.name = o.id + \"_vsupdate\", a.id = a.name, a.value = e.VsUpdate, o.nav.vsph.innerHTML = \"\", o.nav.vsph.appendChild(a);\n        }\n\n        if (o.V(), o.multiselect.clear(!0), o.multiselect.ha = e.SelectedEvents, \"undefined\" != typeof e.TagFields && (o.tagFields = e.TagFields), \"undefined\" != typeof e.SortDirections && (o.sortDirections = e.SortDirections), \"Full\" === e.UpdateType && (o.colors = e.Colors, o.palette = e.Palette, o.dirtyColors = e.DirtyColors, o.cellProperties = e.CellProperties, o.cellConfig = e.CellConfig, o.ia() === o.columns ? o.columns = e.Columns : o.columns.list = e.Columns, o.days = e.Days, o.startDate = new Abhaas.Date(e.StartDate).getDatePart(), o.cellDuration = e.CellDuration, o.heightSpec = e.HeightSpec ? e.HeightSpec : o.heightSpec, o.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : o.businessBeginsHour, o.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : o.businessEndsHour, o.viewType = e.ViewType, o.headerLevels = e.HeaderLevels, o.backColor = e.BackColor ? e.BackColor : o.backColor, o.nonBusinessBackColor = e.NonBusinessBackColor ? e.NonBusinessBackColor : o.nonBusinessBackColor, o.eventHeaderVisible = e.EventHeaderVisible ? e.EventHeaderVisible : o.eventHeaderVisible, o.timeFormat = e.TimeFormat ? e.TimeFormat : o.timeFormat, o.timeHeaderCellDuration = \"undefined\" != typeof e.TimeHeaderCellDuration ? e.TimeHeaderCellDuration : o.timeHeaderCellDuration, o.locale = e.Locale ? e.Locale : o.locale, o.dayBeginsHour = \"undefined\" != typeof e.DayBeginsHour ? e.DayBeginsHour : o.dayBeginsHour, o.dayEndsHour = \"undefined\" != typeof e.DayEndsHour ? e.DayEndsHour : o.dayEndsHour, o.cornerHtml = e.CornerHTML, o.hours = e.Hours, o.ja(), o.ka()), e.Hashes) for (var r in e.Hashes) o.hashes[r] = e.Hashes[r];\n\n        if (o.la(e.Events), o.ma(), (\"Full\" === e.UpdateType || o.hideFreeCells) && (o.na(), o.oa(), o.pa(), o.qa(), o.ra(), o.sa(), o.ta(), o.va(), o.clearSelection(), o.wa(), \"undefined\" != typeof e.ScrollY ? o.scrollToY(e.ScrollY) : o.scrollToY(o.initScrollPos)), o.xa(), o.ya(), o.za(), o.Aa(), \"Parent100Pct\" === o.heightSpec && o.Y(), \"HoldForever\" !== o.timeRangeSelectedHandling && o.clearSelection(), o.Ba(), o.todo && o.todo.del) {\n          var l = o.todo.del;\n          l.parentNode.removeChild(l), o.todo.del = null;\n        }\n\n        o.ga(e.CallBackData, !0), o.fa(), o.Ca(), e.Message && o.message(e.Message);\n      }, this.ga = function (e, t) {\n        var i = function (e, t) {\n          return function () {\n            if (o.Da()) {\n              if (\"function\" == typeof o.onAfterRender) {\n                var i = {};\n                i.isCallBack = t, i.data = e, o.onAfterRender(i);\n              }\n            } else o.afterRender && o.afterRender(e, t);\n          };\n        };\n\n        window.setTimeout(i(e, t), 0);\n      }, this.Ea = function (e, t) {\n        var i = o.nav.events,\n            n = i.rows[0].cells.length,\n            a = i.clientWidth / n,\n            r = Math.floor(o.coords.x / a);\n        r < 0 && (r = 0), r >= n && (r = n - 1), o.rtl && (r = o.Fa.length - r - 1);\n        var l = i.rows[0].cells[r],\n            s = 0,\n            d = 0,\n            c = 0;\n\n        if (\"undefined\" != typeof e.duration) {\n          var h = e.duration;\n          c = Math.floor((o.coords.y - s + o.cellHeight / 2) / o.cellHeight) * o.cellHeight + s, d = h * o.cellHeight / (60 * o.cellDuration), d = Math.max(d, o.cellHeight);\n        } else {\n          var u = e.event;\n          d = u.part.height, c = u.part.top;\n        }\n\n        var f = document.createElement(\"div\");\n        f.setAttribute(\"unselectable\", \"on\"), f.style.position = \"absolute\", f.style.width = \"100%\", f.style.height = d + \"px\", f.style.left = \"0px\", f.style.top = c + \"px\", f.style.zIndex = o.C, f.exclude = !0;\n        var v = document.createElement(\"div\");\n        return f.appendChild(v), f.className = o.t(\"_shadow\"), v.className = this.t(\"_shadow_inner\"), l.events.appendChild(f), f;\n      }, this.Ga = function () {\n        return this.Ha() / 36e5;\n      }, this.Ia = function () {\n        return this.businessBeginsHour > this.businessEndsHour ? 24 - this.businessBeginsHour + this.businessEndsHour : this.businessEndsHour - this.businessBeginsHour;\n      }, this.Ja = function () {\n        return this.dayBeginsHour >= this.dayEndsHour ? 24 - this.dayBeginsHour + this.dayEndsHour : this.dayEndsHour - this.dayBeginsHour;\n      }, this.Ha = function (e) {\n        var t = 0;\n        if (\"BusinessHoursNoScroll\" === this.heightSpec) t = this.Ia();else if (this.hideFreeCells && !e) {\n          var i = (this.Ka - 1) * this.cellDuration / this.cellHeight,\n              n = Math.ceil(i / 60),\n              a = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;\n          t = Math.max(this.dayBeginsHour + n, a) - this.La();\n        } else t = this.Ja();\n        return 60 * t * 60 * 1e3;\n      }, this.message = function (e, t, i, n) {\n        if (e) {\n          var a,\n              t = t || this.messageHideAfter || 2e3,\n              r = this.Ma(),\n              l = this.showHours ? this.hourWidth : 0,\n              s = Abhaas.sw(o.Na());\n\n          if (o.rtl) {\n            var d = l;\n            l = s, s = d;\n          }\n\n          if (this.nav.message) a = o.nav.message, this.nav.message.style.top = r + \"px\";else {\n            a = document.createElement(\"div\"), a.style.position = \"absolute\", a.style.left = l + \"px\", a.style.top = r + \"px\", a.style.right = \"0px\", a.style.display = \"none\", a.onmousemove = function () {\n              a.messageTimeout && !a.status && clearTimeout(a.messageTimeout);\n            }, a.onmouseout = function () {\n              \"none\" !== o.nav.message.style.display && (a.messageTimeout = setTimeout(o.Oa, 500));\n            };\n            var c = document.createElement(\"div\");\n            c.onclick = function () {\n              o.nav.message.style.display = \"none\";\n            }, c.className = this.t(\"_message\"), a.appendChild(c);\n            var h = document.createElement(\"div\");\n            h.style.position = \"absolute\", h.className = this.t(\"_message_close\"), h.onclick = function () {\n              o.nav.message.style.display = \"none\";\n            }, a.appendChild(h), this.nav.top.insertBefore(a, this.nav.loading), this.nav.message = a, this.nav.messageClose = h;\n          }\n          this.nav.cornerRight ? this.nav.message.style.right = s + \"px\" : this.nav.message.style.right = \"0px\";\n\n          var u = function () {\n            if (o.nav.message) {\n              o.nav.message.firstChild.innerHTML = e;\n\n              var i = function () {\n                a.messageTimeout = setTimeout(o.Oa, t);\n              };\n\n              Abhaas.fade(o.nav.message, .2, i);\n            }\n          };\n\n          clearTimeout(a.messageTimeout), \"none\" !== this.nav.message.style.display ? Abhaas.fade(o.nav.message, -.2, u) : u();\n        }\n      }, this.message.show = function (e) {\n        o.message(e);\n      }, this.message.hide = function () {\n        o.Oa();\n      }, this.Oa = function () {\n        var e = function () {\n          o.nav.message.style.display = \"none\";\n        };\n\n        Abhaas.fade(o.nav.message, -.2, e);\n      }, this.qa = function () {\n        this.nav.message && (this.nav.message.style.top = this.Ma() + \"px\");\n      }, this.Pa = function () {\n        return this.Ha() / (6e4 * this.cellDuration);\n      }, this.eventClickPostBack = function (e, t) {\n        this.M(\"EventClick\", t, e);\n      }, this.eventClickCallBack = function (e, t) {\n        this.O(\"EventClick\", e, t);\n      }, this.Qa = function (e) {\n        var t = this,\n            e = e || window.event,\n            i = e.ctrlKey,\n            n = e.metaKey;\n        if (\"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), \"Disabled\" === o.eventDoubleClickHandling) return void o.Ra(t, i, n, e);\n\n        if (o.timeouts) {\n          for (var a in o.timeouts) window.clearTimeout(o.timeouts[a]);\n\n          o.timeouts = [];\n        } else o.timeouts = [];\n\n        var r = function (e, t, i, n) {\n          return function () {\n            o.Ra(e, t, i, n);\n          };\n        };\n\n        o.timeouts.push(window.setTimeout(r(this, i, n, e), o.doubleClickTimeout));\n      }, this.Ra = function (e, t, i, n) {\n        var a = e.event;\n        if (a.client.clickEnabled()) if (o.Da()) {\n          var r = {};\n          if (r.e = a, r.ctrl = t, r.meta = i, r.originalEvent = n, r.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onEventClick && (o.onEventClick(r), r.preventDefault.value)) return;\n\n          switch (o.eventClickHandling) {\n            case \"PostBack\":\n              o.eventClickPostBack(a);\n              break;\n\n            case \"CallBack\":\n              o.eventClickCallBack(a);\n              break;\n\n            case \"Edit\":\n              o.Sa(e);\n              break;\n\n            case \"Select\":\n              o.Ta(e, a, t, i);\n              break;\n\n            case \"Bubble\":\n              o.bubble && o.bubble.showEvent(a);\n              break;\n\n            case \"ContextMenu\":\n              var l = a.client.contextMenu();\n              l ? l.show(a) : o.contextMenu && o.contextMenu.show(a);\n          }\n\n          \"function\" == typeof o.onEventClicked && o.onEventClicked(r);\n        } else switch (o.eventClickHandling) {\n          case \"PostBack\":\n            o.eventClickPostBack(a);\n            break;\n\n          case \"CallBack\":\n            o.eventClickCallBack(a);\n            break;\n\n          case \"JavaScript\":\n            o.onEventClick(a);\n            break;\n\n          case \"Edit\":\n            o.Sa(e);\n            break;\n\n          case \"Select\":\n            o.Ta(e, a, t, i);\n            break;\n\n          case \"Bubble\":\n            o.bubble && o.bubble.showEvent(a);\n            break;\n\n          case \"ContextMenu\":\n            var l = a.client.contextMenu();\n            l ? l.show(a) : o.contextMenu && o.contextMenu.show(a);\n        }\n      }, this.eventDoubleClickPostBack = function (e, t) {\n        this.M(\"EventDoubleClick\", t, e);\n      }, this.eventDoubleClickCallBack = function (e, t) {\n        this.O(\"EventDoubleClick\", e, t);\n      }, this.Ua = function (e) {\n        if (\"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), o.timeouts) {\n          for (var t in o.timeouts) window.clearTimeout(o.timeouts[t]);\n\n          o.timeouts = null;\n        }\n\n        var i = this.event,\n            e = e || window.event;\n\n        if (o.Da()) {\n          var n = {};\n          if (n.e = i, n.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onEventDoubleClick && (o.onEventDoubleClick(n), n.preventDefault.value)) return;\n\n          switch (o.eventDoubleClickHandling) {\n            case \"PostBack\":\n              o.eventDoubleClickPostBack(i);\n              break;\n\n            case \"CallBack\":\n              o.eventDoubleClickCallBack(i);\n              break;\n\n            case \"Edit\":\n              i.allday() || o.Sa(this);\n              break;\n\n            case \"Select\":\n              i.allday() || o.Ta(this, i, e.ctrlKey);\n              break;\n\n            case \"Bubble\":\n              o.bubble && o.bubble.showEvent(i);\n          }\n\n          \"function\" == typeof o.onEventDoubleClicked && o.onEventDoubleClicked(n);\n        } else switch (o.eventDoubleClickHandling) {\n          case \"PostBack\":\n            o.eventDoubleClickPostBack(i);\n            break;\n\n          case \"CallBack\":\n            o.eventDoubleClickCallBack(i);\n            break;\n\n          case \"JavaScript\":\n            o.onEventDoubleClick(i);\n            break;\n\n          case \"Edit\":\n            i.allday() || o.Sa(this);\n            break;\n\n          case \"Select\":\n            i.allday() || o.Ta(this, i, e.ctrlKey);\n            break;\n\n          case \"Bubble\":\n            o.bubble && o.bubble.showEvent(i);\n        }\n      }, this.eventRightClickPostBack = function (e, t) {\n        this.M(\"EventRightClick\", t, e);\n      }, this.eventRightClickCallBack = function (e, t) {\n        this.O(\"EventRightClick\", e, t);\n      }, this.Va = function (e) {\n        var t = this.event;\n        if (e.stopPropagation && e.stopPropagation(), !t.client.rightClickEnabled()) return !1;\n\n        if (o.Da()) {\n          var i = {};\n          if (i.e = t, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onEventRightClick && (o.onEventRightClick(i), i.preventDefault.value)) return !1;\n\n          switch (o.eventRightClickHandling) {\n            case \"PostBack\":\n              o.eventRightClickPostBack(t);\n              break;\n\n            case \"CallBack\":\n              o.eventRightClickCallBack(t);\n              break;\n\n            case \"ContextMenu\":\n              var n = t.client.contextMenu();\n              n ? n.show(t) : o.contextMenu && o.contextMenu.show(this.event);\n              break;\n\n            case \"Bubble\":\n              o.bubble && o.bubble.showEvent(t);\n          }\n\n          \"function\" == typeof o.onEventRightClicked && o.onEventRightClicked(i);\n        } else switch (o.eventRightClickHandling) {\n          case \"PostBack\":\n            o.eventRightClickPostBack(t);\n            break;\n\n          case \"CallBack\":\n            o.eventRightClickCallBack(t);\n            break;\n\n          case \"JavaScript\":\n            o.onEventRightClick(t);\n            break;\n\n          case \"ContextMenu\":\n            var n = t.client.contextMenu();\n            n ? n.show(t) : o.contextMenu && o.contextMenu.show(this.event);\n            break;\n\n          case \"Bubble\":\n            o.bubble && o.bubble.showEvent(t);\n        }\n\n        return e.preventDefault && e.preventDefault(), !1;\n      };\n\n      this.headerClickPostBack = function (e, t) {\n        this.M(\"HeaderClick\", t, e);\n      };\n\n      this.headerClickCallBack = function (e, t) {\n        this.O(\"HeaderClick\", e, t);\n      }, this.Wa = function (e) {\n        var i = this.data,\n            n = new t.Column(i.id, i.name, i.start);\n\n        if (o.Da()) {\n          var a = {};\n          if (a.header = {}, a.header.id = i.id, a.header.name = i.name, a.header.start = i.start, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onHeaderClick && (o.onHeaderClick(a), a.preventDefault.value)) return;\n\n          switch (o.headerClickHandling) {\n            case \"PostBack\":\n              o.headerClickPostBack(n);\n              break;\n\n            case \"CallBack\":\n              o.headerClickCallBack(n);\n          }\n\n          \"function\" == typeof o.onHeaderClicked && o.onHeaderClicked(a);\n        } else switch (o.headerClickHandling) {\n          case \"PostBack\":\n            o.headerClickPostBack(n);\n            break;\n\n          case \"CallBack\":\n            o.headerClickCallBack(n);\n            break;\n\n          case \"JavaScript\":\n            o.onHeaderClick(n);\n        }\n      }, this.Xa = function () {\n        if (\"undefined\" != typeof Abhaas.Bubble && o.columnBubble) if (\"Resources\" === o.viewType) {\n          var e = {};\n          e.calendar = o, e.start = this.data.start, e.name = this.data.name, e.id = this.data.id, e.toJSON = function () {\n            var e = {};\n            return e.id = this.id, e.start = this.start, e.name = this.name, e;\n          }, o.columnBubble.showResource(e);\n        } else {\n          var i = new Abhaas.Date(this.data.start),\n              n = i.addDays(1),\n              a = {};\n          a.calendar = o, a.start = i, a.end = n, a.toJSON = function () {\n            var e = {};\n            return e.start = this.start, e.end = this.end, e;\n          }, o.columnBubble.showTime(a);\n        }\n        var r = this,\n            l = r.firstChild;\n\n        if (!l.active) {\n          var s = r.data,\n              d = new t.Column(s.id, s.name, s.start);\n          d.areas = r.data.areas, Abhaas.Areas.showAreas(l, d);\n        }\n      }, this.Ya = function (e) {\n        \"undefined\" != typeof Abhaas.Bubble && o.columnBubble && o.columnBubble.hideOnMouseOut(), Abhaas.Areas.hideAreas(this.firstChild, e);\n      }, this.eventDeletePostBack = function (e, t) {\n        this.M(\"EventDelete\", t, e);\n      }, this.eventDeleteCallBack = function (e, t) {\n        this.O(\"EventDelete\", e, t);\n      }, this.Za = function (e) {\n        var t;\n\n        if (t = e && e.isEvent ? e : e.parentNode.parentNode.event, \"undefined\" != typeof Abhaas.Bubble && (Abhaas.Bubble.hideActive(), Abhaas.Bubble.cancelShowing()), o.Da()) {\n          var i = {};\n          if (i.e = t, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onEventDelete && (o.onEventDelete(i), i.preventDefault.value)) return;\n\n          switch (o.eventDeleteHandling) {\n            case \"PostBack\":\n              o.eventDeletePostBack(t);\n              break;\n\n            case \"CallBack\":\n              o.eventDeleteCallBack(t);\n              break;\n\n            case \"Update\":\n              o.events.remove(t);\n          }\n\n          \"function\" == typeof o.onEventDeleted && o.onEventDeleted(i);\n        } else switch (o.eventDeleteHandling) {\n          case \"PostBack\":\n            o.eventDeletePostBack(t);\n            break;\n\n          case \"CallBack\":\n            o.eventDeleteCallBack(t);\n            break;\n\n          case \"JavaScript\":\n            o.onEventDelete(t);\n        }\n      }, this.eventResizePostBack = function (e, t, i, n) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var a = {};\n        a.e = e, a.newStart = t, a.newEnd = i, this.M(\"EventResize\", n, a);\n      }, this.eventResizeCallBack = function (e, t, i, n) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var a = {};\n        a.e = e, a.newStart = t, a.newEnd = i, this.O(\"EventResize\", a, n);\n      }, this.$a = function (e, t, i, n) {\n        if (\"PostBack\" === e) o.postBack2(t, i, n);else if (\"CallBack\" === e) o.O(t, i, n, \"CallBack\");else if (\"Immediate\" === e) o.O(t, i, n, \"Notify\");else if (\"Queue\" === e) o.queue.add(new Abhaas.Action(this, t, i, n));else {\n          if (\"Notify\" !== e) throw \"Invalid event invocation type\";\n          \"Notify\" === l.notifyType() ? o.O(t, i, n, \"Notify\") : o.queue.add(new Abhaas.Action(o, t, i, n));\n        }\n      }, this.La = function (e) {\n        if (\"BusinessHoursNoScroll\" === this.heightSpec) return this.businessBeginsHour;\n\n        if (this.hideFreeCells && !e) {\n          var t = this._a * this.cellDuration / this.cellHeight,\n              i = Math.floor(t / 60);\n          return i = Math.max(0, i), Math.min(this.dayBeginsHour + i, this.businessBeginsHour);\n        }\n\n        return this.dayBeginsHour;\n      }, this.visibleStart = function () {\n        if (\"Resources\" === o.viewType) {\n          if (o.Fa.isEmpty()) return Abhaas.Date.today();\n          var e = Abhaas.list(o.Fa).map(function (e) {\n            return e.start.getTime();\n          }),\n              t = Math.min.apply(null, e);\n          return new Abhaas.Date(t);\n        }\n\n        return this.Fa[0].start;\n      }, this.visibleEnd = function () {\n        if (\"Resources\" === o.viewType) {\n          if (o.Fa.isEmpty()) return Abhaas.Date.today().addDays(1);\n          var e = Abhaas.list(o.Fa).map(function (e) {\n            return e.start.getTime();\n          }),\n              t = Math.max.apply(null, e);\n          return new Abhaas.Date(t).addDays(1);\n        }\n\n        var i = this.Fa,\n            t = i.length - 1;\n        return i[t].start.addDays(1);\n      }, this.Da = function () {\n        return 2 === o.api;\n      }, this.ab = function (e, t) {\n        var i = e.start(),\n            n = i.getDatePart(),\n            a = Math.floor(t / o.cellHeight),\n            r = a * o.cellDuration,\n            l = 60 * r * 1e3,\n            s = 60 * o.La() * 60 * 1e3;\n        return n.addTime(l + s);\n      }, this.bb = function (e, t) {\n        var i = Math.floor(t / o.cellHeight),\n            n = i * o.cellDuration,\n            a = 60 * n * 1e3,\n            r = 60 * o.La() * 60 * 1e3;\n        return o.Fa[e.part.dayIndex].start.addTime(a + r);\n      }, this.cb = function (e, t, i, n) {\n        if (\"Disabled\" !== this.eventResizeHandling) {\n          var a, r;\n\n          if (\"top\" === n ? (a = o.ab(e, i), r = e.end()) : \"bottom\" === n && (a = e.start(), r = o.bb(e, i + t)), o.Da()) {\n            var l = {};\n            if (l.e = e, l.newStart = a, l.newEnd = r, l.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof o.onEventResize && (o.onEventResize(l), l.preventDefault.value)) return;\n\n            switch (o.eventResizeHandling) {\n              case \"PostBack\":\n                o.eventResizePostBack(e, a, r);\n                break;\n\n              case \"CallBack\":\n                o.eventResizeCallBack(e, a, r);\n                break;\n\n              case \"Notify\":\n                o.eventResizeNotify(e, a, r);\n                break;\n\n              case \"Update\":\n                e.start(a), e.end(r), o.events.update(e);\n            }\n\n            \"function\" == typeof o.onEventResized && o.onEventResized(l);\n          } else switch (o.eventResizeHandling) {\n            case \"PostBack\":\n              o.eventResizePostBack(e, a, r);\n              break;\n\n            case \"CallBack\":\n              o.eventResizeCallBack(e, a, r);\n              break;\n\n            case \"JavaScript\":\n              o.onEventResize(e, a, r);\n              break;\n\n            case \"Notify\":\n              o.eventResizeNotify(e, a, r);\n          }\n        }\n      }, this.eventResizeNotify = function (e, t, i, n) {\n        var a = new Abhaas.Event(e.copy(), this);\n        e.start(t), e.end(i), e.commit(), o.update(), this.db(\"Notify\", a, t, i, n);\n      }, this.db = function (e, t, i, n, a) {\n        var o = {};\n        o.e = t, o.newStart = i, o.newEnd = n, this.$a(e, \"EventResize\", o, a);\n      }, this.eventMovePostBack = function (e, t, i, n, a) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var o = {};\n        o.e = e, o.newStart = t, o.newEnd = i, o.newResource = n, this.M(\"EventMove\", a, o);\n      }, this.eventMoveCallBack = function (e, t, i, n, a) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var o = {};\n        o.e = e, o.newStart = t, o.newEnd = i, o.newResource = n, this.O(\"EventMove\", o, a);\n      }, this.eb = function (e, t, i) {\n        var n = 0,\n            a = Math.floor((i - n) / o.cellHeight),\n            r = o.cellDuration,\n            l = a * r * 60 * 1e3,\n            s = e.start(),\n            d = e.end(),\n            c = new Date();\n        s instanceof Abhaas.Date && (s = s.toDate()), c.setTime(Date.UTC(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate()));\n        var h = \"Never\" !== o.useEventBoxes ? s.getTime() - (c.getTime() + 3600 * s.getUTCHours() * 1e3 + Math.floor(s.getUTCMinutes() / r) * r * 60 * 1e3) : 0,\n            u = d.getTime() - s.getTime(),\n            f = 3600 * o.La() * 1e3;\n        \"undefined\" == typeof t && (t = e.part.dayIndex);\n        var v = this.Fa[t],\n            p = v.start.getTime(),\n            g = new Date();\n        g.setTime(p + l + h + f);\n        var m = new Abhaas.Date(g);\n        return {\n          \"start\": m,\n          \"end\": m.addTime(u),\n          \"resource\": v.id\n        };\n      }, this.fb = function (e, t, i, n, a) {\n        if (\"Disabled\" !== o.eventMoveHandling) {\n          var r = o.eb(e, t, i),\n              l = r.start,\n              s = r.end,\n              d = r.resource,\n              c = !!a;\n\n          if (o.Da()) {\n            var h = {};\n            if (h.e = e, h.newStart = r.start, h.newEnd = r.end, h.newResource = r.resource, h.external = c, h.ctrl = !1, n && (h.ctrl = n.ctrlKey), h.shift = !1, n && (h.shift = n.shiftKey), h.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof o.onEventMove && (o.onEventMove(h), h.preventDefault.value)) return;\n\n            switch (o.eventMoveHandling) {\n              case \"PostBack\":\n                o.eventMovePostBack(e, l, s, d);\n                break;\n\n              case \"CallBack\":\n                o.eventMoveCallBack(e, l, s, d);\n                break;\n\n              case \"Notify\":\n                o.eventMoveNotify(e, l, s, d);\n                break;\n\n              case \"Update\":\n                e.start(l), e.end(s), e.resource(d), c ? (e.commit(), o.events.add(e)) : o.events.update(e), o.gb();\n            }\n\n            \"function\" == typeof o.onEventMoved && o.onEventMoved(h);\n          } else switch (o.eventMoveHandling) {\n            case \"PostBack\":\n              o.eventMovePostBack(e, l, s, d);\n              break;\n\n            case \"CallBack\":\n              o.eventMoveCallBack(e, l, s, d);\n              break;\n\n            case \"JavaScript\":\n              o.onEventMove(e, l, s, d, c, !!n && n.ctrlKey, !!n && n.shiftKey);\n              break;\n\n            case \"Notify\":\n              o.eventMoveNotify(e, l, s, d, null);\n          }\n        }\n      }, this.eventMoveNotify = function (e, t, i, n, a) {\n        var r = new Abhaas.Event(e.copy(), this);\n        e.start(t), e.end(i), e.resource(n), e.commit(), o.update(), this.hb(\"Notify\", r, t, i, n, a);\n      }, this.hb = function (e, t, i, n, a, o) {\n        var r = {};\n        r.e = t, r.newStart = i, r.newEnd = n, r.newResource = a, this.$a(e, \"EventMove\", r, o);\n      }, this.gb = function () {\n        if (o.todo && o.todo.del) {\n          var e = o.todo.del;\n          e.parentNode.removeChild(e), o.todo.del = null;\n        }\n      }, this.ib = function (e, t) {\n        var i = o.jb(t),\n            n = {};\n        n.args = e, n.guid = i, o.O(\"Bubble\", n);\n      }, this.jb = function (e) {\n        var t = Abhaas.guid();\n        return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t;\n      }, this.eventMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.command = t, this.M(\"EventMenuClick\", i, n);\n      }, this.eventMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.command = t, this.O(\"EventMenuClick\", n, i);\n      }, this.kb = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            o.eventMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            o.eventMenuClickCallBack(t, e);\n        }\n      }, this.timeRangeMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.selection = e, n.command = t, this.M(\"TimeRangeMenuClick\", i, n);\n      }, this.timeRangeMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.selection = e, n.command = t, this.O(\"TimeRangeMenuClick\", n, i);\n      }, this.lb = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            o.timeRangeMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            o.timeRangeMenuClickCallBack(t, e);\n        }\n      }, this.timeRangeSelectedPostBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.M(\"TimeRangeSelected\", n, a);\n      }, this.timeRangeSelectedCallBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.O(\"TimeRangeSelected\", a, n);\n      }, this.mb = function (e, t, i) {\n        e = new Abhaas.Date(e), t = new Abhaas.Date(t);\n        var n = i;\n\n        if (o.Da()) {\n          var a = {};\n          if (a.start = e, a.end = t, a.resource = n, a.control = o, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, a.toJSON = function () {\n            return Abhaas.Util.copyProps(a, {}, [\"start\", \"end\", \"resource\"]);\n          }, \"function\" == typeof o.onTimeRangeSelect && (o.onTimeRangeSelect(a), a.preventDefault.value)) return;\n\n          switch (o.timeRangeSelectedHandling) {\n            case \"PostBack\":\n              o.timeRangeSelectedPostBack(e, t, n);\n              break;\n\n            case \"CallBack\":\n              o.timeRangeSelectedCallBack(e, t, n);\n          }\n\n          \"function\" == typeof o.onTimeRangeSelected && o.onTimeRangeSelected(a);\n        } else switch (o.timeRangeSelectedHandling) {\n          case \"PostBack\":\n            o.timeRangeSelectedPostBack(e, t, i);\n            break;\n\n          case \"CallBack\":\n            o.timeRangeSelectedCallBack(e, t, i);\n            break;\n\n          case \"JavaScript\":\n            o.onTimeRangeSelected(e, t, i);\n        }\n      }, this.timeRangeDoubleClickPostBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.M(\"TimeRangeDoubleClick\", n, a);\n      }, this.timeRangeDoubleClickCallBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.O(\"TimeRangeDoubleClick\", a, n);\n      }, this.nb = function (e, t, i) {\n        if (o.Da()) {\n          var n = i,\n              a = {};\n          if (a.start = e, a.end = t, a.resource = n, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onTimeRangeDoubleClick && (o.onTimeRangeDoubleClick(a), a.preventDefault.value)) return;\n\n          switch (o.timeRangeDoubleClickHandling) {\n            case \"PostBack\":\n              o.timeRangeDoubleClickPostBack(e, t, n);\n              break;\n\n            case \"CallBack\":\n              o.timeRangeDoubleClickCallBack(e, t, n);\n          }\n\n          \"function\" == typeof o.onTimeRangeDoubleClicked && o.onTimeRangeDoubleClicked(a);\n        } else switch (o.timeRangeDoubleClickHandling) {\n          case \"PostBack\":\n            o.timeRangeDoubleClickPostBack(e, t, i);\n            break;\n\n          case \"CallBack\":\n            o.timeRangeDoubleClickCallBack(e, t, i);\n            break;\n\n          case \"JavaScript\":\n            o.onTimeRangeDoubleClick(e, t, i);\n        }\n      }, this.eventEditPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.newText = t, this.M(\"EventEdit\", i, n);\n      }, this.eventEditCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.newText = t, this.O(\"EventEdit\", n, i);\n      }, this.ob = function (e, t) {\n        if (o.Da()) {\n          var i = {};\n          if (i.e = e, i.newText = t, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onEventEdit && (o.onEventEdit(i), i.preventDefault.value)) return;\n\n          switch (o.eventEditHandling) {\n            case \"PostBack\":\n              o.eventEditPostBack(e, t);\n              break;\n\n            case \"CallBack\":\n              o.eventEditCallBack(e, t);\n              break;\n\n            case \"Update\":\n              e.text(t), o.events.update(e);\n          }\n\n          if (\"function\" == typeof o.onEventEdited && (o.onEventEdited(i), i.preventDefault.value)) return;\n        } else switch (o.eventEditHandling) {\n          case \"PostBack\":\n            o.eventEditPostBack(e, t);\n            break;\n\n          case \"CallBack\":\n            o.eventEditCallBack(e, t);\n            break;\n\n          case \"JavaScript\":\n            o.onEventEdit(e, t);\n        }\n      }, this.eventSelectPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.change = t, this.M(\"EventSelect\", i, n);\n      }, this.eventSelectCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.change = t, this.O(\"EventSelect\", n, i);\n      }, this.pb = function (e, t, i, n) {\n        var a = o.multiselect,\n            r = a.isSelected(t);\n        if (i || n || !r || 1 !== a.qb.length) if (o.Da()) {\n          a.previous = a.events();\n          var l = {};\n          if (l.e = t, l.selected = a.isSelected(t), l.ctrl = i, l.meta = n, l.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof o.onEventSelect && (o.onEventSelect(l), l.preventDefault.value)) return;\n\n          switch (o.eventSelectHandling) {\n            case \"PostBack\":\n              o.eventSelectPostBack(t, s);\n              break;\n\n            case \"CallBack\":\n              \"undefined\" != typeof WebForm_InitCallback && (window.rb = \"\", window.sb = [], WebForm_InitCallback()), o.eventSelectCallBack(t, s);\n              break;\n\n            case \"Update\":\n              a.tb(e, i);\n          }\n\n          \"function\" == typeof o.onEventSelected && (l.change = a.isSelected(t) ? \"selected\" : \"deselected\", l.selected = a.isSelected(t), o.onEventSelected(l));\n        } else {\n          a.previous = a.events(), a.tb(e, i);\n          var s = a.isSelected(t) ? \"selected\" : \"deselected\";\n\n          switch (o.eventSelectHandling) {\n            case \"PostBack\":\n              o.eventSelectPostBack(t, s);\n              break;\n\n            case \"CallBack\":\n              \"undefined\" != typeof WebForm_InitCallback && (window.rb = \"\", window.sb = [], WebForm_InitCallback()), o.eventSelectCallBack(t, s);\n              break;\n\n            case \"JavaScript\":\n              o.onEventSelect(t, s);\n          }\n        }\n      }, this.commandCallBack = function (e, t) {\n        this.U();\n        var i = {};\n        i.command = e, this.O(\"Command\", i, t);\n      }, this.ub = function (e) {\n        if (!r.active && !r.using && (clearTimeout(t.selectedTimeout), !Abhaas.Global.selecting)) {\n          if (t.editing) return void t.editing.blur();\n          if (o.selectedCells && \"Disabled\" !== o.timeRangeDoubleClickHandling) for (var i = 0; i < o.selectedCells.length; i++) if (this === o.selectedCells[i]) return;\n\n          if (\"Disabled\" !== o.timeRangeSelectedHandling) {\n            Abhaas.Util.mouseButton(e).left && (t.firstMousePos = o.coords, t.firstMousePos.calendar = o, o.clearSelection(), t.topSelectedCell = this, t.bottomSelectedCell = this, t.column = t.getColumn(this), o.selectedCells.push(this), t.firstSelected = this, Abhaas.Global.selecting = {\n              \"calendar\": o\n            }, o.vb());\n          }\n        }\n      }, this.vb = function () {\n        this.getSelection() && o.selectedCells && !function () {\n          var e = t.topSelectedCell,\n              i = t.bottomSelectedCell,\n              n = function () {\n            if (e.data) return e.data.x;\n\n            for (var t = e.parentNode.cells, i = 0; i < t.length; i++) if (t[i] === e) return i;\n\n            return -1;\n          }(),\n              a = o.timeRangeSelectingStartEndFormat;\n\n          \"Auto\" === a && (a = \"Clock24Hours\" === l.timeFormat() ? \"H:mm\" : \"h:mm tt\");\n          var r = o.Fa[n];\n\n          if (r) {\n            var s = {};\n            s.start = e.start, s.end = i.end, s.duration = new Abhaas.Duration(s.start, s.end), s.resource = r.id, s.allowed = !0, s.html = null, s.cssClass = null, s.top = {}, s.top.width = null, s.top.space = 5, s.top.html = s.start.toString(a, l.locale()), s.top.enabled = o.timeRangeSelectingStartEndEnabled, s.bottom = {}, s.bottom.width = null, s.bottom.space = 5, s.bottom.html = s.end.toString(a, l.locale()), s.bottom.enabled = o.timeRangeSelectingStartEndEnabled;\n            var d = Abhaas.Global.selecting && Abhaas.Global.selecting.args;\n\n            if (!d || d.start !== s.start || d.end !== s.end || d.resource != s.resource) {\n              if (!o.allowEventOverlap) {\n                var c = {\n                  \"id\": null,\n                  \"start\": s.start,\n                  \"end\": s.end,\n                  \"resource\": s.resource\n                };\n                o.events.wb(c) && (s.allowed = !1);\n              }\n\n              o.xb(s.start, s.end, s.resource) && (s.allowed = !1), \"function\" == typeof o.onTimeRangeSelecting && s.allowed && o.onTimeRangeSelecting(s), Abhaas.Global.selecting && (Abhaas.Global.selecting.args = s);\n\n              var h = o.yb(e.start, r.start).boxTop - o.zb(),\n                  u = o.yb(i.end, r.start).boxBottom - o.zb(),\n                  f = u - h,\n                  v = function () {\n                if (o.nav.activeSelection) return o.nav.activeSelection;\n                var e = document.createElement(\"div\");\n                e.style.zIndex = o.C, e.style.position = \"absolute\", e.style.left = \"0px\", e.style.width = \"100%\", e.ondblclick = function (e) {\n                  if (\"Disabled\" !== o.timeRangeDoubleClickHandling) {\n                    clearTimeout(o.Ab);\n                    var t = o.getSelection();\n                    t && o.nb(t.start, t.end, t.resource);\n                  }\n                };\n                var t = document.createElement(\"div\");\n                return t.className = o.t(\"_shadow_inner\"), e.appendChild(t), o.nav.events.rows[0].cells[n].selection.appendChild(e), o.elements.selection.push(e), o.nav.activeSelection = e, e;\n              }();\n\n              v.className = o.t(\"_shadow\"), v.firstChild.innerHTML = \"\", v.style.top = h + \"px\", v.style.height = f + \"px\";\n              var p = v.firstChild;\n              s.html && (p.innerHTML = s.html), s.cssClass && Abhaas.Util.addClass(v, s.cssClass), s.allowed || Abhaas.Util.addClass(v, o.t(\"_shadow_forbidden\")), o.Bb(v, n, s);\n            }\n          }\n        }();\n      }, this.Cb = function (e) {\n        Abhaas.de(e), Abhaas.de(o.nav.indicatorTop), Abhaas.de(o.nav.indicatorBottom);\n      }, this.Bb = function (e, t, i) {\n        var n = o.nav.events.rows[0].cells,\n            a = n[t].events,\n            r = t === n.length - 1;\n\n        if (Abhaas.de(o.nav.indicatorTop), Abhaas.de(o.nav.indicatorBottom), i.top.enabled) {\n          var l = document.createElement(\"div\");\n          l.style.zIndex = o.C, l.style.position = \"absolute\", l.style.top = e.offsetTop + \"px\", r ? l.style.right = \"0px\" : l.style.left = e.offsetWidth + i.top.space + \"px\", i.top.width ? l.style.width = i.top.width + \"px\" : l.style.whiteSpace = \"nowrap\", i.top.html && (l.innerHTML = i.top.html), l.className = o.t(\"_shadow_top\"), a.appendChild(l), o.elements.selection.push(l), o.nav.indicatorTop = l;\n        }\n\n        if (i.bottom.enabled) {\n          var s = document.createElement(\"div\");\n          s.style.zIndex = o.C, s.style.position = \"absolute\", s.style.top = e.offsetTop + e.offsetHeight + \"px\", r ? s.style.right = \"0px\" : s.style.left = e.offsetWidth + i.bottom.space + \"px\", i.bottom.width ? s.style.width = i.bottom.width + \"px\" : s.style.whiteSpace = \"nowrap\", i.bottom.html && (s.innerHTML = i.bottom.html), s.className = o.t(\"_shadow_bottom\"), a.appendChild(s);\n          var d = s.offsetHeight;\n          s.style.top = e.offsetTop + e.offsetHeight - d + \"px\", o.elements.selection.push(s), o.nav.indicatorBottom = s;\n        }\n      }, this.Db = function (e) {\n        \"undefined\" != typeof Abhaas.Bubble && o.cellBubble && o.cellBubble.hideOnMouseOut();\n      }, this.Eb = function (e) {\n        if (\"undefined\" != typeof t && !r.active && !r.using && \"undefined\" != typeof Abhaas.Bubble && o.cellBubble) {\n          var i = t.getColumn(this),\n              n = o.Fa[i].id,\n              a = {};\n          a.calendar = o, a.start = this.start, a.end = this.end, a.resource = n, a.toJSON = function () {\n            var e = {};\n            return e.start = this.start, e.end = this.end, e.resource = this.resource, e;\n          }, o.cellBubble.showCell(a);\n        }\n      }, this.getSelection = function () {\n        if (!t.topSelectedCell) return null;\n        if (!t.bottomSelectedCell) return null;\n        var e = t.topSelectedCell.start,\n            i = t.bottomSelectedCell.end,\n            n = t.topSelectedCell.resource;\n        return new Abhaas.Selection(e, i, n, o);\n      }, this.Fb = function (e) {}, this.Gb = function (e) {\n        if (\"Fixed\" === o.columnWidthSpec || o.D) {\n          if (!o.nav.bottomLeft) return;\n          o.nav.bottomLeft.scrollTop = o.nav.bottomRight.scrollTop, o.nav.upperRight && (o.nav.upperRight.scrollLeft = o.nav.bottomRight.scrollLeft), o.nav.scrollLayer.scrollLeft = o.nav.bottomRight.scrollLeft;\n        }\n\n        var t = o.Hb();\n        o.scrollPos = t.scrollTop, o.Ib = t.clientHeight, o.nav.scrollpos.value = o.scrollPos, o.Ba();\n      }, this.Ba = function () {\n        if (this.scrollLabelsVisible && this.Jb) {\n          if (this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0) {\n            for (var e = (this.Fa, this.showHours ? this.hourWidth : 0), t = this.nav.main.rows[0].cells[0].clientWidth, i = 1, n = 0; n < this.nav.scrollUp.length; n++) {\n              var a = this.nav.scrollUp[n],\n                  r = this.nav.scrollDown[n],\n                  l = Math.floor(e + n * t + t / 2 - 5 + i);\n              l < 0 && (l = 0), l -= o.nav.bottomRight.scrollLeft, a && a.style && (a.style.left = l + \"px\"), r && r.style && (r.style.left = l + \"px\");\n            }\n\n            for (var s = this.zb(), n = 0; n < this.nav.scrollUp.length; n++) {\n              var d = this.nav.scrollUp[n],\n                  c = this.nav.scrollDown[n],\n                  h = this.Jb[n].minEnd - s,\n                  u = this.Jb[n].maxStart - s;\n              d && c && (h <= o.scrollPos && parseInt(d.style.left) >= o.hourWidth ? (d.style.top = this.Ma() + \"px\", d.style.display = \"\") : d.style.display = \"none\", u >= o.scrollPos + o.Ib && parseInt(c.style.left) >= o.hourWidth ? (c.style.top = this.Ma() + this.Ib - 10 + \"px\", c.style.display = \"\") : c.style.display = \"none\");\n            }\n          }\n        }\n      }, this.Kb = function (e) {\n        var t = e.parentNode,\n            i = 0,\n            n = e.offsetTop,\n            a = e.parentNode.offsetWidth,\n            o = e.offsetHeight;\n        e.event.allday() && (i = e.offsetLeft, a = e.offsetWidth);\n        var r = document.createElement(\"textarea\");\n        r.style.boxSizing = \"border-box\", r.style.position = \"absolute\", r.style.width = a + \"px\", r.style.height = o + \"px\";\n        var l = Abhaas.gs(e, \"fontFamily\");\n        l || (l = Abhaas.gs(e, \"font-family\")), r.style.fontFamily = l;\n        var s = Abhaas.gs(e, \"fontSize\");\n        return s || (s = Abhaas.gs(e, \"font-size\")), r.style.fontSize = s, r.style.left = i + \"px\", r.style.top = n + \"px\", r.style.border = \"1px solid black\", r.style.padding = \"0px\", r.style.marginTop = \"0px\", r.style.backgroundColor = \"white\", r.value = Abhaas.tr(e.event.text()), r.event = e.event, t.appendChild(r), r;\n      }, this.Ta = function (e, t, i, n) {\n        o.pb(e, t, i, n);\n      }, this.multiselect = {}, this.multiselect.ha = [], this.multiselect.qb = [], this.multiselect.Lb = [], this.multiselect.Mb = [], this.multiselect.Nb = function () {\n        var e = o.multiselect;\n        return JSON.stringify(e.events());\n      }, this.multiselect.events = function () {\n        var e = o.multiselect,\n            t = [];\n        t.ignoreToJSON = !0;\n\n        for (var i = 0; i < e.qb.length; i++) t.push(e.qb[i]);\n\n        return t;\n      }, this.multiselect.Ob = function () {\n        o.nav.select.value = o.multiselect.Nb();\n      }, this.multiselect.tb = function (e, t) {\n        var i = o.multiselect;\n        if (i.isSelected(e.event)) {\n          if (o.allowMultiSelect) {\n            if (t) i.remove(e.event, !0);else {\n              var n = i.qb.length;\n              i.clear(!0), n > 1 && i.add(e.event, !0);\n            }\n          } else i.clear(!0);\n        } else o.allowMultiSelect && t ? i.add(e.event, !0) : (i.clear(!0), i.add(e.event, !0));\n        i.redraw(), i.Ob();\n      }, this.multiselect.Pb = function (e) {\n        var t = o.multiselect;\n        return t.Qb(e, t.ha);\n      }, this.multiselect.Rb = function () {\n        for (var e = o.multiselect, t = [], i = 0; i < e.qb.length; i++) {\n          var n = e.qb[i];\n          t.push(n.value());\n        }\n\n        alert(t.join(\"\\n\") + \"ab\");\n      }, this.multiselect.add = function (e, t) {\n        var i = o.multiselect;\n        i.Sb(e) === -1 && i.qb.push(e), i.Ob(), t || i.redraw();\n      }, this.multiselect.remove = function (e, t) {\n        var i = o.multiselect,\n            n = i.Sb(e);\n        n !== -1 && i.qb.splice(n, 1), i.Ob(), t || i.redraw();\n      }, this.multiselect.clear = function (e) {\n        var t = o.multiselect;\n        t.qb = [], t.Ob(), e || t.redraw();\n      }, this.multiselect.redraw = function () {\n        for (var e = o.multiselect, t = 0; t < o.elements.events.length; t++) {\n          var i = o.elements.events[t];\n          e.isSelected(i.event) ? e.Tb(i) : e.Ub(i);\n        }\n      }, this.multiselect.Tb = function (e) {\n        var t = o.multiselect,\n            i = o.t(\"_selected\"),\n            n = t.Vb(e);\n        Abhaas.Util.addClass(n, i), t.Lb.push(e);\n      }, this.multiselect.Vb = function (e) {\n        return e;\n      }, this.multiselect.Wb = function () {\n        for (var e = o.multiselect, t = 0; t < e.Lb.length; t++) {\n          var i = e.Lb[t];\n          e.Ub(i, !0);\n        }\n\n        e.Lb = [];\n      }, this.multiselect.Ub = function (e, t) {\n        var i = o.multiselect,\n            n = o.t(\"_selected\"),\n            a = i.Vb(e);\n\n        if (Abhaas.Util.removeClass(a, n), !t) {\n          var r = Abhaas.indexOf(i.Lb, e);\n          r !== -1 && i.Lb.splice(r, 1);\n        }\n      }, this.multiselect.isSelected = function (e) {\n        return o.multiselect.Qb(e, o.multiselect.qb);\n      }, this.multiselect.Sb = function (e) {\n        return Abhaas.indexOf(o.multiselect.qb, e);\n      }, this.multiselect.Qb = function (e, t) {\n        if (!t) return !1;\n\n        for (var i = 0; i < t.length; i++) {\n          var n = t[i];\n          if (e === n) return !0;\n\n          if (\"function\" == typeof n.value) {\n            if (null !== n.value() && null !== e.value() && n.value() === e.value()) return !0;\n            if (null === n.value() && null === e.value() && n.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === n.start()) return !0;\n          } else {\n            if (null !== n.value && null !== e.value() && n.value === e.value()) return !0;\n            if (null === n.value && null === e.value() && n.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === n.start) return !0;\n          }\n        }\n\n        return !1;\n      }, this.Sa = function (e) {\n        if (t.editing) return void t.editing.blur();\n        var i = this.Kb(e);\n        t.editing = i, Abhaas.re(i, Abhaas.touch.start, function (e) {\n          e.stopPropagation();\n        }), i.onblur = function () {\n          if (e.event) {\n            var n = (e.event.value(), e.event.tag(), e.event.text()),\n                a = i.value;\n            t.editing = null, i.onblur = null, Abhaas.de(i), n !== a && (e.style.display = \"none\", o.ob(e.event, a));\n          }\n        }, i.onkeypress = function (e) {\n          if (13 === (window.event ? event.keyCode : e.keyCode)) return this.onblur(), e.preventDefault(), !1;\n        }, i.onkeyup = function (e) {\n          return 27 === (window.event ? event.keyCode : e.keyCode) && (i.onblur = null, i.parentNode && i.parentNode.removeChild(i), t.editing = !1), !0;\n        }, i.select(), i.focus();\n      }, this.Xb = function () {\n        return \"Resources\" !== o.viewType && (!o.ia() || !o.z());\n      }, this.ia = function () {\n        return Abhaas.isArray(o.columns) ? o.columns : o.columns.list;\n      }, this.columns = {}, this.columns.list = [], this.columns.Yb = !1, this.columns.filter = function (e) {\n        o.Zb.params = e, o.I && o.$b();\n      }, this.columns.load = function (e, t, i) {\n        if (!e) throw new Abhaas.Exception(\"columns.load(): 'url' parameter required\");\n\n        var n = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            a = function (e) {\n          var i,\n              a = e.request;\n\n          try {\n            i = JSON.parse(a.responseText);\n          } catch (e) {\n            var r = {};\n            return r.exception = e, void n(r);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var l = {};\n            if (l.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, l.data = i, \"function\" == typeof t && t(l), l.preventDefault.value) return;\n            o.columns.list = i, o.I && o.update();\n          }\n        };\n\n        o.columnsLoadMethod && \"POST\" === o.columnsLoadMethod.toUpperCase() ? Abhaas.ajax({\n          \"method\": \"POST\",\n          \"url\": e,\n          \"success\": a,\n          \"error\": n\n        }) : Abhaas.ajax({\n          \"method\": \"GET\",\n          \"url\": e,\n          \"success\": a,\n          \"error\": n\n        });\n      }, this.ja = function () {\n        if (o.Xb()) {\n          var e = this._b();\n\n          this.Fa = this.bc(e);\n        } else this.ca = this.bc(this.ia() || []), this.Fa = this.cc(this.headerLevels, !0);\n      }, this.dc = function () {\n        var e = this.startDate.getDatePart(),\n            t = this.days;\n\n        switch (this.viewType) {\n          case \"Day\":\n            t = 1;\n            break;\n\n          case \"Week\":\n            t = 7, e = e.firstDayOfWeek(l.weekStarts());\n            break;\n\n          case \"WorkWeek\":\n            for (t = 5, e = e.firstDayOfWeek(l.weekStarts()); 1 !== e.dayOfWeek();) e = e.addDays(1);\n\n        }\n\n        var i = e.addDays(t),\n            n = {};\n        return n.start = e, n.end = i, n.days = t, n;\n      }, this._b = function () {\n        for (var e = [], t = this.dc(), i = t.start, n = t.days, a = 0; a < n; a++) {\n          var r = {};\n          r.start = i.addDays(a);\n          var s = l.locale().datePattern;\n          o.headerDateFormat && (s = o.headerDateFormat), r.name = r.start.toString(s, l.locale()), r.html = r.name, e.push(r);\n        }\n\n        return e;\n      }, this.Zb = {}, this.ec = function (e, t) {\n        var i = {};\n        i.id = e.id, i.start = new Abhaas.Date(e.start || o.startDate).getDatePart(), i.name = e.name, i.html = e.html || e.name, i.toolTip = e.toolTip, i.backColor = e.backColor, i.areas = e.areas, i.parent = t;\n        var n = !e.children || 0 === e.children.length;\n        if (\"function\" == typeof o.onColumnFilter && o.Zb.params) if (n) {\n          var t = i.parent,\n              a = {};\n          a.visible = !0, a.column = {\n            \"id\": e.id,\n            \"name\": e.name,\n            \"start\": e.start,\n            \"data\": e\n          }, a.filter = o.Zb.params, o.onColumnFilter(a), a.visible ? t && t.fc() : i.hidden = !0;\n        } else i.hidden = !0;\n        return i.fc = function () {\n          i.hidden = !1, i.parent && i.parent.fc();\n        }, i.getChildren = function (e, t) {\n          var i = [];\n          if (e <= 1) return this.hidden || i.push(this), i;\n          if (!this.children || 0 === this.children.length) return t ? this.hidden || i.push(this) : i.push(\"empty\"), i;\n\n          for (var n = 0; n < this.children.length; n++) for (var a = this.children[n], o = a.getChildren(e - 1, t), r = 0; r < o.length; r++) i.push(o[r]);\n\n          return i;\n        }, i.getChildrenCount = function (e) {\n          var t = 0;\n\n          if (!this.children || this.children.length <= 0 || e <= 1) {\n            return !this.hidden ? 1 : 0;\n          }\n\n          for (var i = 0; i < this.children.length; i++) t += this.children[i].getChildrenCount(e - 1);\n\n          return t;\n        }, i.putIntoBlock = function (e) {\n          for (var t = 0; t < this.blocks.length; t++) {\n            var i = this.blocks[t];\n            if (i.overlapsWith(e.part.top, e.part.height)) return i.events.push(e), i.min = Math.min(i.min, e.part.top), i.max = Math.max(i.max, e.part.top + e.part.height), t;\n          }\n\n          var i = [];\n          return i.lines = [], i.events = [], i.overlapsWith = function (e, t) {\n            return !(e + t - 1 < this.min || e > this.max - 1);\n          }, i.putIntoLine = function (e) {\n            for (var t = 0; t < this.lines.length; t++) {\n              var i = this.lines[t];\n              if (i.isFree(e.part.top, e.part.height)) return i.push(e), t;\n            }\n\n            var i = [];\n            return i.isFree = function (e, t) {\n              for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {\n                var o = this[a];\n                if (!(i < o.part.top || e > o.part.top + o.part.height - 1)) return !1;\n              }\n\n              return !0;\n            }, i.push(e), this.lines.push(i), this.lines.length - 1;\n          }, i.events.push(e), i.min = e.part.top, i.max = e.part.top + e.part.height, this.blocks.push(i), this.blocks.length - 1;\n        }, i.putIntoLine = function (e) {\n          for (var t = 0; t < this.lines.length; t++) {\n            var i = this.lines[t];\n            if (i.isFree(e.part.top, e.part.height)) return i.push(e), t;\n          }\n\n          var i = [];\n          return i.isFree = function (e, t) {\n            for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {\n              var o = this[a];\n              if (!(i < o.part.top || e > o.part.top + o.part.height - 1)) return !1;\n            }\n\n            return !0;\n          }, i.push(e), this.lines.push(i), this.lines.length - 1;\n        }, e.children && (i.children = this.bc(e.children, i)), i;\n      }, this.bc = function (e, t) {\n        var i = Abhaas.list();\n        return Abhaas.list(e).each(function (e) {\n          var n = o.ec(e, t);\n          i.push(n);\n        }), i;\n      }, this.cc = function (e, t) {\n        for (var i = this.Xb() ? this.Fa : this.ca, n = Abhaas.list(), a = 0; a < i.length; a++) for (var o = i[a].getChildren(e, t), r = 0; r < o.length; r++) n.push(o[r]);\n\n        return n;\n      }, this.Aa = function () {\n        if (this.showAllDayEvents) {\n          var e = this.nav.header;\n\n          if (e) {\n            e.style.display = \"none\";\n\n            for (var t = this.Fa.length, i = 0; i < this.gc.lines.length; i++) for (var n = this.gc.lines[i], a = 0; a < n.length; a++) {\n              var r = n[a],\n                  s = r.cache || r.data,\n                  d = document.createElement(\"div\");\n              d.event = r, d.setAttribute(\"unselectable\", \"on\"), d.style.position = \"absolute\", o.rtl ? d.style.right = 100 * r.part.colStart / t + \"%\" : d.style.left = 100 * r.part.colStart / t + \"%\", d.style.width = 100 * r.part.colWidth / t + \"%\", d.style.height = l.allDayEventHeight() + \"px\", d.className = this.t(\"_alldayevent\"), d.style.top = this.headerLevels * l.headerHeight() + i * l.allDayEventHeight() + \"px\", s.cssClass && Abhaas.Util.addClass(d, s.cssClass), d.style.textAlign = \"left\", d.style.lineHeight = \"1.2\", r.client.clickEnabled() && (d.onclick = this.Qa), r.client.doubleClickEnabled() && (d.ondblclick = this.Ua), r.client.clickEnabled() || r.client.doubleClickEnabled() ? d.style.cursor = \"pointer\" : d.style.cursor = \"default\", Abhaas.re(d, \"contextmenu\", this.Va), d.onmousemove = function (e) {\n                var t = this;\n\n                if (!t.active) {\n                  var i = [];\n                  r.client.deleteEnabled() && i.push({\n                    \"action\": \"JavaScript\",\n                    \"v\": \"Hover\",\n                    \"w\": 17,\n                    \"h\": 17,\n                    \"top\": 3,\n                    \"right\": 3,\n                    \"css\": o.t(\"_event_delete\"),\n                    \"js\": function (e) {\n                      o.Za(e);\n                    }\n                  });\n                  var n = s.areas;\n                  n && n.length > 0 && (i = i.concat(n)), Abhaas.Areas.showAreas(t, t.event, null, i), Abhaas.Util.addClass(t, o.t(\"_alldayevent_hover\"));\n                }\n\n                \"undefined\" != typeof Abhaas.Bubble && o.bubble && \"Disabled\" !== o.eventHoverHandling && o.bubble.showEvent(this.event);\n              }, d.onmouseout = function (e) {\n                var t = this;\n                Abhaas.Util.removeClass(t, o.t(\"_alldayevent_hover\")), Abhaas.Areas.hideAreas(this, e), o.bubble && o.bubble.hideOnMouseOut();\n              }, this.showToolTip && !this.bubble && d.setAttribute(\"title\", r.client.toolTip());\n              var c = r.start().getTime() === r.part.start.getTime(),\n                  h = r.end().getTime() === r.part.end.getTime(),\n                  u = s.backColor,\n                  f = document.createElement(\"div\");\n\n              if (f.setAttribute(\"unselectable\", \"on\"), f.className = this.t(\"_alldayevent_inner\"), u && (f.style.background = u), s.fontColor && (f.style.color = s.fontColor), s.borderColor && (f.style.borderColor = s.borderColor), o.rtl ? (c || Abhaas.Util.addClass(d, this.t(\"_alldayevent_continueright\")), h || Abhaas.Util.addClass(d, this.t(\"_alldayevent_continueleft\"))) : (c || Abhaas.Util.addClass(d, this.t(\"_alldayevent_continueleft\")), h || Abhaas.Util.addClass(d, this.t(\"_alldayevent_continueright\"))), r.client.innerHTML() ? f.innerHTML = r.client.innerHTML() : f.innerHTML = r.text(), d.appendChild(f), o.Da()) {\n                if (\"function\" == typeof o.onAfterEventRender) {\n                  var v = {};\n                  v.e = d.event, v.div = d, o.onAfterEventRender(v);\n                }\n              } else o.afterEventRender && o.afterEventRender(d.event, d);\n\n              this.nav.allday.appendChild(d), this.elements.events.push(d);\n            }\n\n            e.style.display = \"\";\n          }\n        }\n      }, this.V = function (e) {\n        if (o.multiselect.Wb(), this.elements.events) for (var t = 0; t < this.elements.events.length; t++) {\n          var i = this.elements.events[t],\n              n = i.event;\n\n          if (!n || !e || n.allday()) {\n            if (n && (n.div = null, n.root = null), i.onclick = null, i.onclickSave = null, i.ondblclick = null, i.oncontextmenu = null, i.onmouseover = null, i.onmouseout = null, i.onmousemove = null, i.onmousedown = null, i.firstChild && i.firstChild.firstChild && i.firstChild.firstChild.tagName && \"IMG\" === i.firstChild.firstChild.tagName.toUpperCase()) {\n              var a = i.firstChild.firstChild;\n              a.onmousedown = null, a.onmousemove = null, a.onclick = null;\n            }\n\n            i.helper = null, i.event = null, Abhaas.de(i);\n          }\n        }\n        this.elements.events = [];\n      }, this.hc = function (e) {\n        var t = this.nav.events,\n            i = e.cache || e.data,\n            n = document.createElement(\"div\");\n        n.setAttribute(\"unselectable\", \"on\"), n.style.MozUserSelect = \"none\", n.style.KhtmlUserSelect = \"none\", n.style.WebkitUserSelect = \"none\", n.style.position = \"absolute\", n.className = this.t(\"_event\"), n.style.left = e.part.left + \"%\", n.style.top = e.part.top - this.zb() + \"px\", n.style.width = e.part.width + \"%\", n.style.height = Math.max(e.part.height, 2) + \"px\", n.style.overflow = \"hidden\", n.isFirst = e.part.start.getTime() === e.start().getTime(), n.isLast = e.part.end.getTime() === e.end().getTime(), e.client.clickEnabled() && (n.onclick = this.Qa), e.client.doubleClickEnabled() && (n.ondblclick = this.Ua), Abhaas.re(n, \"contextmenu\", this.Va), n.onmousemove = this.ic, n.onmouseout = this.jc, n.onmousedown = this.kc, Abhaas.re(n, Abhaas.touch.start, this.lc.onEventTouchStart), Abhaas.re(n, Abhaas.touch.move, this.lc.onEventTouchMove), Abhaas.re(n, Abhaas.touch.end, this.lc.onEventTouchEnd);\n        i.cssClass && Abhaas.Util.addClass(n, i.cssClass), this.showToolTip && !this.bubble && n.setAttribute(\"title\", e.client.toolTip());\n        var a = document.createElement(\"div\");\n\n        if (a.setAttribute(\"unselectable\", \"on\"), a.className = o.t(\"_event_inner\"), a.innerHTML = e.client.innerHTML(), i.fontColor && (a.style.color = i.fontColor), i.backColor && (a.style.background = i.backColor, (Abhaas.browser.ie9 || Abhaas.browser.ielt9) && (a.style.filter = \"\")), i.borderColor && (a.style.borderColor = i.borderColor), i.backgroundImage && (a.style.backgroundImage = \"url(\" + i.backgroundImage + \")\", i.backgroundRepeat && (a.style.backgroundRepeat = i.backgroundRepeat)), n.appendChild(a), e.client.barVisible()) {\n          var r = e.part.height - 2,\n              l = 100 * e.part.barTop / r,\n              s = Math.ceil(100 * e.part.barHeight / r);\n          \"PercentComplete\" === this.durationBarMode && (l = 0, s = i.complete);\n          var d = document.createElement(\"div\");\n          d.setAttribute(\"unselectable\", \"on\"), d.className = this.t(\"_event_bar\"), d.style.position = \"absolute\", i.barBackColor && (d.style.backgroundColor = i.barBackColor);\n          var c = document.createElement(\"div\");\n          c.setAttribute(\"unselectable\", \"on\"), c.className = this.t(\"_event_bar_inner\"), c.style.top = l + \"%\", 0 < s && s <= 1 ? c.style.height = \"1px\" : c.style.height = s + \"%\", i.barColor && (c.style.backgroundColor = i.barColor), d.appendChild(c), n.appendChild(d);\n        }\n\n        if (i.areas) for (var h = 0; h < i.areas.length; h++) {\n          var u = i.areas[h],\n              f = u.visibility || u.v || \"Visible\";\n\n          if (\"Visible\" === f) {\n            var v = Abhaas.Areas.createArea(n, e, u);\n            n.appendChild(v);\n          }\n        }\n\n        if (t.rows[0].cells[e.part.dayIndex]) {\n          if (t.rows[0].cells[e.part.dayIndex].events.appendChild(n), o.nc(n), n.event = e, o.multiselect.Pb(e) && o.multiselect.add(n.event, !0), o.Da()) {\n            if (\"function\" == typeof o.onAfterEventRender) {\n              var p = {};\n              p.e = n.event, p.div = n, o.onAfterEventRender(p);\n            }\n          } else o.afterEventRender && o.afterEventRender(n.event, n);\n        }\n\n        o.elements.events.push(n);\n      }, this.nc = function (e) {\n        for (var t = e && e.childNodes ? e.childNodes.length : 0, i = 0; i < t; i++) try {\n          var n = e.childNodes[i];\n          1 === n.nodeType && (n.setAttribute(\"unselectable\", \"on\"), this.nc(n));\n        } catch (e) {}\n      }, this.za = function () {\n        for (var e = new Date(), t = 0; t < this.Fa.length; t++) {\n          var i = this.Fa[t];\n          if (i.blocks) for (var n = 0; n < i.blocks.length; n++) for (var a = i.blocks[n], o = 0; o < a.lines.length; o++) for (var r = a.lines[o], l = 0; l < r.length; l++) {\n            var s = r[l];\n\n            if (s.part.width = 100 / a.lines.length, s.part.left = s.part.width * o, \"Cascade\" === this.eventArrangement) {\n              var d = o === a.lines.length - 1;\n              d || (s.part.width = 1.5 * s.part.width);\n            }\n\n            \"Full\" === this.eventArrangement && (s.part.left = s.part.left / 2, s.part.width = 100 - s.part.left), s.allday() || this.hc(s);\n          }\n        }\n\n        this.multiselect.redraw();\n        var c = new Date();\n        c.getTime() - e.getTime();\n      }, this.oc = function () {\n        this.multiselect.qb = [];\n\n        for (var e = 0; e < this.Fa.length; e++) for (var t = this.Fa[e], i = 0; i < t.lines.length; i++) for (var n = t.lines[i], a = 0; a < n.length; a++) {\n          var o = n[a];\n          o.part.width = 100 / t.lines.length, o.part.left = o.Width * i, o.allday() || this.hc(o);\n        }\n      }, this.t = function (e) {\n        var t = this.theme || this.cssClassPrefix;\n        return t ? t + e : \"\";\n      }, this.pc = function () {\n        switch (o.J) {\n          case \"aspnet\":\n            if (!this.T()) throw new Abhaas.Exception(\"ASP.NET WebForms environment required. https://doc.Abhaas.org/common/asp-net-webforms-required/\");\n            break;\n\n          case \"netmvc\":\n            if (!this.backendUrl) throw new Abhaas.Exception(\"Abhaas.Scheduler.backendUrl required. https://doc.Abhaas.org/common/backendurl-required-asp-net-mvc/\");\n            break;\n\n          case \"javaxx\":\n            if (!this.backendUrl) throw new Abhaas.Exception(\"Abhaas.Scheduler.backendUrl required. https://doc.Abhaas.org/common/backendurl-required-java/\");\n        }\n      }, this.ya = function () {\n        \"hidden\" === this.nav.top.style.visibility && (this.nav.top.style.visibility = \"visible\");\n      }, this.qc = function () {\n        var e = this.Ma() + this.rc();\n        return o.debug.message(\"Getting totalHeight, headerHeight: \" + this.Ma() + \" scrollable: \" + this.rc()), e < 0 ? 0 : e;\n      }, this.sc = function () {\n        if (this.nav.top.dp = this, this.nav.top.innerHTML = \"\", this.nav.top.style.MozUserSelect = \"none\", this.nav.top.style.KhtmlUserSelect = \"none\", this.nav.top.style.WebkitUserSelect = \"none\", this.nav.top.style.WebkitTapHighlightColor = \"rgba(0,0,0,0)\", this.nav.top.style.WebkitTouchCallout = \"none\", this.nav.top.style.position = \"relative\", this.width && (this.nav.top.style.width = this.width), this.rtl && (this.nav.top.style.direction = \"rtl\"), \"Parent100Pct\" === this.heightSpec ? this.nav.top.style.height = \"100%\" : this.nav.top.style.height = this.qc() + \"px\", this.hideUntilInit && (this.nav.top.style.visibility = \"hidden\"), this.visible || (this.nav.top.style.display = \"none\"), this.nav.scroll = document.createElement(\"div\"), this.nav.scroll.style.height = this.rc() + \"px\", Abhaas.Util.addClass(this.nav.top, this.t(\"_main\")), this.nav.scroll.style.position = \"relative\", this.showHeader) {\n          var e = this.tc();\n          this.nav.top.appendChild(e);\n        }\n\n        this.nav.scroll.style.zoom = 1, this.nav.scroll.style.position = \"absolute\", this.nav.scroll.style.left = \"0px\", this.nav.scroll.style.right = \"0px\", this.nav.scroll.style.top = this.Ma() + \"px\", this.nav.scroll.className = o.t(\"_scroll\");\n        var t = this.uc();\n        this.nav.scrollable = t.firstChild, this.nav.scroll.appendChild(t), this.nav.top.appendChild(this.nav.scroll), this.nav.vsph = document.createElement(\"div\"), this.nav.vsph.style.display = \"none\", this.nav.top.appendChild(this.nav.vsph), this.nav.scrollpos = document.createElement(\"input\"), this.nav.scrollpos.type = \"hidden\", this.nav.scrollpos.id = o.id + \"_scrollpos\", this.nav.scrollpos.name = this.nav.scrollpos.id, this.nav.top.appendChild(this.nav.scrollpos), this.nav.select = document.createElement(\"input\"), this.nav.select.type = \"hidden\", this.nav.select.id = o.id + \"_select\", this.nav.select.name = this.nav.select.id, this.nav.select.value = null, this.nav.top.appendChild(this.nav.select), this.nav.scrollLayer = document.createElement(\"div\"), this.nav.scrollLayer.style.position = \"absolute\", this.nav.scrollLayer.style.top = \"0px\", this.nav.scrollLayer.style.left = \"0px\", this.nav.top.appendChild(this.nav.scrollLayer), this.nav.scrollUp = [], this.nav.scrollDown = [], this.nav.loading = document.createElement(\"div\"), this.nav.loading.style.position = \"absolute\", this.nav.loading.style.top = \"0px\", this.nav.loading.style.left = this.hourWidth + 5 + \"px\", this.nav.loading.className = o.t(\"_loading\"), this.nav.loading.innerHTML = this.loadingLabelText, this.nav.loading.style.display = \"none\", this.nav.top.appendChild(this.nav.loading);\n      }, this.vc = function () {\n        for (var e = \"Fixed\" === this.columnWidthSpec, t = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1], i = this.nav.events.rows[0], n = 0; n < o.Fa.length; n++) {\n          var a = t && t.cells[n],\n              r = i.cells[n],\n              l = a && a.firstChild,\n              s = o.Fa[n];\n\n          if (e) {\n            var d = s.width ? s.width : o.columnWidth;\n            l && (l.style.width = d + \"px\"), r && (r.style.width = d + \"px\");\n          } else o.E || (l && (l.style.width = null), r && (r.style.width = null));\n        }\n      }, this.Na = function () {\n        return this.D ? o.nav.bottomRight : o.nav.scroll;\n      }, this.wa = function () {\n        var e = \"Fixed\" === this.columnWidthSpec;\n\n        if (!e) {\n          var t = o.Na();\n          \"Fixed\" === this.heightSpec ? t.style.overflowY = \"scroll\" : \"BusinessHours\" === this.heightSpec && this.Ga() <= this.businessEndsHour - this.businessBeginsHour ? t.style.overflow = \"hidden\" : \"Full\" !== this.heightSpec && \"BusinessHoursNoScroll\" !== this.heightSpec ? t.style.overflow = \"auto\" : t.style.overflow = \"hidden\";\n        }\n\n        if (e) {\n          var i = 0,\n              n = this.Fa.length * this.columnWidth;\n          n > o.Hb().clientWidth && (i = Abhaas.sw(o.nav.bottomRight)), o.nav.headerParent && (o.nav.headerParent.style.width = n + i + \"px\"), o.nav.main.style.width = n + \"px\", o.nav.events.style.width = n + \"px\", o.nav.crosshair.style.width = n + \"px\";\n        } else o.nav.headerParent && (o.nav.headerParent.style.width = \"100%\"), o.nav.main.style.width = \"100%\", o.nav.events.style.width = \"100%\", o.nav.crosshair.style.width = \"100%\";\n\n        this.vc();\n      }, this.sa = function () {\n        this.F ? this.wc() : Abhaas.pu(this.nav.hourTable), this.nav.hoursPlaceholder && (this.nav.hoursPlaceholder.innerHTML = \"\", this.nav.hourTable = this.xc(), this.nav.hoursPlaceholder.appendChild(this.nav.hourTable));\n      }, this.wc = function () {\n        if (this.nav.hourTable) for (var e = 0; e < this.nav.hourTable.rows.length; e++) {\n          var t = this.nav.hourTable.rows[e],\n              i = t.cells[0].firstChild;\n          i.data = null, i.onmousemove = null, i.onmouseout = null;\n        }\n      }, this.uc = function () {\n        var e = document.createElement(\"div\");\n        e.style.zoom = 1, e.style.position = \"relative\", e.onmousemove = this.yc, e.oncontextmenu = this.zc, Abhaas.re(e, Abhaas.touch.start, this.lc.onMainTouchStart), Abhaas.re(e, Abhaas.touch.move, this.lc.onMainTouchMove), Abhaas.re(e, Abhaas.touch.end, this.lc.onMainTouchEnd), Abhaas.re(e, \"contextmenu\", function (e) {\n          var e = e || window.event;\n          e.preventDefault ? e.preventDefault() : e.returnValue = !1;\n        }), navigator.msPointerEnabled && (e.style.msTouchAction = \"none\", e.style.touchAction = \"none\"), e.AbhaasMainD = !0, e.calendar = this;\n        var t = null,\n            i = null;\n\n        if (this.showHours) {\n          var n = document.createElement(\"div\");\n          n.style.cssFloat = \"left\", n.style.styleFloat = \"left\", n.style.width = this.hourWidth + \"px\", n.style.height = this.rc() + \"px\", n.style.overflow = \"hidden\", n.style.position = \"relative\", e.appendChild(n), t = n;\n          var a = 30,\n              r = o.Ac() + a;\n          i = document.createElement(\"div\"), i.style.height = r + \"px\", n.appendChild(i);\n        }\n\n        var l = document.createElement(\"div\");\n        l.style.height = this.rc() + \"px\", this.showHours && (l.style.marginLeft = this.hourWidth + \"px\"), l.style.position = \"relative\", l.style.overflow = \"auto\", e.appendChild(l), i && (this.nav.hourTable = this.xc(), i.appendChild(this.nav.hourTable));\n        var s = document.createElement(\"div\");\n        s.style.height = \"0px\", s.style.position = \"relative\", s.appendChild(this.Bc());\n        var d = document.createElement(\"div\");\n        return d.style.position = \"absolute\", d.style.top = \"0px\", d.style.left = \"0px\", d.style.width = \"100%\", d.style.height = \"0px\", s.appendChild(d), this.nav.crosshair = d, s.appendChild(this.Cc()), l.appendChild(s), this.nav.grid = s, this.nav.zoom = e, this.nav.bottomLeft = t, this.nav.bottomRight = l, this.nav.hoursPlaceholder = i, e;\n      }, this.Bc = function () {\n        if (o.E) {\n          var e = document.createElement(\"div\");\n          return o.nav.main = e, e;\n        }\n\n        var t = document.createElement(\"table\");\n        return t.cellPadding = \"0\", t.cellSpacing = \"0\", t.border = \"0\", \"Fixed\" === this.columnWidthSpec || (t.style.width = \"100%\"), t.style.border = \"0px none\", t.style.tableLayout = \"fixed\", this.nav.main = t, t;\n      }, this.Dc = function () {\n        if (\"Fixed\" === this.columnWidthSpec) {\n          for (var e = 0, t = 0; t < o.Fa.length; t++) {\n            var i = o.Fa[t];\n            e += i.width ? i.width : o.columnWidth;\n          }\n\n          return e + \"px\";\n        }\n\n        return \"100%\";\n      }, this.Cc = function () {\n        if (o.E) {\n          var e = document.createElement(\"div\");\n          return e.style.userSelect = \"none\", e.style.position = \"absolute\", e.style.left = \"0px\", e.style.right = \"0px\", e.style.top = \"0px\", e.style.height = \"0px\", o.nav.events = e, e;\n        }\n\n        var t = document.createElement(\"table\");\n        t.style.position = \"absolute\", t.style.top = \"0px\", t.cellPadding = \"0\", t.cellSpacing = \"0\", t.border = \"0\", t.style.width = o.Dc(), t.style.border = \"0px none\", t.style.tableLayout = \"fixed\", this.nav.events = t;\n\n        for (var i = this.Fa, n = i.length, a = t.insertRow(-1), r = 0; r < n; r++) {\n          var l = a.insertCell(-1);\n          l.style.padding = \"0px\", l.style.border = \"0px none\", l.style.height = \"0px\", l.style.overflow = \"visible\", o.rtl || (l.style.textAlign = \"left\"), o.Ec(l);\n        }\n\n        return t;\n      }, this.xc = function () {\n        var e = document.createElement(\"table\");\n        e.cellSpacing = \"0\", e.cellPadding = \"0\", e.border = \"0\", e.style.border = \"0px none\", e.style.width = this.hourWidth + \"px\", e.oncontextmenu = function () {\n          return !1;\n        }, e.onmousemove = function () {\n          o.ba();\n        };\n\n        for (var t = o.Fc(), i = 0; i < t; i++) this.Gc(e, i);\n\n        return e;\n      }, this.Fc = function () {\n        return this.Ha() / (60 * this.timeHeaderCellDuration * 1e3);\n      }, this.Hc = function () {\n        return 60 * this.cellHeight / this.cellDuration / (60 / this.timeHeaderCellDuration);\n      }, this.Ic = function () {\n        return (this.La() - this.La(!0)) * (60 / this.cellDuration);\n      }, this.Jc = function () {\n        return this.La() - this.La(!0);\n      }, this.zb = function () {\n        return this.Ic() * this.cellHeight;\n      }, this.Gc = function (e, t) {\n        var i = o.Hc(),\n            n = e.insertRow(-1);\n        n.style.height = i + \"px\";\n        var a = n.insertCell(-1);\n        a.valign = \"bottom\", a.setAttribute(\"unselectable\", \"on\"), a.style.padding = \"0px\", a.style.border = \"0px none\";\n        var r = document.createElement(\"div\");\n        r.className = this.t(\"_rowheader\"), r.style.position = \"relative\", r.style.width = this.hourWidth + \"px\", r.style.height = i + \"px\", r.style.overflow = \"hidden\", r.setAttribute(\"unselectable\", \"on\");\n        var l = document.createElement(\"div\");\n        l.className = this.t(\"_rowheader_inner\"), l.setAttribute(\"unselectable\", \"on\");\n        var s = o.Kc(t),\n            d = s.html,\n            c = s.data;\n        c && (r.data = c, r.onmousemove = o.Lc, r.onmouseout = o.Mc), l.innerHTML = d, r.appendChild(l), a.appendChild(r);\n      }, this.Kc = function (e) {\n        var t, i;\n\n        if (this.hours) {\n          var n = e + this.Jc();\n          i = this.hours[n], t = i.html;\n        }\n\n        var a,\n            r = this.timeHeaderCellDuration,\n            l = this.startDate.addMinutes(r * e + 60 * this.La()),\n            s = l.getHours(),\n            d = s < 12;\n\n        if (a = \"Clock12Hours\" === this.Nc.timeFormat() ? d ? \"AM\" : \"PM\" : \"00\", !t) {\n          var c = document.createElement(\"div\");\n          c.setAttribute(\"unselectable\", \"on\"), \"Clock12Hours\" === this.Nc.timeFormat() && (s %= 12, 0 === s && (s = 12)), 60 !== this.timeHeaderCellDuration && (s += \":\" + l.toString(\"mm\")), c.innerHTML = s;\n          var h = document.createElement(\"span\");\n          h.setAttribute(\"unselectable\", \"on\"), h.className = this.t(\"_rowheader_minutes\"), h.innerHTML = a, c.appendChild(h), t = c.outerHTML;\n        }\n\n        if (\"function\" == typeof o.onBeforeTimeHeaderRender) {\n          var u = {};\n          u.header = {}, u.header.hours = s, u.header.minutes = l.getMinutes(), u.header.start = l.toString(\"HH:mm\"), u.header.html = t, u.header.areas = i ? i.areas : null, u.header.time = new Abhaas.Duration(l.getTimePart()), o.onBeforeTimeHeaderRender(u), null !== u.header.html && (t = u.header.html), i = u.header;\n        }\n\n        var f = {};\n        return f.start = l, f.hour = s, f.html = t, f.data = i, f.sup = a, f;\n      }, this.Lc = function (e) {\n        o.ba();\n        var t = this;\n        t.active || Abhaas.Areas.showAreas(t, t.data);\n      }, this.Mc = function (e) {\n        Abhaas.Areas.hideAreas(this, e);\n      }, this.rc = function () {\n        switch (this.heightSpec) {\n          case \"Fixed\":\n            return this.height;\n\n          case \"Parent100Pct\":\n            return this.height;\n\n          case \"Full\":\n            return this.Ac();\n\n          case \"BusinessHours\":\n          case \"BusinessHoursNoScroll\":\n            return this.Ia() * this.cellHeight * 60 / this.cellDuration;\n\n          default:\n            throw \"Abhaas.Calendar: Unexpected 'heightSpec' value.\";\n        }\n      }, this.Ac = function () {\n        return o.Ha() * this.cellHeight / (6e4 * o.cellDuration);\n      }, this.Ma = function () {\n        if (!this.showHeader) return 0;\n        var e = this.headerLevels * l.headerHeight();\n        return this.showAllDayEvents && l.allDayHeaderHeight() ? e + l.allDayHeaderHeight() : e;\n      }, this.oa = function () {\n        if (this.headerHeightAutoFit) {\n          for (var e = 0, t = 0; t < this.nav.header.rows.length; t++) for (var i = this.nav.header.rows[t], n = 0; n < i.cells.length; n++) {\n            var a = i.cells[n],\n                o = a.firstChild,\n                r = o.firstChild,\n                l = o.style.height;\n            o.style.height = \"auto\", r.style.position = \"static\";\n            var s = o.offsetHeight;\n            o.style.height = l, r.style.position = \"\", e = Math.max(e, s);\n          }\n\n          e > this.headerHeight && (this.G.headerHeight = e, this.ma(), this.na());\n        }\n      }, this.Oc = function () {\n        var e = this.D ? o.nav.bottomRight : o.nav.scroll;\n        return Abhaas.sw(e) > 0;\n      }, this.tc = function () {\n        var e = document.createElement(\"div\"),\n            t = \"Fixed\" === this.columnWidthSpec;\n        t || (e.style.overflow = \"auto\"), e.style.position = \"absolute\", e.style.left = \"0px\", e.style.right = \"0px\";\n        var i = document.createElement(\"div\");\n        i.style.position = \"relative\", i.style.zoom = \"1\";\n        var n = null,\n            t = \"Fixed\" === this.columnWidthSpec;\n\n        if (t || this.D) {\n          var a = document.createElement(\"div\");\n\n          if (a.style.cssFloat = \"left\", a.style.styleFloat = \"left\", a.style.width = this.hourWidth + \"px\", this.showHours) {\n            var o = this.Pc();\n            this.nav.corner = o, a.appendChild(o), i.appendChild(a), this.nav.upperLeft = a;\n          }\n\n          var r = document.createElement(\"div\");\n          this.showHours && (r.style.marginLeft = this.hourWidth + \"px\"), r.style.position = \"relative\", r.style.overflow = \"hidden\", r.style.height = this.Ma() + \"px\", i.appendChild(r), this.nav.upperRight = r, n = document.createElement(\"div\"), n.style.position = \"relative\", r.appendChild(n);\n        } else {\n          var l = document.createElement(\"table\");\n          l.cellPadding = \"0\", l.cellSpacing = \"0\", l.border = \"0\", l.style.width = \"100%\", l.style.borderCollapse = \"separate\", l.style.border = \"0px none\";\n          var s = l.insertRow(-1);\n\n          if (this.nav.fullHeader = l, this.showHours) {\n            var d = s.insertCell(-1);\n            d.style.padding = \"0px\", d.style.border = \"0px none\";\n            var o = this.Pc();\n            d.appendChild(o), this.nav.corner = o;\n          }\n\n          d = s.insertCell(-1), d.style.width = \"100%\", d.valign = \"top\", d.style.position = \"relative\", d.style.padding = \"0px\", d.style.border = \"0px none\", n = document.createElement(\"div\"), n.style.position = \"relative\", n.style.height = this.Ma() + \"px\", n.style.overflow = \"hidden\", d.appendChild(n), this.nav.mid = n, i.appendChild(l);\n        }\n\n        this.nav.headerParent = n, this.nav.headerParent.onmousemove = function (e) {\n          e.insideMainD = !0;\n        }, this.Qc();\n        var c = this.Oc(),\n            t = \"Fixed\" === this.columnWidthSpec;\n        return c && !t && this.Rc(), e.appendChild(i), e;\n      }, this.Qc = function () {\n        if (this.nav.unifiedCornerRight = null, o.E) this.nav.header = document.createElement(\"div\"), this.nav.header.style.position = \"relative\";else {\n          this.nav.header = document.createElement(\"table\"), this.nav.header.cellPadding = \"0\", this.nav.header.cellSpacing = \"0\";\n          \"Fixed\" === this.columnWidthSpec || (this.nav.header.width = \"100%\"), this.nav.header.style.tableLayout = \"fixed\", this.nav.header.oncontextmenu = function () {\n            return !1;\n          };\n        }\n        this.nav.header.setAttribute(\"dp-id\", \"header\"), this.nav.headerParent.appendChild(this.nav.header), this.nav.allday && Abhaas.de(this.nav.allday);\n        var e = document.createElement(\"div\");\n        e.style.position = \"absolute\", e.style.top = \"0px\", e.style.height = \"0px\", e.setAttribute(\"dp-id\", \"allday\"), \"Fixed\" === this.columnWidthSpec ? e.style.width = this.Fa.length * this.columnWidth + \"px\" : (e.style.left = \"0px\", e.style.right = \"0px\"), this.nav.allday = e, this.nav.headerParent.appendChild(e);\n      }, this.Rc = function () {\n        if (this.nav.fullHeader) {\n          var e = this.nav.fullHeader.rows[0],\n              t = e.insertCell(-1);\n          t.style.padding = \"0px\", t.style.verticalAlign = \"top\", t.setAttribute(\"unselectable\", \"on\");\n          var i = document.createElement(\"div\");\n          i.setAttribute(\"unselectable\", \"on\"), i.className = this.t(\"_cornerright\"), i.style.overflow = \"hidden\", i.style.position = \"relative\", i.style.width = \"16px\", i.style.height = this.Ma() + \"px\";\n          var n = document.createElement(\"div\");\n          n.className = this.t(\"_cornerright_inner\"), i.appendChild(n), t.appendChild(i), this.nav.cornerRight = i;\n        }\n      }, this.Pc = function () {\n        var e = document.createElement(\"div\");\n        e.style.position = \"relative\", e.className = this.t(\"_corner\"), e.style.width = this.hourWidth + \"px\", e.style.height = this.Ma() + \"px\", e.style.overflow = \"hidden\", e.oncontextmenu = function () {\n          return !1;\n        };\n        var t = document.createElement(\"div\");\n        t.className = this.t(\"_corner_inner\"), t.setAttribute(\"unselectable\", \"on\"), e.appendChild(t);\n        var i = document.createElement(\"div\");\n        return i.style.position = \"absolute\", i.style.padding = \"2px\", i.style.top = \"0px\", i.style.left = \"1px\", i.style.backgroundColor = \"#FF6600\", i.style.color = \"white\", i.innerHTML = \"\\u0044\\u0045\" + \"\\u004D\\u004F\", i.setAttribute(\"unselectable\", \"on\"), Abhaas.Util.isNullOrUndefined(undefined) && e.appendChild(i), e;\n      }, this.W = function () {\n        var e = this.nav.main;\n        e.root = null, e.onmouseup = null;\n\n        for (var t = 0; t < e.rows.length; t++) for (var i = e.rows[t], n = 0; n < i.cells.length; n++) {\n          var a = i.cells[n];\n          a.root = null, a.onmousedown = null, a.onmousemove = null, a.onmouseout = null, a.onmouseup = null, a.onclick = null, a.ondblclick = null, a.oncontextmenu = null;\n        }\n\n        this.F || Abhaas.pu(e);\n      }, this.pa = function () {\n        for (var e = 0; this.nav.scrollUp && e < this.nav.scrollUp.length; e++) this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);\n\n        for (var e = 0; this.nav.scrollDown && e < this.nav.scrollDown.length; e++) this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);\n\n        this.nav.scrollUp = [], this.nav.scrollDown = [];\n      }, this.Ec = function (e) {\n        var t = document.createElement(\"div\");\n        t.style.marginRight = o.columnMarginRight + \"px\", t.style.position = \"relative\", t.style.height = \"1px\", t.style.marginTop = \"-1px\", e.events = t;\n        var i = document.createElement(\"div\");\n        i.style.position = \"relative\", i.style.height = \"1px\", i.style.marginTop = \"-1px\", e.separators = i;\n        var n = document.createElement(\"div\");\n        n.style.position = \"relative\", n.style.height = \"1px\", n.style.marginTop = \"-1px\", e.selection = n, e.appendChild(i), e.appendChild(n), e.appendChild(t);\n      }, this.ra = function () {\n        o.E ? o.Sc() : o.Tc();\n      }, this.Uc = function () {\n        if (this.scrollLabelsVisible) for (var e = this.Fa, t = this.showHours ? this.hourWidth : 0, i = (this.nav.scroll.clientWidth - t) / e.length, n = 0; n < e.length; n++) {\n          var a = document.createElement(\"div\");\n          a.style.position = \"absolute\", a.style.top = \"0px\", a.style.left = t + 2 + n * i + i / 2 + \"px\", a.style.display = \"none\";\n          var o = document.createElement(\"div\");\n          o.style.height = \"10px\", o.style.width = \"10px\", o.className = this.t(\"_scroll_up\"), a.appendChild(o), this.nav.scrollLayer.appendChild(a), this.nav.scrollUp.push(a);\n          var r = document.createElement(\"div\");\n          r.style.position = \"absolute\", r.style.top = \"0px\", r.style.left = t + 2 + n * i + i / 2 + \"px\", r.style.display = \"none\";\n          var o = document.createElement(\"div\");\n          o.style.height = \"10px\", o.style.width = \"10px\", o.className = this.t(\"_scroll_down\"), r.appendChild(o), this.nav.scrollLayer.appendChild(r), this.nav.scrollDown.push(r);\n        }\n      }, this.Vc = function () {\n        var e = this.nav.events;\n        e.innerHTML = \"\", e.rows = [{\n          \"cells\": []\n        }], o.Wc().forEach(function (t, i) {\n          var n = document.createElement(\"div\");\n          n.style.height = \"1px\", n.style.overflow = \"visible\", n.style.position = \"absolute\", n.style.left = t.left + t.unit, n.style.width = t.width + t.unit, o.Ec(n), e.appendChild(n), e.rows[0].cells.push(n);\n        });\n      }, this.Wc = function () {\n        function e(e) {\n          return Abhaas.browser.ie || Abhaas.browser.edge ? Math.floor(100 * e) / 100 : e;\n        }\n\n        var t = o.Fa,\n            i = \"Fixed\" === this.columnWidthSpec,\n            n = 0;\n        return Abhaas.list.for(t.length, function (a) {\n          var r = {},\n              l = 0,\n              s = \"\";\n          return i ? (s = \"px\", l = t[a].width ? t[a].width : o.columnWidth) : (s = \"%\", l = e(100 / t.length)), r.left = n, r.width = l, r.unit = s, n += l, r;\n        });\n      }, this.Sc = function () {\n        var e = (this.nav.main, 60 * this.cellDuration * 1e3),\n            i = this.Pa(),\n            n = (this.Jc() * (60 / this.cellDuration), o.Fa);\n        !function () {\n          o.elements.cells = [], o.nav.main.innerHTML = \"\", o.nav.main.rows = [];\n        }(), this.nav.scrollable.AbhaasMainD = !0, this.nav.scrollable.calendar = this, o.Uc();\n        n.length;\n        o.Vc();\n\n        for (var a = o.Wc(), r = 0; r < i; r++) {\n          var l = r * o.cellHeight;\n          o.nav.main.rows.push({\n            \"cells\": []\n          });\n\n          for (var s = 0; s < n.length; s++) {\n            var d = a[s],\n                c = this.Fa[s],\n                h = document.createElement(\"div\");\n            h.style.position = \"absolute\", h.style.left = d.left + d.unit, h.style.width = d.width + d.unit, h.style.top = l + \"px\", h.start = c.start.addTime(r * e).addHours(this.La()), h.end = h.start.addTime(e), h.resource = c.id, h.data = {}, h.data.x = s, h.data.y = r, h.data.start = h.start, h.data.end = h.end, h.data.resource = h.resource, h.data.calendar = o, this.cellProperties || (this.cellProperties = {});\n            var u = {};\n            u.resource = h.resource, u.start = h.start, u.end = h.end;\n            var f = s + \"_\" + r;\n\n            if (u.cssClass = null, u.html = null, u.backImage = null, u.backRepeat = null, u.backColor = null, u.business = this.Xc(h.start, h.end), this.cellProperties[f] && Abhaas.Util.copyProps(this.cellProperties[f], u, [\"cssClass\", \"html\", \"backImage\", \"backRepeat\", \"backColor\", \"business\", \"areas\", \"disabled\"]), \"function\" == typeof this.onBeforeCellRender) {\n              var v = {};\n              v.cell = u, this.onBeforeCellRender(v);\n            }\n\n            this.cellProperties[f] = u;\n            var p,\n                g = o.Yc(s, r);\n            h.root = this, h.setAttribute(\"unselectable\", \"on\"), p = document.createElement(\"div\"), p.className = o.t(\"_cell\"), p.style.position = \"relative\", p.style.height = o.cellHeight + \"px\", p.style.overflow = \"hidden\", p.setAttribute(\"unselectable\", \"on\");\n            var m = document.createElement(\"div\");\n            m.className = o.t(\"_cell_inner\"), p.appendChild(m), h.appendChild(p), h.onmousedown = this.ub, h.onmousemove = this.Eb, h.onmouseout = this.Db, Abhaas.re(h, Abhaas.touch.end, this.lc.onCellTouchEnd), h.oncontextmenu = function () {\n              return this.selected || (o.clearSelection(), t.column = t.getColumn(this), o.selectedCells.push(this), t.firstSelected = this, t.topSelectedCell = this, t.bottomSelectedCell = this, o.vb()), \"Disabled\" === o.timeRangeRightClickHandling, !1;\n            };\n            var y = o.Zc(s, r);\n            p = h.firstChild;\n            \"Fixed\" === this.columnWidthSpec && (c.width ? p.style.width = c.width + \"px\" : p.style.width = this.columnWidth + \"px\"), y && (p.firstChild.style.background = y);\n            (g ? g.business : this.Xc(h.start, h.end)) && Abhaas.Util.addClass(p, o.t(\"_cell_business\"));\n            var b = p.firstChild;\n\n            if (b && (b.innerHTML = \"\"), p.style.backgroundImage = \"\", p.style.backgroundRepeat = \"\", g && (g.html && (b.innerHTML = g.html), g.cssClass && Abhaas.Util.addClass(p, g.cssClass), g.backImage && (p.style.backgroundImage = \"url('\" + g.backImage + \"')\"), g.backRepeat && (p.style.backgroundRepeat = g.backRepeat), g.areas)) {\n              var w = {};\n              w.start = h.start, w.end = h.end, w.resource = h.resource;\n              var D = Abhaas.list(g.areas).filter(function (e) {\n                return !(e.end && new Abhaas.Date(e.end) <= h.start) && !(e.start && new Abhaas.Date(e.start) >= h.end);\n              });\n              D.forEach(function (e) {\n                if (e.start || e.end) {\n                  if (e.start) {\n                    var t = new Abhaas.Date(e.start).getTime() - h.start.getTime();\n                    e.top = o.$c(t);\n                  }\n\n                  if (e.end) {\n                    var i = new Abhaas.Date(e.end).getTime() - h.start.getTime();\n                    e.height = o.$c(i) - e.top;\n                  }\n                }\n              }), Abhaas.Areas.attach(p, w, {\n                \"areas\": D\n              });\n            }\n\n            o.nav.main.appendChild(h), o.nav.main.rows[r].cells.push(h);\n          }\n        }\n      }, this.Tc = function () {\n        var e = this.nav.main,\n            i = 60 * this.cellDuration * 1e3,\n            n = this.Pa(),\n            a = (this.Jc() * (60 / this.cellDuration), o.Fa),\n            r = 0;\n\n        if (e && (r = o.Hb().scrollTop, this.W(), o.K.ielt9)) {\n          Abhaas.de(this.nav.scrollable.parentNode);\n          var l = this.uc();\n          this._c(), this.nav.scrollable = l.firstChild, this.nav.scroll.appendChild(l), e = this.nav.main;\n        }\n\n        for (this.nav.scrollable.AbhaasMainD = !0, this.nav.scrollable.calendar = this; e && e.rows && e.rows.length > 0;) this.F || Abhaas.pu(e.rows[0]), e.deleteRow(0);\n\n        if (this.ad = !0, this.scrollLabelsVisible) for (var a = this.Fa, s = this.showHours ? this.hourWidth : 0, d = (this.nav.scroll.clientWidth - s) / a.length, c = 0; c < a.length; c++) {\n          var h = document.createElement(\"div\");\n          h.style.position = \"absolute\", h.style.top = \"0px\", h.style.left = s + 2 + c * d + d / 2 + \"px\", h.style.display = \"none\";\n          var u = document.createElement(\"div\");\n          u.style.height = \"10px\", u.style.width = \"10px\", u.className = this.t(\"_scroll_up\"), h.appendChild(u), this.nav.scrollLayer.appendChild(h), this.nav.scrollUp.push(h);\n          var f = document.createElement(\"div\");\n          f.style.position = \"absolute\", f.style.top = \"0px\", f.style.left = s + 2 + c * d + d / 2 + \"px\", f.style.display = \"none\";\n          var u = document.createElement(\"div\");\n          u.style.height = \"10px\", u.style.width = \"10px\", u.className = this.t(\"_scroll_down\"), f.appendChild(u), this.nav.scrollLayer.appendChild(f), this.nav.scrollDown.push(f);\n        }\n        var v = a.length;\n\n        if (this.cssOnly || this.B) {\n          for (var p = this.nav.events; p && p.rows && p.rows.length > 0;) this.F || Abhaas.pu(p.rows[0]), p.deleteRow(0);\n\n          for (var g = p.insertRow(-1), m = 0; m < v; m++) {\n            var y = g.insertCell(-1);\n            y.style.padding = \"0px\", y.style.border = \"0px none\", y.style.height = \"1px\", y.style.overflow = \"visible\";\n            var b = \"Fixed\" === this.columnWidthSpec;\n            b && (a[m].width ? y.style.width = a[m].width + \"px\" : y.style.width = this.columnWidth + \"px\"), o.rtl || (y.style.textAlign = \"left\"), o.Ec(y);\n          }\n        }\n\n        for (var c = 0; c < n; c++) {\n          var g = e.insertRow(-1),\n              w = c;\n          g.style.MozUserSelect = \"none\", g.style.KhtmlUserSelect = \"none\", g.style.WebkitUserSelect = \"none\";\n\n          for (var m = 0; m < v; m++) {\n            var D = this.Fa[m],\n                y = g.insertCell(-1);\n            y.start = D.start.addTime(w * i).addHours(this.La()), y.end = y.start.addTime(i), y.resource = D.id, this.cellProperties || (this.cellProperties = {});\n            var k = {};\n            k.resource = y.resource, k.start = y.start, k.end = y.end;\n            var P = m + \"_\" + w;\n\n            if (k.cssClass = null, k.html = null, k.backImage = null, k.backRepeat = null, k.backColor = null, k.business = this.Xc(y.start, y.end), this.cellProperties[P] && Abhaas.Util.copyProps(this.cellProperties[P], k, [\"cssClass\", \"html\", \"backImage\", \"backRepeat\", \"backColor\", \"business\", \"areas\", \"disabled\"]), \"function\" == typeof this.onBeforeCellRender) {\n              var x = {};\n              x.cell = k, this.onBeforeCellRender(x);\n            }\n\n            this.cellProperties[P] = k;\n            var C,\n                S = o.Yc(m, w);\n            y.root = this, y.setAttribute(\"unselectable\", \"on\"), C = document.createElement(\"div\"), C.className = o.t(\"_cell\"), C.style.position = \"relative\", C.style.height = o.cellHeight + \"px\", C.style.overflow = \"hidden\", C.setAttribute(\"unselectable\", \"on\");\n            var E = document.createElement(\"div\");\n            E.className = o.t(\"_cell_inner\"), C.appendChild(E), y.appendChild(C), y.onmousedown = this.ub, y.onmousemove = this.Eb, y.onmouseout = this.Db, Abhaas.re(y, Abhaas.touch.end, this.lc.onCellTouchEnd), y.oncontextmenu = function () {\n              return this.selected || (o.clearSelection(), t.column = t.getColumn(this), o.selectedCells.push(this), t.firstSelected = this, t.topSelectedCell = this, t.bottomSelectedCell = this, o.vb()), \"Disabled\" === o.timeRangeRightClickHandling, !1;\n            };\n            var A = o.Zc(m, w);\n            C = y.firstChild;\n            var b = \"Fixed\" === this.columnWidthSpec;\n            b && (D.width ? C.style.width = D.width + \"px\" : C.style.width = this.columnWidth + \"px\"), A && (C.firstChild.style.background = A);\n            (S ? S.business : this.Xc(y.start, y.end)) && Abhaas.Util.addClass(C, o.t(\"_cell_business\"));\n            var T = C.firstChild;\n\n            if (T && (T.innerHTML = \"\"), C.style.backgroundImage = \"\", C.style.backgroundRepeat = \"\", S && (S.html && (T.innerHTML = S.html), S.cssClass && Abhaas.Util.addClass(C, S.cssClass), S.backImage && (C.style.backgroundImage = \"url('\" + S.backImage + \"')\"), S.backRepeat && (C.style.backgroundRepeat = S.backRepeat), S.areas)) {\n              var M = {};\n              M.start = y.start, M.end = y.end, M.resource = y.resource;\n              var H = Abhaas.list(S.areas).filter(function (e) {\n                return !(e.end && new Abhaas.Date(e.end) <= y.start) && !(e.start && new Abhaas.Date(e.start) >= y.end);\n              });\n              H.forEach(function (e) {\n                if (e.start || e.end) {\n                  if (e.start) {\n                    var t = new Abhaas.Date(e.start).getTime() - y.start.getTime();\n                    e.top = o.$c(t);\n                  }\n\n                  if (e.end) {\n                    var i = new Abhaas.Date(e.end).getTime() - y.start.getTime();\n                    e.height = o.$c(i) - e.top;\n                  }\n                }\n              }), Abhaas.Areas.attach(C, M, {\n                \"areas\": H\n              });\n            }\n          }\n        }\n\n        e.onmouseup = this.Fb, e.root = this, e.style.height = n * o.cellHeight + \"px\", o.nav.scrollable.style.display = \"\", o.Hb().scrollTop = r;\n      }, this.zc = function (e) {\n        if (!r.detected) {\n          var t = o.getSelection();\n\n          if (t) {\n            var i = {};\n            if (i.start = t.start, i.end = t.end, i.resource = t.resource, i.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof o.onTimeRangeRightClick && (o.onTimeRangeRightClick(i), i.preventDefault.value)) return !1;\n            \"ContextMenu\" === o.timeRangeRightClickHandling && o.contextMenuSelection && o.contextMenuSelection.show(o.getSelection()), \"function\" == typeof o.onTimeRangeRightClicked && o.onTimeRangeRightClicked(i);\n          }\n        }\n      }, this.Xc = function (e, t) {\n        return this.businessBeginsHour < this.businessEndsHour ? !(e.getHours() < this.businessBeginsHour || e.getHours() >= this.businessEndsHour || 6 === e.getDayOfWeek() || 0 === e.getDayOfWeek()) : e.getHours() >= this.businessBeginsHour || e.getHours() < this.businessEndsHour;\n      }, this.yc = function (e) {\n        e = e || window.event, e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), t.activeCalendar = this;\n        var i = o.nav.main;\n        o.coords = Abhaas.mo3(i, e);\n        var n = Abhaas.mc(e),\n            a = o.crosshairType && \"Disabled\" !== o.crosshairType,\n            r = o.coords.x < o.hourWidth;\n        if (Abhaas.Global.moving || Abhaas.Global.resizing || Abhaas.Global.selecting || r ? o.ba() : a && o.bd(), Abhaas.Global.resizing) o.cd(n);else if (Abhaas.Global.moving) {\n          if (!Abhaas.Global.moving.helper) return void (t.movingShadow = null);\n\n          if (!t.movingShadow) {\n            var s = 3;\n            if (!(Abhaas.distance(n, t.originalMouse) > s)) return;\n            t.movingShadow = o.Ea(Abhaas.Global.moving, !o.K.ie), t.movingShadow.style.width = t.movingShadow.parentNode.offsetWidth + 1 + \"px\";\n          }\n\n          if (!o.coords) return;\n          var d = o.cellHeight,\n              c = 0,\n              h = t.moveOffsetY;\n          h || (h = d / 2), \"Top\" === this.moveBy && (h = 0);\n          var u = Math.floor((o.coords.y - h - c + d / 2) / d) * d + c;\n          u < c && (u = c);\n          var f = o.nav.main,\n              v = o.E ? o.Pa() * o.cellHeight : f.clientHeight,\n              p = parseInt(t.movingShadow.style.height);\n          u + p > v && (u = v - p);\n          var g = f.clientWidth / f.rows[0].cells.length,\n              m = Math.floor(o.coords.x / g);\n          m < 0 && (m = 0), o.rtl && (m = o.Fa.length - m - 1);\n          var y = t.movingShadow,\n              b = Abhaas.Global.moving.event,\n              w = o.eb(b, m, u),\n              D = o.eventMovingStartEndFormat;\n          \"Auto\" === D && (D = \"Clock24Hours\" === l.timeFormat() ? \"H:mm\" : \"h:mm tt\");\n          var k = {};\n          k.e = b, k.start = w.start, k.end = w.end, k.resource = w.resource, k.html = null, k.cssClass = null, k.allowed = !0, k.top = {}, k.top.width = null, k.top.space = 5, k.top.html = k.start.toString(D, l.locale()), k.top.enabled = o.eventMovingStartEndEnabled, k.bottom = {}, k.bottom.width = null, k.bottom.space = 5, k.bottom.html = k.end.toString(D, l.locale()), k.bottom.enabled = o.eventMovingStartEndEnabled, function () {\n            var e = o.dd;\n\n            if (!(e && e.start.getTime() === w.start.getTime() && e.end.getTime() === w.end.getTime() && e.resource === w.resource)) {\n              if (y.className = o.t(\"_shadow\"), y.firstChild.innerHTML = \"\", o.dd = k, y.args = k, !o.allowEventOverlap) {\n                var i = {\n                  \"id\": b.id(),\n                  \"start\": k.start,\n                  \"end\": k.end,\n                  \"resource\": k.resource\n                };\n                o.events.wb(i) && (Abhaas.Util.addClass(y, o.t(\"_shadow_forbidden\")), k.allowed = !1);\n              }\n\n              o.xb(k.start, k.end, k.resource) && (Abhaas.Util.addClass(y, o.t(\"_shadow_forbidden\")), k.allowed = !1), Abhaas.Util.removeClass(y, o.t(\"_shadow_forbidden\")), \"function\" == typeof o.onEventMoving && k.allowed && o.onEventMoving(k), k.html && (y.firstChild.innerHTML = k.html), k.cssClass && Abhaas.Util.addClass(y, k.cssClass), k.allowed || Abhaas.Util.addClass(y, o.t(\"_shadow_forbidden\")), t.movingShadow.style.top = u + \"px\";\n              var n = o.nav.events;\n              m < n.rows[0].cells.length && m >= 0 && t.movingShadow.column !== m && (t.movingShadow.column = m, t.moveShadow(n.rows[0].cells[m]));\n              var a = m,\n                  r = y;\n              o.Bb(r, a, k);\n            }\n          }();\n        } else if (t.firstMousePos) {\n          var P = o.ed(o.coords.x),\n              x = Math.floor(o.coords.y / o.cellHeight),\n              C = o.nav.main.rows[x].cells[P];\n\n          if (!Abhaas.Global.selecting) {\n            var S = t.firstMousePos,\n                E = o.coords;\n            S.x === E.x && S.y === E.y || (Abhaas.Global.selecting = {\n              \"calendar\": o\n            });\n          }\n\n          if (!Abhaas.Global.selecting) return;\n          var n = o.coords,\n              A = t.getColumn(C);\n          A !== t.column && (C = o.nav.main.rows[x].cells[t.column]);\n          var T = Abhaas.Global.selecting;\n          if (T.last && T.last.x === P && T.last.y === x) return;\n          T.last = {\n            \"x\": P,\n            \"y\": x\n          }, n.y < t.firstMousePos.y ? (o.selectedCells = t.getCellsBelow(C), t.topSelectedCell = o.selectedCells[0], t.bottomSelectedCell = t.firstSelected) : (o.selectedCells = t.getCellsAbove(C), t.topSelectedCell = t.firstSelected, t.bottomSelectedCell = o.selectedCells[0]), o.vb();\n        }\n\n        if (t.drag) {\n          if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, !t.movingShadow && o.coords) {\n            var y = o.Ea(t.drag, !1);\n\n            if (y) {\n              t.movingShadow = y;\n              var E = Abhaas.Date.today(),\n                  e = {\n                \"id\": t.drag.id,\n                \"start\": E,\n                \"end\": E.addSeconds(t.drag.duration),\n                \"text\": t.drag.text\n              },\n                  M = t.drag.data;\n\n              if (M) {\n                var H = [\"duration\", \"element\", \"remove\", \"id\", \"text\"];\n\n                for (var _ in M) Abhaas.contains(H, _) || (e[_] = M[_]);\n              }\n\n              var R = new Abhaas.Event(e, o);\n              R.external = !0, Abhaas.Global.moving = {}, Abhaas.Global.moving.event = R, Abhaas.Global.moving.helper = {};\n            }\n          }\n\n          e.cancelBubble = !0;\n        }\n      }, this.fd = function (e) {\n        t.movingShadow.offsetTop, Abhaas.Global.moving.event, t.movingShadow.column;\n      }, this.xb = function (e, t, i) {\n        return o.gd(e, t, i).some(function (e) {\n          return e.disabled;\n        });\n      }, this.gd = function (e, t, i) {\n        var n = [];\n\n        for (var a in o.cellProperties) {\n          var r = o.cellProperties[a];\n          (!i || i === r.resource) && Abhaas.Util.overlaps(e, t, r.start, r.end) && n.push(r);\n        }\n\n        return n;\n      }, this.cd = function (e) {\n        if (!Abhaas.Global.resizing.event) return Abhaas.Global.resizing = null, Abhaas.de(t.resizingShadow), void (t.resizingShadow = null);\n        t.resizingShadow || (t.resizingShadow = o.Ea(Abhaas.Global.resizing, !1));\n        var i = Abhaas.Global.resizing.event.calendar.cellHeight,\n            n = 0,\n            a = e.y - t.originalMouse.y,\n            r = Abhaas.Global.resizing.event,\n            s = r.start(),\n            d = r.end();\n\n        if (\"bottom\" === Abhaas.Global.resizing.dpBorder) {\n          var c = Math.floor((t.originalHeight + t.originalTop + a + i / 2) / i) * i - t.originalTop + n;\n          c < i && (c = i);\n          var h = o.E ? o.Pa() * o.cellHeight : o.nav.main.clientHeight;\n          t.originalTop + c > h && (c = h - t.originalTop), t.resizingShadow.style.height = c + \"px\", d = o.bb(r, t.originalTop + c);\n        } else if (\"top\" === Abhaas.Global.resizing.dpBorder) {\n          var u = Math.floor((t.originalTop + a - n + i / 2) / i) * i + n;\n          u < n && (u = n), u > t.originalTop + t.originalHeight - i && (u = t.originalTop + t.originalHeight - i);\n          var c = t.originalHeight - (u - t.originalTop);\n          c < i ? c = i : t.resizingShadow.style.top = u + \"px\", t.resizingShadow.style.height = c + \"px\", s = o.ab(r, u);\n        }\n\n        var f = t.resizingShadow,\n            v = o.eventResizingStartEndFormat;\n        \"Auto\" === v && (v = \"Clock24Hours\" === l.timeFormat() ? \"H:mm\" : \"h:mm tt\");\n        var p = {};\n\n        if (p.start = s, p.end = d, p.resource = r.resource(), p.allowed = !0, p.html = null, p.cssClass = null, p.top = {}, p.top.width = null, p.top.space = 5, p.top.html = p.start.toString(v, l.locale()), p.top.enabled = o.eventResizingStartEndEnabled, p.bottom = {}, p.bottom.width = null, p.bottom.space = 5, p.bottom.html = p.end.toString(v, l.locale()), p.bottom.enabled = o.eventResizingStartEndEnabled, f.args = p, f.firstChild.innerHTML = \"\", f.className = o.t(\"_shadow\"), !o.allowEventOverlap) {\n          var g = {\n            \"id\": r.id(),\n            \"start\": p.start,\n            \"end\": p.end,\n            \"resource\": p.resource\n          };\n          o.events.wb(g) && (Abhaas.Util.addClass(f, o.t(\"_shadow_forbidden\")), p.allowed = !1);\n        }\n\n        o.xb(p.start, p.end, p.resource) && (Abhaas.Util.addClass(f, o.t(\"_shadow_forbidden\")), p.allowed = !1), \"function\" == typeof o.onEventResizing && p.allowed && o.onEventResizing(p), p.html && (f.firstChild.innerHTML = p.html), p.cssClass && Abhaas.Util.addClass(f, p.cssClass);\n        var m = r.part.dayIndex,\n            y = f;\n        o.Bb(y, m, p);\n      }, this.temp = {}, this.temp.getPosition = function () {\n        var e = o.hd.getCellCoords();\n        if (!e) return null;\n        var t = o.Fa[e.x],\n            i = {};\n        return i.resource = t.id, i.start = new Abhaas.Date(t.start).addHours(o.La(!0)).addMinutes(e.y * o.cellDuration), i.end = i.start.addMinutes(o.cellDuration), i;\n      }, this.hd = {}, this.hd.getCellCoords = function () {\n        var e = {};\n        if (e.x = 0, e.y = 0, !o.coords) return null;\n\n        for (var t = o.nav.main, i = o.coords.x, n = 0, a = this.col(t, n); a && i > a.left;) n += 1, a = this.col(t, n);\n\n        e.x = n - 1;\n        var r = 0,\n            l = Math.floor((o.coords.y - r) / o.cellHeight);\n        return e.y = l, e.x < 0 ? null : e;\n      }, this.hd.col = function (e, t) {\n        var i = {};\n        if (i.left = 0, i.width = 0, !e) return null;\n        if (!e.rows) return null;\n        if (0 === e.rows.length) return null;\n        if (0 == e.rows[0].cells.length) return null;\n        var n = e.rows[0].cells[t];\n        if (!n) return null;\n        var a = Abhaas.abs(e),\n            o = Abhaas.abs(n);\n        return i.left = o.x - a.x, i.width = n.offsetWidth, i;\n      }, this.bd = function () {\n        this.ba(), this.elements.crosshair || (this.elements.crosshair = []);\n        var e = this.hd.getCellCoords();\n\n        if (e) {\n          var t = e.x,\n              i = Math.floor(e.y / (60 / o.cellDuration) * (60 / o.timeHeaderCellDuration));\n\n          if (!(i < 0)) {\n            if (this.nav.hourTable) {\n              if (i >= this.nav.hourTable.rows.length) return;\n              var n = document.createElement(\"div\");\n              n.style.position = \"absolute\", n.style.left = \"0px\", n.style.right = \"0px\", n.style.top = \"0px\", n.style.bottom = \"0px\", n.className = o.t(\"_crosshair_left\"), this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(n), this.elements.crosshair.push(n);\n            }\n\n            if (this.nav.header) {\n              var a = document.createElement(\"div\");\n              a.style.position = \"absolute\", a.style.left = \"0px\", a.style.right = \"0px\", a.style.top = \"0px\", a.style.bottom = \"0px\", a.className = o.t(\"_crosshair_top\");\n              var r = this.nav.header.rows[this.headerLevels - 1];\n              r.cells[t] && (r.cells[t].firstChild.appendChild(a), this.elements.crosshair.push(a));\n            }\n\n            if (\"Header\" !== this.crosshairType) {\n              var l = this.nav.crosshair,\n                  s = 0,\n                  d = Math.floor((o.coords.y - s) / o.cellHeight) * o.cellHeight + s,\n                  c = o.cellHeight,\n                  h = document.createElement(\"div\");\n              h.style.position = \"absolute\", h.style.left = \"0px\", h.style.right = \"0px\", h.style.top = d + \"px\", h.style.height = c + \"px\", h.className = o.t(\"_crosshair_horizontal\"), h.onmousedown = this.jd, l.appendChild(h), this.elements.crosshair.push(h);\n              var u = this.hd.col(this.nav.main, t);\n\n              if (c = o.Ac(), u) {\n                var f = document.createElement(\"div\");\n                f.style.position = \"absolute\", f.style.left = u.left + \"px\", f.style.width = u.width + \"px\", f.style.top = \"0px\", f.style.height = c + \"px\", f.className = o.t(\"_crosshair_vertical\"), f.onmousedown = this.jd, l.appendChild(f), this.elements.crosshair.push(f);\n              }\n            }\n          }\n        }\n      }, this.jd = function (e) {\n        o.ba();\n        var t = o.hd.getCellCoords(),\n            i = 0,\n            n = o.nav.main.rows[t.y + i].cells[t.x];\n        o.ub.apply(n, [e]);\n      }, this.ba = function () {\n        if (this.elements.crosshair && 0 !== this.elements.crosshair.length) {\n          for (var e = 0; e < this.elements.crosshair.length; e++) {\n            var t = this.elements.crosshair[e];\n            t && t.parentNode && t.parentNode.removeChild(t);\n          }\n\n          this.elements.crosshair = [];\n        }\n      }, this.ka = function () {\n        if (this.cellConfig) {\n          var e = this.cellConfig;\n          if (e.vertical) for (var t = 0; t < e.x; t++) for (var i = this.cellProperties[t + \"_0\"], n = 1; n < e.y; n++) this.cellProperties[t + \"_\" + n] = i;\n          if (e.horizontal) for (var n = 0; n < e.y; n++) for (var i = this.cellProperties[\"0_\" + n], t = 1; t < e.x; t++) this.cellProperties[t + \"_\" + n] = i;\n          if (e[\"default\"]) for (var i = e[\"default\"], n = 0; n < e.y; n++) for (var t = 0; t < e.x; t++) this.cellProperties[t + \"_\" + n] || (this.cellProperties[t + \"_\" + n] = i);\n        }\n      }, this.Yc = function (e, t) {\n        return this.cellProperties ? this.cellProperties[e + \"_\" + t] : null;\n      }, this.kd = function (e, t) {\n        var i = e + \"_\" + t;\n        return !(!this.cellProperties || !this.cellProperties[i]) && this.cellProperties[i].business;\n      }, this.Zc = function (e, t) {\n        var i = e + \"_\" + t;\n        return this.cellProperties && this.cellProperties[i] ? this.cellProperties[i].backColor : null;\n      }, this.X = function () {\n        var e = this.nav.header;\n        if (e && e.rows) for (var t = 0; t < e.rows.length; t++) for (var i = e.rows[t], n = 0; n < i.cells.length; n++) {\n          var a = i.cells[n];\n          a.onclick = null, a.onmousemove = null, a.onmouseout = null;\n        }\n        this.F || Abhaas.pu(e);\n      }, this.ld = function (e) {\n        var t = e + 1,\n            i = this.cc(t),\n            n = i.length,\n            a = t === o.headerLevels,\n            r = o.Wc(),\n            s = e * o.headerHeight,\n            d = [];\n        o.nav.header.rows.push({\n          \"cells\": d\n        });\n\n        for (var c = 0, h = 0, u = 0; u < n; u++) {\n          var f = i[u],\n              v = r[u];\n\n          if (o.Da() && \"function\" == typeof o.onBeforeHeaderRender) {\n            var p = {};\n            p.header = {}, Abhaas.Util.copyProps(f, p.header, [\"id\", \"start\", \"name\", \"html\", \"backColor\", \"toolTip\", \"areas\", \"children\"]), this.onBeforeHeaderRender(p), Abhaas.Util.copyProps(p.header, f, [\"html\", \"backColor\", \"toolTip\", \"areas\"]);\n          }\n\n          var g = !!f.getChildren,\n              m = v.width;\n\n          if (!a) {\n            var y = g ? f.getChildrenCount(o.headerLevels - t + 1) : 1;\n            Abhaas.list.for(y - 1, function () {\n              m += r[u + c].width, c += 1;\n            });\n          }\n\n          var b = document.createElement(\"div\");\n          b.style.position = \"absolute\", b.style.top = s + \"px\", b.style.left = h + v.unit, b.style.width = m + v.unit, b.data = f, d.push(b), g && (b.onclick = this.Wa, b.onmousemove = this.Xa, b.onmouseout = this.Ya, f.toolTip && (b.title = f.toolTip)), b.style.overflow = \"hidden\", b.style.height = l.headerHeight() + \"px\";\n          var w = document.createElement(\"div\");\n          w.setAttribute(\"unselectable\", \"on\"), w.style.userSelect = \"none\", w.style.position = \"relative\", w.style.height = l.headerHeight() + \"px\", w.className = o.t(\"_colheader\");\n          var D = document.createElement(\"div\");\n          D.className = o.t(\"_colheader_inner\"), f.backColor && (D.style.background = f.backColor), w.appendChild(D), b.appendChild(w), this.md(w, f), g && (w.firstChild.innerHTML = f.html), o.nav.header.appendChild(b), h += m;\n        }\n      }, this.nd = function (e, t) {\n        for (var i = t ? this.nav.header.insertRow(-1) : this.nav.header.rows[e - 1], n = this.cc(e), a = n.length, r = e === o.headerLevels, s = 0; s < a; s++) {\n          var d = n[s];\n\n          if (o.Da() && \"function\" == typeof o.onBeforeHeaderRender) {\n            var c = {};\n            c.header = {}, Abhaas.Util.copyProps(d, c.header, [\"id\", \"start\", \"name\", \"html\", \"backColor\", \"toolTip\", \"areas\", \"children\"]), this.onBeforeHeaderRender(c), Abhaas.Util.copyProps(c.header, d, [\"html\", \"backColor\", \"toolTip\", \"areas\"]);\n          }\n\n          var h = !!d.getChildren,\n              u = t ? i.insertCell(-1) : i.cells[s];\n          if (u.data = d, r) ;else {\n            var f = 1;\n            h && (f = d.getChildrenCount(o.headerLevels - e + 1)), u.colSpan = f;\n          }\n          h && (u.onclick = this.Wa, u.onmousemove = this.Xa, u.onmouseout = this.Ya, d.toolTip && (u.title = d.toolTip)), u.style.overflow = \"hidden\", u.style.padding = \"0px\", u.style.border = \"0px none\", u.style.height = l.headerHeight() + \"px\";\n          var v = t ? document.createElement(\"div\") : u.firstChild;\n\n          if (t) {\n            v.setAttribute(\"unselectable\", \"on\"), v.style.MozUserSelect = \"none\", v.style.KhtmlUserSelect = \"none\", v.style.WebkitUserSelect = \"none\", v.style.position = \"relative\", v.style.height = l.headerHeight() + \"px\", v.className = o.t(\"_colheader\");\n            var p = document.createElement(\"div\");\n            p.className = o.t(\"_colheader_inner\"), d.backColor && (p.style.background = d.backColor), v.appendChild(p), u.appendChild(v);\n          } else v.style.height = l.headerHeight() + \"px\";\n\n          this.md(v, d), h && (v.firstChild.innerHTML = d.html);\n        }\n      }, this.md = function (e, i) {\n        for (var n = [], a = 0; a < e.childNodes.length; a++) {\n          var o = e.childNodes[a];\n          o.isActiveArea && n.push(o);\n        }\n\n        for (var a = 0; a < n.length; a++) {\n          var o = n[a];\n          Abhaas.de(o);\n        }\n\n        if (i.areas) for (var r = i.areas, a = 0; a < r.length; a++) {\n          var l = r[a],\n              s = l.visibility || l.v;\n\n          if (\"Visible\" === s) {\n            var d = new t.Column(i.id, i.name, i.start),\n                c = Abhaas.Areas.createArea(e, d, l);\n            e.appendChild(c);\n          }\n        }\n      }, this.na = function () {\n        o.E ? o.od() : o.pd();\n      }, this.od = function () {\n        var e = o.nav.header;\n\n        if (e.innerHTML = \"\", e.rows = [], this.showHeader) {\n          var t = this.cc(o.headerLevels, !0),\n              i = t.length;\n          this.qd = !0;\n          var n = o.nav.corner;\n\n          if (n) {\n            this.F || Abhaas.pu(n.firstChild);\n            var a = {};\n            a.html = o.cornerHTML || o.cornerHtml, \"function\" == typeof o.onBeforeCornerRender && o.onBeforeCornerRender(a), n.firstChild.innerHTML = a.html ? a.html : \"\";\n          }\n\n          for (var r = 0; r < o.headerLevels; r++) this.ld(r);\n\n          if (this.showAllDayEvents) {\n            var s = [];\n            o.nav.header.rows.push({\n              \"cells\": s\n            });\n\n            for (var d = o.Wc(), c = o.headerLevels * o.headerHeight, h = 0; h < i; h++) {\n              var u = t[h],\n                  f = d[h],\n                  v = document.createElement(\"div\");\n              v.data = u, v.style.overflow = \"hidden\", v.style.position = \"absolute\", v.style.left = f.left + f.unit, v.style.width = f.width + f.unit, v.style.top = c + \"px\";\n              var p = document.createElement(\"div\");\n              p.setAttribute(\"unselectable\", \"on\"), p.style.userSelect = \"none\", p.style.overflow = \"hidden\", p.style.position = \"relative\", p.style.height = l.allDayHeaderHeight() + \"px\", p.className = this.t(\"_alldayheader\");\n              var g = document.createElement(\"div\");\n              g.className = this.t(\"_alldayheader_inner\"), p.appendChild(g), v.appendChild(p), p.style.height = l.allDayHeaderHeight() + \"px\", s.push(v), e.appendChild(v);\n            }\n          }\n        }\n      }, this.pd = function () {\n        if (this.showHeader) {\n          var e = this.nav.header,\n              t = !0,\n              i = this.cc(o.headerLevels, !0),\n              n = i.length;\n\n          for (Abhaas.de(this.nav.header), this.Qc(); this.qd && e && e.rows && e.rows.length > 0;) this.F || Abhaas.pu(e.rows[0]), e.deleteRow(0);\n\n          this.qd = !0;\n          var a = o.nav.corner;\n\n          if (a) {\n            this.F || Abhaas.pu(a.firstChild);\n            var r = {};\n            r.html = o.cornerHTML || o.cornerHtml, \"function\" == typeof o.onBeforeCornerRender && o.onBeforeCornerRender(r), a.firstChild.innerHTML = r.html ? r.html : \"\";\n          }\n\n          for (var s = 0; s < o.headerLevels; s++) this.nd(s + 1, t);\n\n          if (this.showAllDayEvents) for (var d = this.nav.header.insertRow(-1), s = 0; s < n; s++) {\n            var c = i[s],\n                h = d.insertCell(-1);\n            h.data = c, h.style.padding = \"0px\", h.style.border = \"0px none\", h.style.overflow = \"hidden\";\n            var u = document.createElement(\"div\");\n            u.setAttribute(\"unselectable\", \"on\"), u.style.MozUserSelect = \"none\", u.style.KhtmlUserSelect = \"none\", u.style.WebkitUserSelect = \"none\", u.style.overflow = \"hidden\", u.style.position = \"relative\", u.style.height = l.allDayHeaderHeight() + \"px\", u.className = this.t(\"_alldayheader\");\n            var f = document.createElement(\"div\");\n            f.className = this.t(\"_alldayheader_inner\"), u.appendChild(f), h.appendChild(u), u.style.height = l.allDayHeaderHeight() + \"px\";\n          }\n        }\n      }, this.P = function (e) {\n        var t = e ? 0 : 100;\n        this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.callbackTimeout = window.setTimeout(function () {\n          o.loadingLabelVisible && o.nav.loading && (o.nav.loading.innerHTML = o.loadingLabelText, o.nav.loading.style.top = o.Ma() + 5 + \"px\", o.nav.loading.style.display = \"\");\n        }, t);\n      }, this.fa = function () {\n        this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.nav.loading && (this.nav.loading.style.display = \"none\");\n      }, this.rd = function (e) {\n        var t = o.La(!0);\n        return e < t && (e += 24), (e - t) * (60 / o.cellDuration) * o.cellHeight;\n      }, this._c = function () {\n        var e = this.Hb(),\n            t = this.initScrollPos;\n\n        if (!t) {\n          var i = this.businessBeginsHour;\n          t = o.rd(i);\n        }\n\n        e.root = this, e.onscroll = this.Gb, 0 === e.scrollTop ? e.scrollTop = t - this.zb() : this.Gb();\n      }, this.sd = function () {\n        var e = o.nav.top;\n        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;\n      }, this.td = function () {\n        var e = o.sd;\n        e() || o.ud || (o.ud = setInterval(function () {\n          e() && (clearInterval(o.ud), o._c(), o.va());\n        }, 100));\n      }, this.scrollToY = function (e) {\n        this.Hb().scrollTop = e;\n      }, this.scrollToHour = function (e) {\n        var t = o.rd(e);\n        this.Hb().scrollTop = t - this.zb();\n      }, this.Hb = function () {\n        return \"Fixed\" === this.columnWidthSpec || this.D ? this.nav.bottomRight : this.nav.scroll;\n      }, this.onCallbackError = function (e, t) {\n        alert(\"Error!\\r\\nResult: \" + e + \"\\r\\nContext:\" + t);\n      }, this.va = function () {\n        if (o.showHeader) {\n          var e = this.Oc(),\n              t = !!this.nav.cornerRight;\n\n          if (this.D) {\n            this.nav.unifiedCornerRight && Abhaas.de(this.nav.unifiedCornerRight);\n            var i = (o.Hb(), o.nav.main.getBoundingClientRect().width),\n                n = o.Dc();\n            if (\"100%\" != n && parseInt(n) < i) return;\n            var a,\n                r = Abhaas.sw(this.nav.bottomRight);\n            o.E ? (a = document.createElement(\"div\"), a.style.position = \"absolute\", a.style.left = i + \"px\", a.style.height = o.Ma() + \"px\", o.nav.headerParent.appendChild(a), o.nav.unifiedCornerRight = a, o.nav.header.style.width = i + \"px\") : (this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1), a = this.nav.unifiedCornerRight, a.rowSpan = this.nav.header.rows.length), a.style.width = r + \"px\";\n            var l = document.createElement(\"div\");\n            l.className = o.t(\"_cornerright\"), l.setAttribute(\"unselectable\", \"on\"), l.style.overflow = \"hidden\", l.style.height = this.Ma() + \"px\", l.style.position = \"relative\";\n            var s = document.createElement(\"div\");\n            s.className = o.t(\"_cornerright_inner\"), l.appendChild(s), a.appendChild(l);\n            return void (!(\"Fixed\" === this.columnWidthSpec) && this.nav.allday && (this.nav.allday.style.right = r + \"px\"));\n          }\n\n          if (e !== t) if (e) this.Rc();else {\n            if (this.nav.fullHeader && 3 === this.nav.fullHeader.rows[0].cells.length) {\n              var a = this.nav.fullHeader.rows[0].cells[2];\n              a.parentNode && a.parentNode.removeChild(a);\n            }\n\n            this.nav.cornerRight = null;\n          }\n          var d = this.nav.cornerRight;\n\n          if (d) {\n            var r = Abhaas.sw(o.Na());\n            return d && (d.style.width = r + \"px\"), r;\n          }\n        }\n      }, this.Ca = function (e) {\n        if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.H >= this.autoRefreshMaxCount)) {\n          this.U();\n          var t = this.autoRefreshInterval;\n          if (!t || t < 10) throw \"The minimum autoRefreshInterval is 10 seconds\";\n          this.autoRefreshTimeout = window.setTimeout(function () {\n            o.vd();\n          }, 1e3 * this.autoRefreshInterval);\n        }\n      }, this.U = function () {\n        this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout);\n      }, this.vd = function () {\n        if (!(Abhaas.Global.resizing || Abhaas.Global.moving || t.drag || Abhaas.Global.selecting)) {\n          var e = !1;\n\n          if (\"function\" == typeof this.onAutoRefresh) {\n            var i = {};\n            i.i = this.H, i.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, o.onAutoRefresh(i), i.preventDefault.value && (e = !0);\n          }\n\n          !e && this.z() && this.commandCallBack(this.autoRefreshCommand), this.H++;\n        }\n\n        this.H < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () {\n          o.vd();\n        }, 1e3 * this.autoRefreshInterval));\n      }, this.Y = function () {\n        o.ta(), \"Parent100Pct\" === o.heightSpec && o.setHeight(parseInt(o.nav.top.clientHeight, 10)), o.va(), o.Ba();\n      }, this.xd = function () {\n        t.globalHandlers || (t.globalHandlers = !0, Abhaas.re(document, \"mousemove\", t.gMouseMove), Abhaas.re(document, \"mouseup\", t.gMouseUp), Abhaas.re(document, Abhaas.touch.move, t.gTouchMove), Abhaas.re(document, Abhaas.touch.end, t.gTouchEnd)), Abhaas.re(window, \"resize\", this.Y);\n      }, this.kc = function (e) {\n        if (!r.active && !r.using) {\n          e = e || window.event;\n          var i = Abhaas.Util.mouseButton(e);\n          if (t.editing) return void t.editing.blur();\n\n          if (\"undefined\" != typeof Abhaas.Bubble && (Abhaas.Bubble.hideActive(), Abhaas.Bubble.cancelShowing()), \"n-resize\" !== this.style.cursor && \"s-resize\" !== this.style.cursor || !i.left) {\n            if ((\"move\" === this.style.cursor || \"Full\" === o.moveBy && this.event.client.moveEnabled()) && i.left) {\n              Abhaas.Global.moving = this;\n              var n = Abhaas.Global.moving.helper = {};\n              n.oldColumn = o.Fa[this.event.part.dayIndex].id, t.originalMouse = Abhaas.mc(e), t.originalTop = this.offsetTop;\n              var a = Abhaas.mo3(this, e);\n              a ? t.moveOffsetY = a.y : t.moveOffsetY = 0, o.nav.top.style.cursor = this.style.cursor;\n            }\n          } else Abhaas.Global.resizing = this, t.originalMouse = Abhaas.mc(e), t.originalHeight = this.offsetHeight, t.originalTop = this.offsetTop, o.nav.top.style.cursor = this.style.cursor;\n\n          return !1;\n        }\n      }, this.yd = function (e) {\n        var t = this.G.events,\n            i = this.events.list[e],\n            n = {};\n\n        for (var a in i) n[a] = i[a];\n\n        if (o.showEventStartEnd) {\n          var r = i.start.getDatePart().getTime() === i.end.getDatePart().getTime(),\n              s = r ? l.locale().timePattern : l.locale().dateTimePattern,\n              d = i.start.toString(s),\n              c = i.end.toString(s);\n          n.html = n.text + \" (\" + d + \" - \" + c + \")\";\n        }\n\n        if (\"function\" == typeof this.onBeforeEventRender) {\n          var h = {};\n          h.e = n, h.data = n, this.onBeforeEventRender(h);\n        }\n\n        t[e] = n;\n      }, this.lc = {};\n      var r = o.lc;\n      r.active = !1, r.start = null, r.timeout = null, r.startcell = null, this.lc.getCellCoords = function (e) {\n        var t, i;\n        e.touches ? (t = e.touches[0].pageX, i = e.touches[0].pageY) : (t = e.pageX, i = e.pageY);\n        var n = Abhaas.abs(o.nav.main),\n            a = {\n          x: t - n.x,\n          y: i - n.y\n        },\n            r = o.nav.main.clientWidth / o.Fa.length;\n        return {\n          \"pageX\": t,\n          \"pageY\": i,\n          \"x\": Math.floor(a.x / r),\n          \"y\": Math.floor(a.y / o.cellHeight),\n          \"toString\": function () {\n            return \"x: \" + this.x + \" y:\" + this.y;\n          }\n        };\n      }, this.lc.startSelecting = function (e) {\n        var i = o.nav.main.rows[e.y].cells[e.x];\n        r.startcell = e, o.clearSelection(), t.column = t.getColumn(i), o.selectedCells.push(i), t.firstSelected = i, t.topSelectedCell = i, t.bottomSelectedCell = i, Abhaas.Global.selecting = {\n          \"calendar\": o\n        }, o.vb();\n      }, this.lc.extendSelection = function (e) {\n        var i = o.nav.main.rows[e.y].cells[e.x];\n        o.clearSelection(), Abhaas.Global.selecting = {\n          \"calendar\": o\n        }, e.y < r.startcell.y ? (o.selectedCells = t.getCellsBelow(i), t.topSelectedCell = o.selectedCells[0], t.bottomSelectedCell = t.firstSelected) : (o.selectedCells = t.getCellsAbove(i), t.topSelectedCell = t.firstSelected, t.bottomSelectedCell = o.selectedCells[0]), o.vb();\n      }, this.lc.detected = !1, this.lc.onMainTouchStart = function (e) {\n        if (!(Abhaas.Util.isMouseEvent(e) || (r.start = !0, r.detected = !0, r.active || e.touches.length > 1))) {\n          r.using = !0;\n          var t = r.getCellCoords(e);\n          r.startCoords = t;\n          var i = o.tapAndHoldTimeout;\n          r.timeout = window.setTimeout(function () {\n            switch (e.preventDefault(), r.active = !0, r.start = !1, o.timeRangeTapAndHoldHandling) {\n              case \"Select\":\n                r.startSelecting(t);\n                break;\n\n              case \"ContextMenu\":\n                r.startSelecting(t), r.active = !1, o.contextMenuSelection && o.contextMenuSelection.show(o.getSelection());\n            }\n          }, i);\n        }\n      }, this.lc.onCellTouchMove = function (e) {}, this.lc.onCellTouchEnd = function (e) {\n        if (!r.active) return window.clearTimeout(r.timeout), void (r.start && !function (e) {\n          if (\"Disabled\" !== o.timeRangeSelectedHandling) {\n            o.clearSelection(), o.selectedCells = [e], t.topSelectedCell = e, t.bottomSelectedCell = e, o.vb();\n            var i = o.getSelection();\n            i.toString = function () {\n              return \"start: \" + this.start + \"\\nend: \" + this.end;\n            }, setTimeout(function () {\n              o.mb(i.start, i.end, i.resource);\n            }, 10);\n          }\n        }(this));\n        e.preventDefault(), e.stopPropagation(), r.startcell = null, r.start = !1;\n        var i = o.getSelection();\n        i.toString = function () {\n          return \"start: \" + this.start + \"\\nend: \" + this.end;\n        }, o.mb(i.start, i.end, i.resource), window.setTimeout(function () {\n          r.active = !1;\n        }, 500);\n      }, this.lc.startMoving = function (e, i) {\n        Abhaas.Global.moving = e, (Abhaas.Global.moving.helper = {}).oldColumn = o.Fa[e.event.part.dayIndex].id, t.originalMouse = i, t.originalTop = this.offsetTop;\n        var n = Abhaas.abs(e);\n        t.moveOffsetY = i.y - n.y, t.movingShadow || (t.movingShadow = o.Ea(Abhaas.Global.moving, !o.K.ie), t.movingShadow.style.width = t.movingShadow.parentNode.offsetWidth + 1 + \"px\");\n      }, this.lc.startResizing = function (e, i, n) {\n        Abhaas.Global.resizing = e, e.dpBorder = i, t.originalMouse = n, t.originalHeight = e.offsetHeight, t.originalTop = e.offsetTop;\n      }, this.lc.updateResizing = function (e) {\n        o.cd(e);\n      }, this.lc.updateMoving = function () {\n        var e = o.coords,\n            i = o.cellHeight,\n            n = 0,\n            a = t.moveOffsetY;\n        a || (a = i / 2);\n        var r = Math.floor((e.y - a - n + i / 2) / i) * i + n;\n        r < n && (r = n);\n        var l = o.nav.main,\n            s = o.Ac(),\n            d = parseInt(t.movingShadow.style.height);\n        r + d > s && (r = s - d), t.movingShadow.style.top = r + \"px\", t.movingShadow.allowed = !0;\n        var c = l.clientWidth / l.rows[0].cells.length,\n            h = Math.floor(e.x / c);\n        h < 0 && (h = 0);\n        var u = o.nav.events;\n        h < u.rows[0].cells.length && h >= 0 && t.movingShadow.column !== h && (t.movingShadow.column = h, t.moveShadow(u.rows[0].cells[h]));\n      }, this.lc.onEventTouchStart = function (e) {\n        if (!r.active && !Abhaas.Util.isMouseEvent(e)) {\n          e.stopPropagation(), r.preventEventTap = !1, r.using = !0, r.startCoords = r.getCellCoords(e);\n          var t = this,\n              i = e.touches ? e.touches[0].pageX : e.pageX,\n              n = e.touches ? e.touches[0].pageY : e.pageY,\n              a = {\n            x: i,\n            y: n,\n            div: this\n          };\n          o.coords = r.relativeCoords(e);\n          var l = o.tapAndHoldTimeout;\n          r.timeout = window.setTimeout(function () {\n            var i = t.event;\n\n            switch (r.active = !0, o.eventTapAndHoldHandling) {\n              case \"Move\":\n                i.client.moveEnabled() && r.startMoving(t, a);\n                break;\n\n              case \"ContextMenu\":\n                var n = i.client.contextMenu();\n                Abhaas.Menu && Abhaas.Menu.touchPosition(e), n ? n.show(i) : o.contextMenu && o.contextMenu.show(i);\n            }\n          }, l);\n        }\n      }, this.lc.onMainTouchMove = function (e) {\n        if (!Abhaas.Util.isMouseEvent(e)) {\n          if (r.start = !1, r.timeout) {\n            var i = r.getCellCoords(e);\n            i && r.startCoords && (i.pageX === r.startCoords.pageX && i.pageY === r.startCoords.pageY || window.clearTimeout(o.lc.timeout));\n          }\n\n          if (Abhaas.Global.moving && t.movingShadow) return e.preventDefault(), o.coords = r.relativeCoords(e), void r.updateMoving();\n\n          if (Abhaas.Global.resizing) {\n            e.preventDefault();\n            var n = e.touches ? e.touches[0] : e,\n                i = {\n              x: n.pageX,\n              y: n.pageY\n            };\n            return void r.updateResizing(i);\n          }\n\n          if (r.startcell) {\n            if (e.preventDefault(), !r.active) return void window.clearTimeout(r.timeout);\n            var i = r.getCellCoords(e);\n            r.extendSelection(i);\n          }\n\n          r.preventEventTap = !0;\n        }\n      }, this.lc.relativeCoords = function (e) {\n        var t = o.nav.main,\n            i = e.touches ? e.touches[0].pageX : e.pageX,\n            n = e.touches ? e.touches[0].pageY : e.pageY,\n            a = Abhaas.abs(t);\n        return {\n          x: i - a.x,\n          y: n - a.y,\n          \"toString\": function () {\n            return \"x: \" + this.x + \", y:\" + this.y;\n          }\n        };\n      }, this.lc.onMainTouchEnd = function (e) {\n        if (!Abhaas.Util.isMouseEvent(e)) if (Abhaas.Global.moving) {\n          r.active = !1, e.preventDefault(), e.stopPropagation();\n          var i = t.movingShadow.offsetTop,\n              n = Abhaas.Global.moving.event,\n              a = n.calendar;\n          a.Cb(t.movingShadow);\n          var o = t.movingShadow.column,\n              l = t.movingShadow;\n          if (Abhaas.Global.moving = null, t.movingShadow = null, !l.allowed) return;\n          n.calendar.fb(n, o, i, e, t.drag);\n        } else if (r.startcell) {\n          if (!r.active) return void window.clearTimeout(r.timeout);\n          e.preventDefault(), r.startcell = null;\n          var s = a.getSelection();\n          s.toString = function () {\n            return \"start: \" + this.start + \"\\nend: \" + this.end;\n          }, a.mb(s.start, s.end, s.resource), window.setTimeout(function () {\n            r.active = !1;\n          }, 500);\n        }\n      }, this.lc.onEventTouchMove = function (e) {\n        r.preventEventTap = !0;\n      }, this.lc.onEventTouchEnd = function (e) {\n        if (!Abhaas.Util.isMouseEvent(e)) {\n          if (!r.active) {\n            if (r.preventEventTap) return;\n            return window.clearTimeout(r.timeout), void o.Ra(this, !1, !1, e);\n          }\n\n          return r.active = !1, r.timeout ? void window.clearTimeout(r.timeout) : void 0;\n        }\n      }, this.ic = function (e) {\n        var i = 5,\n            n = 10,\n            a = \"Top\" === o.moveBy;\n\n        if (\"undefined\" != typeof t) {\n          var r = Abhaas.mo3(this, e);\n\n          if (r) {\n            o.eventOffset = r;\n            var l = this;\n\n            if (!l.active) {\n              var s = [];\n              l.event.client.deleteEnabled() && s.push({\n                \"action\": \"JavaScript\",\n                \"v\": \"Hover\",\n                \"w\": 17,\n                \"h\": 17,\n                \"top\": 2,\n                \"right\": 2,\n                \"css\": o.t(\"_event_delete\"),\n                \"js\": function (e) {\n                  o.Za(e);\n                }\n              });\n              var d = l.event.cache ? l.event.cache.areas : l.event.data.areas;\n              d && d.length > 0 && (s = s.concat(d));\n              Abhaas.Global.moving || Abhaas.Global.resizing || Abhaas.Global.selecting || Abhaas.Areas.showAreas(l, l.event, null, s), Abhaas.Util.addClass(l, o.t(\"_event_hover\"));\n            }\n\n            if (!Abhaas.Global.resizing && !Abhaas.Global.moving) {\n              var c = this.isFirst,\n                  h = this.isLast;\n\n              if (\"Disabled\" !== o.moveBy && \"None\" !== o.moveBy && (!a && r.x <= n && this.event.client.moveEnabled() ? c ? this.style.cursor = \"move\" : this.style.cursor = \"not-allowed\" : !a && r.y <= i && this.event.client.resizeEnabled() ? c ? (this.style.cursor = \"n-resize\", this.dpBorder = \"top\") : this.style.cursor = \"not-allowed\" : a && r.y <= n && this.event.client.moveEnabled() ? this.style.cursor = \"move\" : this.offsetHeight - r.y <= i && this.event.client.resizeEnabled() ? h ? (this.style.cursor = \"s-resize\", this.dpBorder = \"bottom\") : this.style.cursor = \"not-allowed\" : Abhaas.Global.resizing || Abhaas.Global.moving || (this.event.client.clickEnabled() ? this.style.cursor = \"pointer\" : this.style.cursor = \"default\"), \"undefined\" != typeof Abhaas.Bubble && o.bubble && \"Disabled\" !== o.eventHoverHandling && (\"default\" === this.style.cursor || \"pointer\" === this.style.cursor))) {\n                this.zd && r.x === this.zd.x && r.y === this.zd.y || (this.zd = r, o.bubble.showEvent(this.event));\n              }\n            }\n          }\n        }\n      }, this.jc = function (e) {\n        Abhaas.Util.removeClass(this, o.t(\"_event_hover\")), o.bubble && o.bubble.hideOnMouseOut(), Abhaas.Areas.hideAreas(this, e);\n      }, this.Ad = null, this.xa = function () {\n        if (this.showCurrentTime) {\n          this.Bd();\n          var e = new Abhaas.Date().addMinutes(o.showCurrentTimeOffset);\n          if (\"Full\" === o.showCurrentTimeMode) this.Cd(e);else {\n            if (\"Day\" !== o.showCurrentTimeMode) throw \"Invalid Abhaas.Calendar.showCurrentTimeMode value: \" + o.showCurrentTimeMode;\n            this.Dd(e);\n          }\n\n          if (this.nav.events && !this.Ad) {\n            this.Ad = setTimeout(function () {\n              o.Ad = null, o.xa();\n            }, 3e4);\n          }\n        }\n      }, this.Bd = function () {\n        Abhaas.de(o.elements.separators), o.elements.separators = [];\n      }, this.Dd = function (e) {\n        var t = e.getTime(),\n            i = o.nav.events;\n        if (i) for (var n = 0; n < o.Fa.length; n++) {\n          var a = o.Fa[n],\n              r = o.Ha(!0),\n              l = new Abhaas.Date(a.start).addHours(this.La(!0)),\n              s = l.getTime(),\n              d = l.addTime(r),\n              c = d.getTime();\n\n          if (s <= t && t <= c) {\n            var h = this.yb(e, a.start).top - 1 - o.zb(),\n                u = i.rows[0].cells[n],\n                f = u.separators,\n                v = document.createElement(\"div\");\n            v.style.position = \"absolute\", v.style.top = h + \"px\", v.style.height = \"1px\", v.style.left = \"0px\", v.style.right = \"0px\", v.className = o.t(\"_now\"), f.insertBefore(v, f.firstChild), o.elements.separators.push(v);\n          }\n        }\n      }, this.Cd = function (e) {\n        var t = e.getTime();\n\n        if (o.nav.events) {\n          var i = o.Fa[0];\n          if (i) for (var n = i.start.getDatePart().addTime(e.getTimePart()), a = this.yb(n, i.start).top - 1, r = 0; r < o.Fa.length; r++) {\n            var i = o.Fa[r],\n                l = o.Ha(!0),\n                s = new Abhaas.Date(i.start).addHours(this.La(!0)),\n                d = s.getTime(),\n                c = s.addTime(l),\n                h = c.getTime();\n\n            if (d <= t && t <= h) {\n              var u = document.createElement(\"div\");\n              return u.style.position = \"absolute\", u.style.top = a + \"px\", u.style.height = \"1px\", u.style.left = \"0px\", u.style.right = \"0px\", u.className = o.t(\"_now\"), o.nav.events.appendChild(u), void o.elements.separators.push(u);\n            }\n          }\n        }\n      }, this.la = function (e) {\n        if (e ? this.events.list = e : e = this.events.list, e) {\n          this.gc = {}, this.gc.events = [], this.gc.lines = [];\n          var t = e.length,\n              i = this.Ha(!0);\n          this.G.pixels = {};\n          var n = [];\n          this.Jb = [], this._a = 1e4, this.Ka = 0, this.startDate = new Abhaas.Date(this.startDate);\n\n          for (var a = 0; a < t; a++) {\n            var r = e[a];\n            if (\"object\" != typeof r) throw new Abhaas.Exception(\"Event data item must be an object\");\n            if (!r.start) throw new Abhaas.Exception(\"Event data item must specify 'start' property\");\n            r.start = new Abhaas.Date(r.start), r.end = new Abhaas.Date(r.end);\n          }\n\n          if (\"function\" == typeof this.onBeforeEventRender || o.showEventStartEnd) for (var a = 0; a < t; a++) this.yd(a);\n\n          for (var s = \"Resources\" === this.viewType, d = this.dc(), c = d.start, h = d.end, a = 0; a < this.Fa.length; a++) {\n            var u = {};\n            u.minEnd = 1e6, u.maxStart = -1, this.Jb.push(u);\n            var f = this.Fa[a];\n            f.events = [], f.lines = [], f.blocks = [];\n            var v = new Abhaas.Date(f.start).addHours(this.La(!0)),\n                p = v.getTime(),\n                g = v.addTime(i),\n                m = g.getTime();\n            s && (c = v.getDatePart(), h = v.addDays(1));\n\n            for (var y = 0; y < t; y++) if (!n[y]) {\n              var r = e[y],\n                  b = null;\n\n              if (\"function\" == typeof o.onBeforeEventRender && (b = o.G.events[y]), b) {\n                if (b.hidden) continue;\n              } else if (r.hidden) continue;\n\n              var w = r.start,\n                  D = r.end,\n                  k = w.getTime(),\n                  P = D.getTime();\n              if (!(P < k)) if (r.allday) {\n                var x = !1;\n\n                if (x = k === P ? !(P < c.getTime() || k >= h.getTime()) : \"Date\" === o.allDayEnd ? !(P < c.getTime() || k >= h.getTime()) : !(P <= c.getTime() || k >= h.getTime()), s && (x = x && (r.resource === f.id || \"*\" === f.id)), x) {\n                  var C = new Abhaas.Event(r, this);\n\n                  if (C.part.start = c.getTime() < k ? w : c, C.part.end = h.getTime() > P ? D : h, C.part.colStart = Abhaas.DateUtil.daysDiff(c, C.part.start), C.part.colWidth = Abhaas.DateUtil.daysSpan(C.part.start, C.part.end) + 1, s && (C.part.colStart = a, C.part.colWidth = 1), \"function\" == typeof o.onEventFilter && o.events.Ed) {\n                    var S = {};\n                    if (S.filter = o.events.Ed, S.visible = !0, S.e = C, o.onEventFilter(S), !S.visible) continue;\n                  }\n\n                  this.gc.events.push(C), (\"function\" == typeof this.onBeforeEventRender || o.showEventStartEnd) && (C.cache = this.G.events[y]), n[y] = !0, !s || C.part.start.getTime() === k && C.part.end.getTime() === P || (n[y] = !1);\n                }\n              } else {\n                var b = null;\n\n                if (\"function\" == typeof o.onBeforeEventRender && (b = o.G.events[y]), b) {\n                  if (b.hidden) continue;\n                } else if (r.hidden) continue;\n\n                var x = !1;\n\n                if (x = s ? f.id === r.resource && !(P <= p || k >= m) : !(P <= p || k >= m) || P === k && k === p) {\n                  var C = new Abhaas.Event(r, o);\n                  C.part.dayIndex = a, C.part.start = p < k ? w : v, C.part.end = m > P ? D : g;\n                  var E = this.yb(C.part.start, f.start),\n                      A = this.yb(C.part.end, f.start),\n                      T = E.top,\n                      M = A.top;\n                  if (T === M && (E.cut || A.cut)) continue;\n                  C.part.box = l.useBox(P - k);\n                  var H = 0;\n\n                  if (C.part.box) {\n                    var _ = A.boxBottom;\n                    C.part.top = Math.floor(T / this.cellHeight) * this.cellHeight + H, C.part.height = Math.max(Math.ceil(_ / this.cellHeight) * this.cellHeight - C.part.top, this.cellHeight - 1), C.part.barTop = Math.max(T - C.part.top - 1, 0), C.part.barHeight = Math.max(M - T - 2, 1);\n                  } else C.part.top = T + H, C.part.height = Math.max(M - T, 0), C.part.barTop = 0, C.part.barHeight = Math.max(M - T - 2, 1);\n\n                  if (\"function\" == typeof o.onEventFilter && o.events.Ed) {\n                    var S = {};\n                    if (S.filter = o.events.Ed, S.visible = !0, S.e = C, o.onEventFilter(S), !S.visible) continue;\n                  }\n\n                  var w = C.part.top,\n                      D = C.part.top + C.part.height;\n                  w > u.maxStart && (u.maxStart = w), D < u.minEnd && (u.minEnd = D), w < this._a && (this._a = w), D > this.Ka && (this.Ka = D), f.events.push(C), (\"function\" == typeof this.onBeforeEventRender || o.showEventStartEnd) && (C.cache = this.G.events[y]), C.part.start.getTime() === k && C.part.end.getTime() === P && (n[y] = !0);\n                }\n              }\n            }\n          }\n\n          for (var a = 0; a < this.Fa.length; a++) {\n            var f = this.Fa[a];\n            f.events.sort(this.Fd);\n\n            for (var y = 0; y < f.events.length; y++) {\n              var r = f.events[y];\n              f.putIntoBlock(r);\n            }\n\n            for (var y = 0; y < f.blocks.length; y++) {\n              var R = f.blocks[y];\n              R.events.sort(this.Gd);\n\n              for (var B = 0; B < R.events.length; B++) {\n                var r = R.events[B];\n                R.putIntoLine(r);\n              }\n            }\n          }\n\n          this.gc.events.sort(this.Gd), this.gc.putIntoLine = function (e) {\n            for (var t = 0; t < this.lines.length; t++) {\n              var i = this.lines[t];\n              if (i.isFree(e.part.colStart, e.part.colWidth)) return i.push(e), t;\n            }\n\n            var i = [];\n            return i.isFree = function (e, t) {\n              for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {\n                var o = this[a];\n                if (!(i < o.part.colStart || e > o.part.colStart + o.part.colWidth - 1)) return !1;\n              }\n\n              return !0;\n            }, i.push(e), this.lines.push(i), this.lines.length - 1;\n          };\n\n          for (var a = 0; a < this.gc.events.length; a++) {\n            var r = this.gc.events[a];\n            this.gc.putIntoLine(r);\n          }\n\n          var N = Math.max(this.gc.lines.length, 1);\n          this.G.allDayHeaderHeight = N * (l.allDayEventHeight() + 2) + 2;\n        }\n      }, this.Fd = function (e, t) {\n        if (!(e && t && e.start && t.start)) return 0;\n        var i = e.start().ticks - t.start().ticks;\n        return 0 !== i ? i : t.end().ticks - e.end().ticks;\n      }, this.Gd = function (e, t) {\n        if (!e || !t) return 0;\n        if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return o.Fd(e, t);\n\n        for (var i = 0, n = 0; 0 === i && \"undefined\" != typeof e.data.sort[n] && \"undefined\" != typeof t.data.sort[n];) i = e.data.sort[n] === t.data.sort[n] ? 0 : \"number\" == typeof e.data.sort[n] && \"number\" == typeof t.data.sort[n] ? e.data.sort[n] - t.data.sort[n] : o.Hd(e.data.sort[n], t.data.sort[n], o.sortDirections[n]), n++;\n\n        return i;\n      }, this.Hd = function (e, t, i) {\n        var n = \"desc\" !== i,\n            a = n ? -1 : 1,\n            o = -a;\n        if (null === e && null === t) return 0;\n        if (null === t) return o;\n        if (null === e) return a;\n        var r = [];\n        return r[0] = e, r[1] = t, r.sort(), e === r[0] ? a : o;\n      }, this.Id = function (e) {\n        for (var t = 0; t < o.elements.events.length; t++) {\n          var i = o.elements.events[t];\n          if (i.event === e || i.event.data === e.data) return i;\n        }\n\n        return null;\n      }, this.events.find = function (e) {\n        if (!o.events.list || \"undefined\" == typeof o.events.list.length) return null;\n\n        for (var t = o.events.list.length, i = 0; i < t; i++) if (o.events.list[i].id === e) return new Abhaas.Event(o.events.list[i], o);\n\n        return null;\n      }, this.events.findRecurrent = function (e, t) {\n        if (!o.events.list || \"undefined\" == typeof o.events.list.length) return null;\n\n        for (var i = o.events.list.length, n = 0; n < i; n++) if (o.events.list[n].recurrentMasterId === e && o.events.list[n].start.getTime() === t.getTime()) return new Abhaas.Event(o.events.list[n], o);\n\n        return null;\n      }, this.events.all = function () {\n        for (var e = [], t = 0; t < o.events.list.length; t++) {\n          var i = new Abhaas.Event(o.events.list[t], o);\n          e.push(i);\n        }\n\n        return Abhaas.list(e);\n      }, this.events.edit = function (e) {\n        function t() {\n          var t = o.Id(e);\n          t && o.Sa(t);\n        }\n\n        t();\n      }, this.events.update = function (e, t) {\n        var i = {};\n        i.oldEvent = new Abhaas.Event(e.copy(), o), i.newEvent = new Abhaas.Event(e.temp(), o);\n        var n = new Abhaas.Action(o, \"EventUpdate\", i, t);\n        return e.commit(), o.I && o.$b({\n          \"eventsOnly\": !0\n        }), o.Jd.notify(), n;\n      }, this.events.remove = function (e, t) {\n        var i = {};\n        i.e = new Abhaas.Event(e.data, o);\n        var n = new Abhaas.Action(o, \"EventRemove\", i, t),\n            a = Abhaas.indexOf(o.events.list, e.data);\n        return o.events.list.splice(a, 1), o.I && o.$b({\n          \"eventsOnly\": !0\n        }), o.Jd.notify(), n;\n      }, this.events.add = function (e, t) {\n        e instanceof Abhaas.Event || (e = new Abhaas.Event(e)), e.calendar = o, o.events.list || (o.events.list = []), o.events.list.push(e.data);\n        var i = {};\n        i.e = e;\n        var n = new Abhaas.Action(o, \"EventAdd\", i, t);\n        return o.I && o.$b({\n          \"eventsOnly\": !0\n        }), o.Jd.notify(), n;\n      }, this.events.filter = function (e) {\n        o.events.Ed = e, o.$b({\n          \"eventsOnly\": !0\n        });\n      }, this.events.load = function (e, t, i) {\n        var n = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            a = function (e) {\n          var i,\n              a = e.request;\n\n          try {\n            i = JSON.parse(a.responseText);\n          } catch (e) {\n            var r = {};\n            return r.exception = e, void n(r);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var l = {};\n            if (l.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, l.data = i, \"function\" == typeof t && t(l), l.preventDefault.value) return;\n            o.events.list = i, o.I && o.$b({\n              \"eventsOnly\": !0\n            });\n          }\n        };\n\n        if (o.eventsLoadMethod && \"POST\" === o.eventsLoadMethod.toUpperCase()) Abhaas.ajax({\n          \"method\": \"POST\",\n          \"data\": {\n            \"start\": o.visibleStart().toString(),\n            \"end\": o.visibleEnd().toString()\n          },\n          \"url\": e,\n          \"success\": a,\n          \"error\": n\n        });else {\n          var r = e,\n              l = \"start=\" + o.visibleStart().toString() + \"&end=\" + o.visibleEnd().toString();\n          r += r.indexOf(\"?\") > -1 ? \"&\" + l : \"?\" + l, Abhaas.ajax({\n            \"method\": \"GET\",\n            \"url\": r,\n            \"success\": a,\n            \"error\": n\n          });\n        }\n      }, this.events.forRange = function (e, t) {\n        return e = new Abhaas.Date(e), t = new Abhaas.Date(t), Abhaas.list(o.events.list).filter(function (i) {\n          var n = new Abhaas.Date(i.start),\n              a = new Abhaas.Date(i.end);\n          return Abhaas.Util.overlaps(e, t, n, a);\n        }).map(function (e) {\n          return new Abhaas.Event(e, o);\n        });\n      }, this.events.wb = function (e) {\n        if (!e) throw new Abhaas.Exception(\"Error checking overlap for null (internal error)\");\n        var t = e instanceof Abhaas.Event ? e.data : e,\n            i = new Abhaas.Date(t.start),\n            n = new Abhaas.Date(t.end);\n        return !!Abhaas.list(o.events.list).find(function (e) {\n          if (o.Kd(t, e)) return !1;\n          if (\"Resources\" == o.viewType && t.resource !== e.resource) return !1;\n          if (e.allday) return !1;\n          var a = new Abhaas.Date(e.start),\n              r = new Abhaas.Date(e.end);\n          return Abhaas.Util.overlaps(i, n, a, r);\n        });\n      }, this.Kd = function (e, t) {\n        return Abhaas.Util.isSameEvent(e, t);\n      }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) {\n        if (e) {\n          if (!e.isAction) throw \"Abhaas.Action object required for queue.add()\";\n          o.queue.list.push(e);\n        }\n      }, this.queue.notify = function (e) {\n        var t = {};\n        t.actions = o.queue.list, o.O(\"Notify\", t, e, \"Notify\"), o.queue.list = [];\n      }, this.queue.clear = function () {\n        o.queue.list = [];\n      }, this.queue.pop = function () {\n        return o.queue.list.pop();\n      }, this.$b = function (e) {\n        if (this.I && this.Fa) {\n          var e = e || {},\n              t = !e.eventsOnly;\n          o.cssOnly || (o.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), t ? (this.z() || (o.cellProperties = {}), o.Nc.clearCache(), o.V(), o.Ld(), o.ja(), o.la(), o.na(), o.oa(), o.ma(), o.pa(), o.qa(), o.L(), o.ra(), o.vb(), o.sa(), o.ta(), o.va(), o.wa(), o.Md(), o.za(), o.Aa(), o.xa(), o.Ba()) : (o.V(), o.la(), o.ma(), o.za(), o.Aa(), o.Ba()), this.visible ? this.show() : this.hide();\n        }\n      }, this.update = function (e) {\n        if (o.Nd) throw new Abhaas.Exception(\"This Abhaas.Calendar instance has been disposed.\");\n        if (!o.I) return void o.Od(e);\n        if (Abhaas.Util.isOnlyProperty(e, \"events\")) return o.events.list = e.events, void o.$b({\n          \"eventsOnly\": !0\n        });\n\n        if (this.Od(e), this.$b(), \"function\" == typeof o.onAfterRender) {\n          var t = {};\n          t.isUpdate = !0, t.data = null, o.onAfterRender(t);\n        }\n      }, this.Md = function () {\n        if (o.nav.top.className !== o.t(\"_main\")) {\n          o.nav.top.className = o.t(\"_main\");\n          var e = o.nav.corner;\n          e.className = o.t(\"_corner\"), e.firstChild.className = o.t(\"_corner_inner\");\n          var t = o.nav.unifiedCornerRight;\n          t && (t.firstChild.className = o.t(\"_cornerright\"), t.firstChild.firstChild.className = o.t(\"_cornerright_inner\"));\n        }\n      }, this.show = function () {\n        o.visible = !0, o.nav.top.style.display = \"\", o.Y(), o.va(), o.Gb();\n      }, this.hide = function () {\n        o.visible = !1, o.nav.top.style.display = \"none\";\n      }, this.Jd = {}, this.Jd.scope = null, this.Jd.notify = function () {\n        o.Jd.scope && o.Jd.scope[\"$apply\"]();\n      }, this.debug = new Abhaas.Debug(this), this.ed = function (e) {\n        if (e < 0) return null;\n\n        for (var t = 0, i = o.nav.events.rows[0].cells, n = 0; n < i.length; n++) {\n          if (t += i[n].offsetWidth, e < t) return n;\n        }\n\n        return null;\n      }, this.yb = function (e, t) {\n        t || (t = this.startDate);\n        var i = t.getTime(),\n            n = e.getTime(),\n            a = this.G.pixels[n + \"_\" + i];\n        if (a) return a;\n        this.La(!0);\n        i = t.addHours(this.La(!0)).getTime();\n        var o = 60 * this.cellDuration * 1e3,\n            r = n - i,\n            l = r % o,\n            s = r - l,\n            d = s + o;\n        0 === l && (d = s);\n        var c = {};\n        return c.cut = !1, c.top = this.$c(r), c.boxTop = this.$c(s), c.boxBottom = this.$c(d), this.G.pixels[n + \"_\" + i] = c, c;\n      }, this.$c = function (e) {\n        return Math.floor(this.cellHeight * e / (6e4 * this.cellDuration));\n      }, this.Ld = function () {\n        this.startDate = new Abhaas.Date(this.startDate).getDatePart(), this.Pd = l.allDayEventHeight() + 4;\n      }, this.ma = function () {\n        var e = this.Ma(),\n            t = this.qc();\n        if (this.nav.corner && (this.nav.corner.style.height = e + \"px\"), this.nav.cornerRight && (this.nav.cornerRight.style.height = e + \"px\"), this.nav.mid && (this.nav.mid.style.height = e + \"px\"), this.showAllDayEvents && this.nav.header) for (var i = this.nav.header.rows[this.nav.header.rows.length - 1], n = 0; n < i.cells.length; n++) {\n          var a = i.cells[n];\n          a.firstChild.style.height = l.allDayHeaderHeight() + \"px\";\n        }\n        this.nav.upperRight && (this.nav.upperRight.style.height = e + \"px\"), this.nav.scroll.style.top = e + \"px\", this.nav.top.style.height = t + \"px\";\n      }, this.ta = function () {\n        var e = this.rc();\n        this.nav.scroll && e > 0 && (this.nav.scroll.style.height = e + \"px\", this.Ib = o.nav.scroll.clientHeight, this.nav.bottomLeft && (this.nav.bottomLeft.style.height = e + \"px\"), this.nav.bottomRight && (this.nav.bottomRight.style.height = e + \"px\")), \"Parent100Pct\" === this.heightSpec ? this.nav.top.style.height = \"100%\" : this.nav.top.style.height = this.qc() + \"px\";\n      }, this.setHeight = function (e) {\n        \"Parent100Pct\" !== this.heightSpec && (this.heightSpec = \"Fixed\"), this.height = e - this.Ma(), this.ta();\n      }, this.Qd = function (e) {\n        var t = document.createElement(\"div\");\n        t.style.position = \"absolute\", t.style.top = \"-2000px\", t.style.left = \"-2000px\", t.className = this.t(e), document.body.appendChild(t);\n        var i = t.offsetHeight,\n            n = t.offsetWidth;\n        document.body.removeChild(t);\n        var a = {};\n        return a.height = i, a.width = n, a;\n      }, this.Nc = {};\n      var l = this.Nc;\n      l.locale = function () {\n        return Abhaas.Locale.find(o.locale);\n      }, l.weekStarts = function () {\n        return \"number\" == typeof o.weekStarts ? o.weekStarts : l.locale().weekStarts;\n      }, l.timeFormat = function () {\n        return \"Auto\" !== o.timeFormat ? o.timeFormat : this.locale().timeFormat;\n      }, l.useBox = function (e) {\n        return \"Always\" === o.useEventBoxes || \"Never\" !== o.useEventBoxes && e < 60 * o.cellDuration * 1e3;\n      }, l.notifyType = function () {\n        var e;\n        if (\"Immediate\" === o.notifyCommit) e = \"Notify\";else {\n          if (\"Queue\" !== o.notifyCommit) throw \"Invalid notifyCommit value: \" + o.notifyCommit;\n          e = \"Queue\";\n        }\n        return e;\n      }, l.clearCache = function () {\n        delete o.G.allDayEventHeight, delete o.G.allDayHeaderHeight, delete o.G.headerHeight;\n      }, l.allDayEventHeight = function () {\n        if (o.G.allDayEventHeight) return o.G.allDayEventHeight;\n        var e = o.Qd(\"_alldayevent_height\").height;\n        return e || (e = o.allDayEventHeight), o.G.allDayEventHeight = e, e;\n      }, l.allDayHeaderHeight = function () {\n        if (o.G.allDayHeaderHeight) return o.G.allDayHeaderHeight;\n        var e = o.Pd;\n        return o.G.allDayHeaderHeight = e, e;\n      }, l.headerHeight = function () {\n        if (o.G.headerHeight) return o.G.headerHeight;\n        var e = o.Qd(\"_header_height\").height;\n        return e || (e = o.headerHeight), o.G.headerHeight = e, e;\n      }, this.exportAs = function (e, t) {\n        if (!o.sd()) throw new Abhaas.Exception(\"Abhaas.Calendar.exportAs(): The instance must be visible during export.\");\n        var i = s.generate(e, t);\n        return new Abhaas.Export(i);\n      }, this.Rd = {};\n      var s = this.Rd;\n      s.Sd = null, s.Td = null, s.generate = function (e, t) {\n        \"object\" == typeof e && (t = e, e = null);\n        var t = t || {},\n            e = e || t.format || \"svg\",\n            i = t.scale || 1;\n\n        if (\"config\" !== e) {\n          \"jpg\" === e.toLowerCase() && (e = \"jpeg\");\n          var n = t.area || \"viewport\";\n          s.Sd = t, s.Td = n;\n          var a,\n              r = s.getWidth(),\n              d = s.getHeight();\n\n          switch (e.toLowerCase()) {\n            case \"svg\":\n              a = new Abhaas.Svg(r, d);\n              break;\n\n            case \"png\":\n              a = new Abhaas.Canvas(r, d, \"image/png\", i);\n              break;\n\n            case \"jpeg\":\n              a = new Abhaas.Canvas(r, d, \"image/jpeg\", i, t.quality);\n              break;\n\n            default:\n              throw \"Export format not supported: \" + e;\n          }\n\n          var c = s.getRectangles(),\n              h = new Abhaas.StyleReader(o.nav.top).getBackColor(),\n              u = new Abhaas.StyleReader(o.nav.top).get(\"border-top-color\");\n          \"0px\" !== new Abhaas.StyleReader(o.nav.top).get(\"border-top-width\") || (u = \"white\");\n\n          var f = new Abhaas.StyleReader(o.nav.corner.firstChild).getBackColor(h),\n              v = o.nav.hourTable.rows[0].cells[0].firstChild.firstChild,\n              p = new Abhaas.StyleReader(v).get(\"border-right-color\"),\n              g = new Abhaas.StyleReader(v).getBackColor(h),\n              m = new Abhaas.StyleReader(v).getFont(),\n              y = new Abhaas.StyleReader(v.firstChild.childNodes[1]).getFont(),\n              b = new Abhaas.StyleReader(v.firstChild.childNodes[1]).getPx(\"padding-right\"),\n              w = new Abhaas.StyleReader(v).get(\"color\"),\n              D = o.nav.header.rows[0].cells[0].firstChild.firstChild,\n              k = new Abhaas.StyleReader(D).getBackColor(h),\n              P = new Abhaas.StyleReader(D).getFont(),\n              x = new Abhaas.StyleReader(D).get(\"color\"),\n              C = new Abhaas.StyleReader(D).get(\"border-right-color\"),\n              S = o.nav.header.rows[o.nav.header.rows.length - 1].cells[0].firstChild,\n              E = S.firstChild,\n              A = new Abhaas.StyleReader(S).getBackColor(h),\n              T = new Abhaas.StyleReader(E).getBackColor(A),\n              M = o.nav.main.rows[0].cells[0].firstChild.firstChild,\n              H = new Abhaas.StyleReader(M).get(\"border-right-color\"),\n              M = s.fakeCell(),\n              _ = new Abhaas.StyleReader(M.firstChild).getBackColor();\n\n          Abhaas.Util.addClass(M, o.t(\"_cell_business\"));\n          var R = new Abhaas.StyleReader(M.firstChild).getBackColor();\n          Abhaas.de(M);\n          var B = s.getViewportOffsetTop(),\n              N = 0;\n          N = \"Fixed\" === o.columnWidthSpec ? o.columnWidth : c.gridContent.w / o.Fa.length, a.fillRect(c.main, \"white\"), a.fillRect(c.main, h);\n          var U = c.corner.h - B;\n          Abhaas.list.for(o.Fc(), function (e) {\n            return o.Kc(e);\n          }).each(function (e) {\n            var t = o.Hc(),\n                i = e.hour,\n                n = e.sup,\n                r = i,\n                l = 20,\n                s = {\n              \"x\": 0,\n              \"y\": U,\n              \"w\": c.grid.x + 1,\n              \"h\": t + 1\n            },\n                d = {\n              \"x\": 0,\n              \"y\": U,\n              \"w\": c.grid.x + 1 - l,\n              \"h\": t + 1\n            },\n                h = {\n              \"x\": d.w,\n              \"y\": U,\n              \"w\": l - b - 1,\n              \"h\": t + 1\n            },\n                u = g;\n            a.fillRect(s, u), a.text(d, r, m, w, \"right\"), a.text(h, n, y, w, \"right\"), a.rect(s, p), U += t;\n          });\n          var L = 60 * o.cellDuration * 1e3,\n              O = c.grid.x;\n          Abhaas.list(o.Fa).each(function (e, t) {\n            var i = N,\n                n = c.grid.y - B;\n            Abhaas.list.for(o.Pa()).each(function (r, l) {\n              var d = o.Yc(t, l) || {},\n                  c = null;\n\n              if (d.cssClass) {\n                var h = s.fakeCell();\n                Abhaas.Util.addClass(h, d.cssClass), c = new Abhaas.StyleReader(h.firstChild).getBackColor(), Abhaas.de(h);\n              }\n\n              var u = o.cellHeight,\n                  f = {\n                \"x\": O,\n                \"y\": n,\n                \"w\": i + 1,\n                \"h\": u + 1\n              },\n                  v = d.business,\n                  p = {};\n              p.cell = {}, p.cell.start = e.start.addTime(l * L).addHours(o.La()), p.cell.end = p.cell.start.addTime(L), p.cell.resource = e.id, Abhaas.Util.copyProps(d, p.cell, [\"cssClass\", \"html\", \"backImage\", \"backRepeat\", \"backColor\", \"business\"]), p.backColor = c || (v ? R : _), \"function\" == typeof o.onBeforeCellExport && o.onBeforeCellExport(p), a.fillRect(f, p.backColor), a.rect(f, H), n += u;\n            }), O += i;\n          });\n          var z = c.grid.x;\n          Abhaas.list(o.Fa).each(function (e) {\n            Abhaas.list(e.events).each(function (e) {\n              var t = e.cache || e.data,\n                  i = s.fakeEvent();\n              i.className += \" \" + t.cssClass;\n              var n = i.firstChild,\n                  r = i.childNodes[1],\n                  l = new Abhaas.StyleReader(n).getBackColor(),\n                  d = new Abhaas.StyleReader(n.firstChild).getBackColor(),\n                  h = new Abhaas.StyleReader(n.firstChild).getPx(\"width\"),\n                  u = new Abhaas.StyleReader(r).get(\"border-right-color\"),\n                  f = new Abhaas.StyleReader(r).getFont(),\n                  v = new Abhaas.StyleReader(r).get(\"color\"),\n                  p = new Abhaas.StyleReader(r).getBackColor(),\n                  g = {};\n              g.left = new Abhaas.StyleReader(r).getPx(\"padding-left\"), g.right = new Abhaas.StyleReader(r).getPx(\"padding-right\"), g.top = new Abhaas.StyleReader(r).getPx(\"padding-top\"), g.bottom = new Abhaas.StyleReader(r).getPx(\"padding-bottom\"), Abhaas.de(i);\n              var m = z + N * e.part.left / 100,\n                  y = (N - o.columnMarginRight) * e.part.width / 100,\n                  b = e.part.top + c.grid.y - o.zb() - B,\n                  w = e.part.height,\n                  D = t.backColor || p,\n                  k = t.barColor || d,\n                  P = t.barBackColor || l,\n                  x = {};\n              x.e = e, x.text = e.text ? e.text() : e.client.html(), x.fontSize = f.size, x.fontFamily = f.family, x.fontStyle = f.style, x.fontColor = v, x.backColor = D, x.borderColor = u, x.horizontalAlignment = \"left\", x.barWidth = h, x.barColor = k, x.barBackColor = P, \"function\" == typeof o.onBeforeEventExport && o.onBeforeEventExport(x);\n              var C = {\n                \"x\": m,\n                \"y\": b,\n                \"w\": y + 1,\n                \"h\": w + 1\n              },\n                  S = Abhaas.Util.copyProps(C);\n              e.client.barVisible() && (S.x += h, S.w -= h);\n              var E = Abhaas.Util.copyProps(S);\n\n              if (E.x += g.left, E.w -= g.left + g.right, E.y += g.top, E.h -= g.top + g.bottom, a.fillRect(C, x.backColor), e.client.barVisible()) {\n                var A = {\n                  \"x\": C.x,\n                  \"y\": C.y,\n                  \"w\": x.barWidth,\n                  \"h\": C.h\n                },\n                    T = {\n                  \"x\": C.x,\n                  \"y\": C.y + 1 + e.part.barTop,\n                  \"w\": x.barWidth,\n                  \"h\": e.part.barHeight + 1\n                };\n                a.fillRect(A, x.barBackColor), a.fillRect(T, x.barColor);\n              }\n\n              a.text(E, x.text, {\n                \"size\": x.fontSize,\n                \"family\": x.fontFamily,\n                \"style\": x.fontStyle\n              }, x.fontColor, x.horizontalAlignment), a.rect(C, x.borderColor);\n              var m = C.x,\n                  M = C.x + C.w - 2,\n                  b = C.y;\n              Abhaas.list(t.areas).each(function (t) {\n                if (\"Hover\" !== (t.visibility || t.v)) {\n                  var i = t.left;\n                  t.start && (i = o.getPixels(new Abhaas.Date(t.start)).left - e.part.left);\n                  var n = t.width || t.w,\n                      r = t.height || t.h;\n                  i || (i = M - n - m), t.right ? n = e.part.width - t.right - i : t.end && (n = o.getPixels(new Abhaas.Date(t.end)).left - t.left - e.part.left + 1);\n                  var l = t.top;\n                  \"number\" == typeof t.bottom && (r = e.part.height - t.bottom - l);\n                  var s = {\n                    \"x\": m + i,\n                    \"y\": b + l,\n                    \"w\": n,\n                    \"h\": r\n                  };\n\n                  if (t.backColor && a.fillRect(s, t.backColor), t.image) {\n                    var d = new Image();\n                    d.src = t.image, a.image(s, d);\n                  } else t.html && a.text(s, t.html, {\n                    \"size\": x.fontSize,\n                    \"family\": x.fontFamily,\n                    \"style\": x.fontStyle\n                  }, t.fontColor || x.fontColor, null, t.padding);\n                }\n              });\n            }), z += N;\n          }), a.fillRect(c.corner, f);\n          var O = c.gridContent.x;\n          return Abhaas.list.for(o.headerLevels).each(function (e) {\n            var t = o.headerHeight * e,\n                i = o.cc(e);\n            Abhaas.list(i).each(function (i) {\n              var n = {};\n              n.text = Abhaas.Util.stripTags(i.html), n.horizontalAlignment = \"center\", n.backColor = i.backColor || k, n.fontSize = P.size, n.fontFamily = P.family, n.fontStyle = P.style, n.fontColor = x, n.header = {}, n.header.level = e, Abhaas.Util.copyProps(i, n.header, [\"id\", \"start\", \"name\", \"html\", \"backColor\"]), \"function\" == typeof o.onBeforeHeaderExport && o.onBeforeHeaderExport(n);\n              var r = N,\n                  l = o.headerHeight,\n                  s = {\n                \"x\": O,\n                \"y\": t,\n                \"w\": r + 1,\n                \"h\": l + 1\n              };\n              a.fillRect(s, n.backColor), a.rect(s, C), a.text(s, n.text, {\n                \"size\": n.fontSize,\n                \"family\": n.fontFamily,\n                \"style\": n.fontStyle\n              }, n.fontColor, n.horizontalAlignment), O += N;\n            });\n          }), function () {\n            if (o.showAllDayEvents) {\n              var e = o.headerHeight * o.headerLevels,\n                  t = c.gridContent.x;\n              Abhaas.list(o.Fa).each(function (i) {\n                var n = N,\n                    o = l.allDayHeaderHeight(),\n                    r = {\n                  \"x\": t,\n                  \"y\": e,\n                  \"w\": n + 1,\n                  \"h\": o + 1\n                };\n                a.fillRect(r, T), a.rect(r, C), t += N;\n              }), Abhaas.list(o.gc.lines).each(function (e, t) {\n                Abhaas.list(e).each(function (e) {\n                  var i = s.fakeEvent(\"alldayevent\");\n                  i.className += \" \" + e.data.cssClass;\n                  var n = i.firstChild,\n                      r = new Abhaas.StyleReader(n).get(\"border-right-color\"),\n                      d = new Abhaas.StyleReader(n).getFont(),\n                      h = new Abhaas.StyleReader(n).get(\"color\"),\n                      u = new Abhaas.StyleReader(n).getBackColor(),\n                      f = {};\n                  f.left = new Abhaas.StyleReader(n).getPx(\"padding-left\"), f.right = new Abhaas.StyleReader(n).getPx(\"padding-right\"), f.top = new Abhaas.StyleReader(n).getPx(\"padding-top\"), f.bottom = new Abhaas.StyleReader(n).getPx(\"padding-bottom\"), Abhaas.de(i);\n                  var v = e.cache || e.data,\n                      p = v.backColor || u,\n                      g = {};\n                  g.e = e, g.text = e.text ? e.text() : e.client.html(), g.fontSize = d.size, g.fontFamily = d.family, g.fontStyle = d.style, g.fontColor = h, g.backColor = p, g.borderColor = r, g.horizontalAlignment = \"left\", \"function\" == typeof o.onBeforeEventExport && o.onBeforeEventExport(g);\n                  var m = e.part.colStart * N + c.gridContent.x + 2,\n                      y = e.part.colWidth * N - 4,\n                      b = l.allDayEventHeight() - 1,\n                      w = o.headerLevels * l.headerHeight() + t * l.allDayEventHeight() + 2,\n                      D = {\n                    \"x\": m,\n                    \"y\": w,\n                    \"w\": y,\n                    \"h\": b\n                  },\n                      k = Abhaas.Util.copyProps(D);\n                  k.x += f.left, k.w -= f.left + f.right, k.y += f.top, k.h -= f.top + f.bottom, a.fillRect(D, g.backColor), a.text(k, g.text, {\n                    \"size\": g.fontSize,\n                    \"family\": g.fontFamily,\n                    \"style\": g.fontStyle\n                  }, g.fontColor, g.horizontalAlignment), a.rect(D, g.borderColor);\n                });\n              });\n            }\n          }(), a.rect(c.main, u), a.line(c.grid.x, 0, c.grid.x, c.main.h, p), a.line(0, c.grid.y, c.main.w, c.grid.y, p), a;\n        }\n      }, s.fakeCell = function () {\n        var e = document.createElement(\"div\");\n        e.style.display = \"none\", e.className = o.t(\"_cell\"), e.style.position = \"absolute\", e.style.top = \"-2000px\", e.style.left = \"-2000px\";\n        var t = document.createElement(\"div\");\n        return t.className = o.t(\"_cell_inner\"), e.appendChild(t), o.nav.bottomRight.appendChild(e), e;\n      }, s.fakeEvent = function (e) {\n        e = e || \"event\";\n        var t = document.createElement(\"div\");\n\n        if (t.style.position = \"absolute\", t.style.top = \"-2000px\", t.style.left = \"-2000px\", t.style.display = \"none\", t.className = o.t(\"_\" + e), \"event\" === e) {\n          var i = document.createElement(\"div\");\n          i.className = o.t(\"_event_bar\");\n          var n = document.createElement(\"div\");\n          n.className = o.t(\"_event_bar_inner\"), i.appendChild(n), t.appendChild(i);\n        }\n\n        var a = document.createElement(\"div\");\n        a.className = o.t(\"_\" + e + \"_inner\"), t.appendChild(a);\n        var r = o.nav.events.rows[0].cells[0].events;\n        return \"alldayevent\" === e && (r = o.nav.allday), r.appendChild(t), t;\n      }, s.getViewportOffsetTop = function () {\n        switch (s.Td) {\n          case \"full\":\n            return 0;\n\n          case \"viewport\":\n            var e = o.Hb();\n            return e.scrollTop;\n\n          case \"range\":\n            var e = o.Hb();\n            return e.scrollTop;\n        }\n      }, s.getWidth = function () {\n        var e = s.Td,\n            t = o.nav.top.clientWidth,\n            i = t - o.hourWidth,\n            n = o.Fa.length,\n            a = Math.floor(i / n) * n + o.hourWidth;\n\n        switch (e) {\n          case \"viewport\":\n          case \"full\":\n          case \"range\":\n            return \"number\" == typeof s.Sd.width ? s.Sd.width : a;\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, s.getHeight = function () {\n        var e = s.Td;\n\n        switch (e) {\n          case \"full\":\n            return o.Ac() + o.Ma();\n\n          case \"viewport\":\n            return o.nav.top.offsetHeight - Abhaas.sh(o.nav.scroll) - 1;\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, s.getRectangles = function () {\n        var e = s.getRowHeaderWidth(),\n            t = o.Ma(),\n            i = {};\n        i.main = {\n          \"x\": 0,\n          \"y\": 0,\n          \"w\": s.getWidth(),\n          \"h\": s.getHeight()\n        }, i.corner = {\n          \"x\": 0,\n          \"y\": 0,\n          \"w\": e,\n          \"h\": t\n        }, i.grid = {\n          \"x\": e,\n          \"y\": t,\n          \"w\": s.getWidth() - e,\n          \"h\": s.getHeight() - t\n        };\n        var n = s.innerWidth(),\n            a = o.Ac();\n        return i.gridContent = {\n          \"x\": e,\n          \"y\": t,\n          \"w\": n,\n          \"h\": a\n        }, i;\n      }, s.getRowHeaderWidth = function () {\n        return o.hourWidth;\n      }, s.innerWidth = function () {\n        var e = o.Hb().offsetWidth,\n            t = o.Fa.length;\n        return Math.floor(e / t) * t;\n      }, this.Ud = function () {\n        return !!this.backendUrl;\n      }, this.Vd = function () {\n        if (this.id && this.id.tagName) this.nav.top = this.id;else {\n          if (\"string\" != typeof this.id) throw \"Abhaas.Calendar() constructor requires the target element or its ID as a parameter\";\n          if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw \"Abhaas.Calendar: The placeholder element not found: '\" + i + \"'.\";\n        }\n\n        (function (s) {})(\"wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<\");\n      }, this.Wd = function () {\n        this.Vd(), this.Ld(), this.ja(), this.sc(), this.na(), this.oa(), this.ra(), this.va(), this._c(), this.xd(), this.Z(), this.wa(), t.register(this), this.Y(), this.xa(), this.td(), this.Ca(), this.O(\"Init\");\n      }, this.init = function () {\n        if (this.pc(), this.Vd(), !this.nav.top.dp) {\n          var e = this.Ud();\n          return o.cssOnly || (o.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), e ? (this.Wd(), void (this.I = !0)) : (this.Ld(), this.ja(), this.ka(), this.events.list || (this.events.list = []), this.la(), this.sc(), this.na(), this.oa(), this.ra(), this.ya(), this.wa(), this.va(), this._c(), this.xd(), this.Z(), t.register(this), this.ma(), this.za(), this.Aa(), this.Y(), this.messageHTML && this.message(this.messageHTML), this.xa(), this.ga(null, !1), o.initEventEnabled && setTimeout(function () {\n            o.O(\"Init\");\n          }), this.td(), this.Ca(), this.I = !0, this.Xd(), this);\n        }\n      }, this.Yd = null, this.Od = function (e) {\n        if (e) {\n          var t = {\n            \"events\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? o.events.list = e.list : o.events.list = e);\n              }\n            },\n            \"columns\": {\n              \"preInit\": function () {\n                o.ia() === o.columns ? o.columns = this.data : o.columns.list = this.data;\n              }\n            },\n            \"scrollToHour\": {\n              \"postInit\": function () {\n                \"undefined\" != typeof this.data && o.scrollToHour(this.data);\n              }\n            }\n          };\n          this.Yd = t;\n\n          for (var i in e) if (t[i]) {\n            var n = t[i];\n            n.data = e[i], n.preInit && n.preInit();\n          } else o[i] = e[i];\n        }\n      }, this.Xd = function () {\n        var e = this.Yd;\n\n        for (var t in e) {\n          var i = e[t];\n          i.postInit && i.postInit();\n        }\n      }, this.internal = {}, this.internal.initialized = function () {\n        return o.I;\n      }, this.internal.invokeEvent = this.$a, this.internal.eventMenuClick = this.kb, this.internal.timeRangeMenuClick = this.lb, this.internal.bubbleCallBack = this.ib, this.internal.findEventDiv = this.Id, this.internal.eventDeleteDispatch = this.Za, this.internal.touch = this.lc, this.Init = this.init, this.Od(n);\n    };\n\n    var t = {};\n    t.topSelectedCell = null, t.bottomSelectedCell = null, t.column = null, t.firstSelected = null, t.firstMousePos = null, t.originalMouse = null, t.originalHeight = null, t.originalTop = null, t.globalHandlers = !1, t.editing = !1, t.originalText = null, t.register = function (e) {\n      t.registered || (t.registered = []);\n\n      for (var i = t.registered, n = 0; n < i.length; n++) if (i[n] === e) return;\n\n      i.push(e);\n    }, t.unregister = function (e) {\n      var i = t.registered;\n\n      if (i) {\n        var n = Abhaas.indexOf(i, e);\n        n !== -1 && i.splice(n, 1), 0 === i.length && (i = null);\n      }\n\n      i || (Abhaas.ue(document, \"mousemove\", t.gMouseMove), Abhaas.ue(document, \"mouseup\", t.gMouseUp), Abhaas.ue(document, \"touchmove\", t.gTouchMove), Abhaas.ue(document, \"touchend\", t.gTouchEnd), t.globalHandlers = !1);\n    }, t.getCellsAbove = function (e) {\n      if (e.data && e.data.calendar.E) {\n        for (var i = e.data.calendar, n = [], a = e.data.y, o = e.data.x, r = t.firstSelected.data.y, l = a; l >= r; l--) n.push(i.nav.main.rows[l].cells[o]);\n\n        return n;\n      }\n\n      for (var n = [], s = t.getColumn(e), d = e.parentNode, c = null; d && c !== t.firstSelected;) for (c = d.getElementsByTagName(\"td\")[s], n.push(c), d = d.previousSibling; d && \"TR\" !== d.tagName;) d = d.previousSibling;\n\n      return n;\n    }, t.getCellsBelow = function (e) {\n      if (e.data && e.data.calendar.E) {\n        for (var i = e.data.calendar, n = [], a = e.data.y, o = e.data.x, r = t.firstSelected.data.y, l = a; l <= r; l++) n.push(i.nav.main.rows[l].cells[o]);\n\n        return n;\n      }\n\n      for (var n = [], s = t.getColumn(e), d = e.parentNode, c = null; d && c !== t.firstSelected;) for (c = d.getElementsByTagName(\"td\")[s], n.push(c), d = d.nextSibling; d && \"TR\" !== d.tagName;) d = d.nextSibling;\n\n      return n;\n    }, t.getColumn = function (e) {\n      for (var t = 0; e.previousSibling;) e = e.previousSibling, \"TD\" === e.tagName && t++;\n\n      return t;\n    }, t.gTouchMove = function (e) {\n      if (!Abhaas.Util.isMouseEvent(e) && t.drag) {\n        e.preventDefault();\n        var i = e.touches ? e.touches[0].pageX : e.pageX,\n            n = e.touches ? e.touches[0].pageY : e.pageY,\n            a = {};\n        a.x = i, a.y = n;\n\n        var o = function () {\n          for (var t = e.touches ? e.touches[0].clientX : e.clientX, i = e.touches ? e.touches[0].clientY : e.clientY, n = document.elementFromPoint(t, i); n && n.parentNode;) if (n = n.parentNode, n.AbhaasMainD) return n.calendar;\n\n          return !1;\n        }();\n\n        if (o) {\n          if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, o.coords = o.lc.relativeCoords(e), !t.movingShadow && o.coords) {\n            var r = o.Ea(t.drag, !1);\n\n            if (r) {\n              t.movingShadow = r;\n              var l = Abhaas.Date.today(),\n                  e = {\n                \"value\": t.drag.id,\n                \"start\": l,\n                \"end\": l.addSeconds(t.drag.duration),\n                \"text\": t.drag.text\n              },\n                  s = new Abhaas.Event(e, o);\n              s.external = !0, Abhaas.Global.moving = {}, Abhaas.Global.moving.event = s, Abhaas.Global.moving.helper = {};\n            }\n          }\n\n          Abhaas.Global.moving && o.lc.updateMoving();\n        } else {\n          Abhaas.de(t.movingShadow), Abhaas.Global.moving = null, t.movingShadow = null, t.gShadow || (t.gShadow = t.createGShadow(t.drag.shadowType));\n          var r = t.gShadow;\n          r.style.left = a.x + \"px\", r.style.top = a.y + \"px\";\n        }\n      }\n    }, t.gTouchEnd = function (e) {\n      Abhaas.Util.isMouseEvent(e) || t.gMouseUp(e);\n    }, t.gMouseMove = function (e) {\n      if (\"undefined\" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {\n        var i = Abhaas.mc(e);\n\n        if (t.drag) {\n          document.body.style.cursor = \"move\", t.gShadow || (t.gShadow = t.createGShadow(t.drag.shadowType));\n          var n = t.gShadow;\n          n.style.left = i.x + \"px\", n.style.top = i.y + \"px\", Abhaas.Global.moving = null, Abhaas.de(t.movingShadow), t.movingShadow = null;\n        }\n\n        for (var a = 0; a < t.registered.length; a++) t.registered[a].aa && t.registered[a].aa();\n      }\n    }, t.gUnload = function (e) {\n      if (t.registered) for (var i = t.registered, n = 0; n < i.length; n++) {\n        var a = i[n];\n        t.unregister(a);\n      }\n    }, t.gMouseUp = function (e) {\n      var e = e || window.event;\n\n      if (Abhaas.Global.resizing) {\n        if (!t.resizingShadow) return Abhaas.Global.resizing.style.cursor = \"default\", Abhaas.Global.resizing.event.calendar.nav.top.style.cursor = \"auto\", void (Abhaas.Global.resizing = null);\n        var i = Abhaas.Global.resizing.event,\n            n = Abhaas.Global.resizing.dpBorder,\n            a = t.resizingShadow.clientHeight,\n            o = t.resizingShadow.offsetTop,\n            r = t.resizingShadow.args;\n        if (Abhaas.de(t.resizingShadow), t.resizingShadow = null, Abhaas.Global.resizing.style.cursor = \"default\", i.calendar.nav.top.style.cursor = \"auto\", Abhaas.Global.resizing.onclick = null, Abhaas.Global.resizing = null, !r.allowed) return;\n        i.calendar.cb(i, a, o, n);\n      } else if (Abhaas.Global.moving) {\n        if (!Abhaas.Global.moving.helper) return Abhaas.de(t.movingShadow), Abhaas.Global.moving = null, void (t.movingShadow = null);\n        if (!t.movingShadow) return Abhaas.Global.moving.event.calendar.nav.top.style.cursor = \"auto\", void (Abhaas.Global.moving = null);\n        var o = (Abhaas.Global.moving.helper.oldColumn, t.movingShadow.offsetTop),\n            i = Abhaas.Global.moving.event,\n            l = i.calendar;\n        l.Cb(t.movingShadow), l.dd = r;\n        var s = t.movingShadow.column,\n            d = t.drag;\n        Abhaas.Global.moving.event.calendar.nav.top.style.cursor = \"auto\";\n        var r = t.movingShadow.args;\n        if (Abhaas.Global.moving = null, t.movingShadow = null, d && (i.calendar.todo || (i.calendar.todo = {}), i.calendar.todo.del = d.element), !r.allowed) return;\n        var c = e || window.event;\n        i.calendar.fb(i, s, o, c, d);\n      } else if (Abhaas.Global.selecting) {\n        var h = function () {\n          var e = Abhaas.Global.selecting,\n              i = Abhaas.Global.selecting.calendar;\n          if (t.firstMousePos = null, Abhaas.Global.selecting = null, !e.args.allowed) return void i.clearSelection();\n\n          if (\"Disabled\" == i.timeRangeDoubleClickHandling) {\n            var n = i.getSelection();\n            i.mb(n.start, n.end, n.resource);\n          } else i.Ab = setTimeout(function () {\n            var e = i.getSelection();\n            i.mb(e.start, e.end, e.resource);\n          }, i.doubleClickTimeout);\n        };\n\n        Abhaas.Global.selecting && null !== t.topSelectedCell ? h() : t.selectedTimeout = setTimeout(h, 100);\n      } else if (t.firstMousePos) {\n        var l = t.firstMousePos.calendar;\n        if (Abhaas.Global.selecting = {}, Abhaas.Global.selecting.calendar = l, l.vb(), !Abhaas.Global.selecting.args.allowed) return;\n\n        if (t.firstMousePos = null, Abhaas.Global.selecting = null, \"Disabled\" == l.timeRangeDoubleClickHandling) {\n          var u = l.getSelection();\n          l.mb(u.start, u.end, u.resource);\n        } else l.Ab = setTimeout(function () {\n          var e = l.getSelection();\n          l.mb(e.start, e.end, e.resource);\n        }, l.doubleClickTimeout);\n      }\n\n      t.drag && (t.drag = null, document.body.style.cursor = \"\"), t.gShadow && (document.body.removeChild(t.gShadow), t.gShadow = null), t.moveOffsetY = null;\n    }, t.dragStart = function (e, i, n, a, o) {\n      Abhaas.us(e);\n      var r = t.drag = {};\n      return r.element = e, r.duration = i, r.text = a, r.id = n, r.shadowType = o ? o : \"Fill\", r.data = {\n        \"id\": n,\n        \"text\": a,\n        \"duration\": i,\n        \"externalHtml\": a\n      }, !1;\n    }, Abhaas.Calendar.makeDraggable = function (e) {\n      function i() {\n        var i = t.drag = {};\n        i.element = a, i.id = e.id, i.duration = e.duration || 60, i.text = e.text || \"\", i.data = e, i.shadowType = \"Fill\";\n      }\n\n      var n = e.element,\n          a = e.keepElement ? null : n;\n      e.duration || 1;\n      navigator.msPointerEnabled && (n.style.msTouchAction = \"none\", n.style.touchAction = \"none\");\n\n      var o = function (e) {\n        i();\n        var t = e.target || e.srcElement;\n\n        if (t.tagName) {\n          var n = t.tagName.toLowerCase();\n          if (\"textarea\" === n || \"select\" === n || \"input\" === n) return !1;\n        }\n\n        return e.preventDefault && e.preventDefault(), !1;\n      },\n          r = function (e) {\n        if (!Abhaas.Util.isMouseEvent(e)) {\n          window.setTimeout(function () {\n            i(), t.gTouchMove(e), e.preventDefault();\n          }, 0), e.preventDefault();\n        }\n      };\n\n      Abhaas.us(n), Abhaas.re(n, \"mousedown\", o), Abhaas.re(n, Abhaas.touch.start, r), n.cancelDraggable = function () {\n        Abhaas.ue(n, \"mousedown\", o), Abhaas.ue(n, Abhaas.touch.start, r), delete n.cancelDraggable;\n      };\n    }, t.createGShadow = function (t) {\n      var i = document.createElement(\"div\");\n      return i.setAttribute(\"unselectable\", \"on\"), i.style.position = \"absolute\", i.style.width = \"100px\", i.style.height = \"20px\", i.style.border = \"2px dotted #666666\", i.style.zIndex = e, i.style.pointerEvents = \"none\", \"Fill\" === t && (i.style.backgroundColor = \"#aaaaaa\", i.style.opacity = .5, i.style.filter = \"alpha(opacity=50)\", i.style.border = \"2px solid #aaaaaa\"), document.body.appendChild(i), i;\n    }, t.moveShadow = function (e) {\n      var i = t.movingShadow;\n      i.parentNode && i.parentNode.removeChild(i), e.firstChild.appendChild(i), i.style.left = \"0px\", i.style.width = t.movingShadow.parentNode.offsetWidth + \"px\";\n    }, t.Column = function (e, t, i) {\n      this.value = e, this.id = e, this.name = t, this.date = new Abhaas.Date(i);\n    }, \"undefined\" != typeof jQuery && !function (e) {\n      e.fn.AbhaasCalendar = function (e) {\n        var t = null,\n            i = this.each(function () {\n          if (!this.Abhaas) {\n            var i = new Abhaas.Calendar(this.id, e);\n            i.init(), this.Abhaas = i, t || (t = i);\n          }\n        });\n        return 1 === this.length ? t : i;\n      };\n    }(jQuery), function () {\n      var e = Abhaas.am();\n      e && e.directive(\"AbhaasCalendar\", [\"$parse\", function (e) {\n        return {\n          \"restrict\": \"E\",\n          \"template\": \"<div id='{{id}}'></div>\",\n          \"compile\": function (t, i) {\n            return t.replaceWith(this[\"template\"].replace(\"{{id}}\", i[\"id\"])), function (t, i, n) {\n              var a = new Abhaas.Calendar(i[0]);\n              a.Jd.scope = t, a.init();\n              var o = n[\"id\"];\n              o && (t[o] = a);\n              var r = n[\"publishAs\"];\n\n              if (r) {\n                (0, e(r).assign)(t, a);\n              }\n\n              for (var l in n) if (0 === l.indexOf(\"on\")) {\n                var s = Abhaas.Util.shouldApply(l);\n                s ? !function (i) {\n                  a[i] = function (a) {\n                    var o = e(n[i]);\n                    t[\"$apply\"](function () {\n                      o(t, {\n                        \"args\": a\n                      });\n                    });\n                  };\n                }(l) : !function (i) {\n                  a[i] = function (a) {\n                    e(n[i])(t, {\n                      \"args\": a\n                    });\n                  };\n                }(l);\n              }\n\n              var d = t[\"$watch\"],\n                  c = n[\"config\"] || n[\"AbhaasConfig\"],\n                  h = n[\"events\"] || n[\"AbhaasEvents\"];\n              d.call(t, c, function (e, t) {\n                for (var i in e) a[i] = e[i];\n\n                a.update();\n              }, !0), d.call(t, h, function (e) {\n                a.events.list = e, a.$b({\n                  \"eventsOnly\": !0\n                });\n              }, !0);\n            };\n          }\n        };\n      }]);\n    }(), \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  \"undefined\" == typeof Abhaas.DatePicker && (Abhaas.DatePicker = function (e) {\n    this.v = \"2019.3.4000\";\n    var t = \"navigator_\" + new Date().getTime(),\n        i = this;\n    this.onShow = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.prepare = function () {\n      if (this.locale = \"en-us\", this.target = null, this.resetTarget = !0, this.pattern = this.Nc.locale().datePattern, this.theme = null, this.patterns = [], e) for (var t in e) this[t] = e[t];\n      this.init();\n    }, this.init = function () {\n      this.date = new Abhaas.Date(this.date);\n      var e = this.Zd();\n      this.resetTarget && !e && this.$d(this.date);\n\n      var t = this._d();\n\n      return t && Abhaas.re(t, \"input\", function () {\n        i.date = i.Zd();\n      }), Abhaas.re(document, \"mousedown\", function () {\n        i.close();\n      }), this;\n    }, this.close = function () {\n      this.sd && (this.navigator && this.navigator.dispose(), this.div.innerHTML = \"\", this.div && this.div.parentNode === document.body && document.body.removeChild(this.div));\n    }, this.setDate = function (e) {\n      this.date = new Abhaas.Date(e), this.$d(this.date);\n    }, this.Zd = function () {\n      var e = this._d();\n\n      if (!e) return this.date;\n      var t = null;\n      if (t = \"INPUT\" === e.tagName ? e.value : e.innerText, !t) return null;\n\n      for (var n = Abhaas.Date.parse(t, i.pattern), a = 0; a < i.patterns.length; a++) {\n        if (n) return n;\n        n = Abhaas.Date.parse(t, i.patterns[a]);\n      }\n\n      return n;\n    }, this.$d = function (e) {\n      var t = this._d();\n\n      if (t) {\n        var n = e.toString(i.pattern, i.locale);\n        \"INPUT\" === t.tagName ? t.value = n : t.innerHTML = n;\n      }\n    }, this.Nc = {}, this.Nc.locale = function () {\n      return Abhaas.Locale.find(i.locale);\n    }, this._d = function () {\n      var e = this.target;\n      return e && e.nodeType && 1 === e.nodeType ? e : document.getElementById(e);\n    }, this.show = function () {\n      var e = this._d(),\n          n = this.navigator,\n          n = new Abhaas.Navigator(t);\n\n      n.api = 2, n.cssOnly = !0, n.theme = i.theme, n.weekStarts = \"Auto\", n.locale = i.locale, n.onTimeRangeSelected = function (e) {\n        i.date = e.start;\n        var t = e.start.addTime(n.ae),\n            a = t.toString(i.pattern, i.locale),\n            e = {};\n        e.start = t, e.date = t, e.preventDefault = function () {\n          this.preventDefault.value = !0;\n        }, \"function\" == typeof i.onTimeRangeSelect && (i.onTimeRangeSelect(e), e.preventDefault.value) || (i.$d(a), i.close(), \"function\" == typeof i.onTimeRangeSelected && i.onTimeRangeSelected(e));\n      }, this.navigator = n;\n      var a = Abhaas.abs(e),\n          o = e.offsetHeight,\n          r = document.createElement(\"div\");\n      r.style.position = \"absolute\", r.style.left = a.x + \"px\", r.style.top = a.y + o + \"px\";\n      var l = document.createElement(\"div\");\n      l.id = t, r.appendChild(l), Abhaas.re(r, \"mousedown\", function (e) {\n        var e = e || window.event;\n        e.cancelBubble = !0, e.stopPropagation && e.stopPropagation();\n      }), document.body.appendChild(r), this.div = r;\n      var s = i.Zd() || new Abhaas.Date().getDatePart();\n      n.startDate = s, n.ae = s.getTimePart(), n.selectionStart = s.getDatePart(), n.init(), this.sd = !0, this.onShow && this.onShow();\n    }, this.prepare();\n  });\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  if (\"undefined\" == typeof Abhaas.Gantt) {\n    var e = function () {};\n\n    Abhaas.Gantt = function (t, i) {\n      this.v = \"2019.3.4000\";\n      var n = this;\n      this.id = t, this.isGantt = !0;\n      var a = new Abhaas.Scheduler(t);\n      this.scheduler = a, a.viewType = \"Resources\", a.onCallBackHeader = function (e) {\n        e.header.taskGroupMode = n.taskGroupMode, e.header.rowHeaderColumns = n.columns, e.header.clientState = n.clientState;\n      }, a.onGetNodeState = function (e) {\n        var t = function (e) {\n          var t = {};\n          if (e.tags) for (var i in e.tags) t[i] = \"\" + e.tags[i];\n          return t;\n        },\n            i = function (e) {\n          var i = e.task,\n              n = {};\n          return n.start = i.start, n.end = i.end, n.id = i.id, n.complete = i.complete, n.text = i.text, n.type = i.type, n.expanded = e.expanded, n.loaded = e.loaded, n.tags = t(i), n.versions = i.versions, n.children = a.internal.getNodeChildren(e.children), n;\n        };\n\n        e.result = i(e.row), e.preventDefault();\n      }, a.be = function (e) {}, a.onCallBackResult = function (e) {\n        var t = e.result;\n        e.preventDefault();\n\n        var i = function () {\n          t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId);\n        };\n\n        if (\"None\" === t.updateType) return void i();\n\n        var o = function (e) {\n          for (var i = 0; i < e.length; i++) {\n            var a = e[i];\n            \"undefined\" != typeof t[a] && (n[a] = t[a]);\n          }\n        };\n\n        n.links.list = t.links, n.tasks.list = t.tasks, n.startDate = new Abhaas.Date(t.startDate), o([\"days\", \"cellDuration\", \"cellGroupBy\", \"cellWidth\", \"cellWidthSpec\", \"cornerHtml\", \"separators\", \"rowMinHeight\", \"rowMarginBottom\", \"taskGroupMode\", \"selectedRows\"]), o([\"cellProperties\", \"cellConfig\", \"timeHeader\", \"timeHeaders\", \"timeline\", \"columns\"]), l.translate(), l.ce(), l.ee(), a.update(), a.show(), i();\n      }, this.taskGroupMode = \"Auto\", this.autoRefreshCommand = \"refresh\", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = \"Drag\", \"function\" == typeof Abhaas.Bubble ? (this.bubbleTask = new Abhaas.Bubble(), this.bubbleCell = new Abhaas.Bubble(), this.bubbleRow = new Abhaas.Bubble()) : (this.bubbleTask = null, this.bubbleCell = null, this.bubbleRow = null), this.cellDuration = 1440, this.cellGroupBy = \"Month\", this.cellWidth = 40, this.cellWidthSpec = \"Fixed\", this.completeBarVisible = !0, this.completeBarHeight = 3, this.contextMenuTask = null, this.contextMenuRow = null, this.contextMenuLink = null, this.cornerHtml = \"\", this.crosshairType = \"Header\", this.doubleClickTimeout = 300, this.progressiveTaskRendering = \"Progressive\", this.progressiveTaskRenderingMargin = 500, this.progressiveTaskRenderingCacheSweeping = !1, this.progressiveTaskRenderingCacheSize = 200, this.floatingTasks = !0, this.floatingTimeHeaders = !0, this.headerHeight = 20, this.height = 300, this.heightSpec = \"Max\", this.hideUntilInit = !1, this.linkBottomMargin = 10, this.linkPointSize = 10, this.loadingLabelVisible = !0, this.loadingLabelText = \"Loading...\", this.locale = \"en-us\", this.messageBarPosition = \"Top\", this.messageHideAfter = 5e3, this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderHideIconEnabled = !0, this.rowHeaderWidth = 80, this.rowHeaderWidthAutoFit = !0, this.rowMarginBottom = 4, this.rowMinHeight = 0, this.scrollDelayTasks = 200, this.scrollDelayCells = 20, this.scrollDelayFloats = 0, this.scale = \"Day\", this.selectedRows = [], this.snapToGrid = !0, this.syncTasks = !0, this.syncLinks = !0, this.tapAndHoldTimeout = 300, this.taskHeight = 24, this.taskHtmlLeftMargin = 20, this.taskHtmlRightMargin = 20, this.taskResizeMargin = 5, this.taskMovingStartEndEnabled = !1, this.taskMovingStartEndFormat = \"MMMM d, yyyy\", this.taskResizingStartEndEnabled = !1, this.taskResizingStartEndFormat = \"MMMM d, yyyy\", this.theme = \"gantt_default\", this.treeAutoExpand = !0, this.treeIndent = 20, this.treeImageMarginLeft = 5, this.treeImageMarginTop = 3, this.treeImageMarginRight = 2, this.treeImageWidth = 10, this.treeImageHeight = 10, this.timeline = null, this.timeHeaders = [{\n        \"groupBy\": \"Month\",\n        \"format\": \"MMMM yyyy\"\n      }, {\n        \"groupBy\": \"Day\",\n        \"format\": \"d\"\n      }], this.useEventBoxes = \"Never\", this.visible = !0, this.taskVersionsEnabled = !1, this.taskVersionHeight = 24, this.taskVersionMargin = 2, this.taskVersionPosition = \"Above\", this.taskMoveHandling = \"Update\", this.taskClickHandling = \"Enabled\", this.taskResizeHandling = \"Update\", this.linkCreateHandling = \"Update\", this.taskRightClickHandling = \"ContextMenu\", this.taskDoubleClickHandling = \"Disabled\", this.tasksLoadMethod = \"GET\", this.rowCreateHandling = \"Disabled\", this.rowMoveHandling = \"Update\", this.rowClickHandling = \"Disabled\", this.rowDoubleClickHandling = \"Disabled\", this.rowEditHandling = \"Update\", this.rowSelectHandling = \"Update\", this.clientState = {}, this.separators = [], this.members = {}, this.members.obsolete = [], this.members.ignore = [\"members\", \"scheduler\", \"internal\", \"cellProperties\"], this.members.noCssOnly = [], this.links = {}, this.links.list = [], this.links.add = function (e) {\n        if (e) {\n          var t = e.isLink ? e.data : e;\n          n.links.list.push(t), n.I && (l.ee(), a.update()), n.Jd.notify();\n        }\n      }, this.links.remove = function (e) {\n        if (e) {\n          var t;\n          t = e.isLink ? e.data : e;\n          var i = Abhaas.indexOf(n.links.list, t);\n          i !== -1 && (n.links.list.splice(i, 1), n.I && (l.ee(), a.update()), n.Jd.notify());\n        }\n      }, this.links.find = function (e) {\n        if (!Abhaas.isArray(n.links.list)) return null;\n\n        for (var t = 0; t < n.links.list.length; t++) {\n          var i = n.links.list[t];\n          if (i.id === e) return new Abhaas.Link(i, n);\n        }\n\n        return null;\n      }, this.links.findByFromTo = function (e, t) {\n        if (!Abhaas.isArray(n.links.list)) return null;\n\n        for (var i = 0; i < n.links.list.length; i++) {\n          var a = n.links.list[i];\n          if (a.from === e && a.to === t) return new Abhaas.Link(a, n);\n        }\n\n        return null;\n      }, this.links.load = function (e, t, i) {\n        a.links.load(e, function (e) {\n          \"function\" == typeof t && (t(e), e.preventDefault.value) || (n.links.list = e.data);\n        }, i, {\n          \"dontAddStartEnd\": !0\n        });\n      }, this.fe = {};\n      var o = this.fe;\n      o.timeout = null, o.update = function () {\n        n.I && (window.clearTimeout(o.timeout), o.timeout = setTimeout(function () {\n          l.ce(), a.update();\n        }, 0));\n      }, this.tasks = {}, this.tasks.list = [], this.tasks.add = function (e) {\n        if (e) {\n          if (e instanceof Abhaas.Event) throw \"Abhaas.Task object required. You have supplied Abhaas.Event.\";\n          var t = e.isTask ? e.data : e;\n          n.tasks.list.push(t), o.update(), n.Jd.notify();\n        }\n      }, this.tasks.find = function (e) {\n        var t = r.findInCache(e);\n        return t ? new Abhaas.Task(t, n) : null;\n      }, this.tasks.update = function (e) {\n        if (e) {\n          if (!e.isTask) throw \"Abhaas.Task object expected\";\n          e.commit(), o.update(), n.Jd.notify();\n        }\n      }, this.tasks.remove = function (e) {\n        if (e) {\n          if (!e.isTask) throw \"Abhaas.Task object expected\";\n          var t = r.findParentArray(e.data);\n\n          if (t) {\n            var i = Abhaas.indexOf(t, e.data);\n            t.splice(i, 1), o.update(), n.Jd.notify();\n          }\n        }\n      }, this.tasks.load = function (e, t, i) {\n        if (!e) throw new Abhaas.Exception(\"events.load(): 'url' parameter required\");\n\n        var a = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            o = function (e) {\n          var i,\n              o = e.request;\n\n          try {\n            i = JSON.parse(o.responseText);\n          } catch (e) {\n            var r = {};\n            return r.exception = e, void a(r);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var l = {};\n            if (l.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, l.data = i, \"function\" == typeof t && t(l), l.preventDefault.value) return;\n            n.tasks.list = i, n.I && n.update();\n          }\n        };\n\n        if (n.tasksLoadMethod && \"POST\" === n.tasksLoadMethod.toUpperCase()) Abhaas.ajax({\n          \"method\": \"POST\",\n          \"contentType\": \"application/json\",\n          \"url\": e,\n          \"success\": o,\n          \"error\": a\n        });else {\n          var r = e;\n          Abhaas.ajax({\n            \"method\": \"GET\",\n            \"url\": r,\n            \"success\": o,\n            \"error\": a\n          });\n        }\n      }, this.visibleStart = function () {\n        return a.visibleStart();\n      }, this.visibleEnd = function () {\n        return a.visibleEnd();\n      }, this.onAfterRender = null, this.onAfterUpdate = null, this.onBeforeRowHeaderRender = null, this.onBeforeTaskRender = null, this.onBeforeTimeHeaderRender = null, this.onBeforeCellRender = null, this.onTaskClick = null, this.onTaskClicked = null, this.onTaskDoubleClick = null, this.onTaskDoubleClicked = null, this.onTaskRightClick = null, this.onTaskRightClicked = null, this.onRowCreate = null, this.onRowCreated = null, this.onRowMove = null, this.onRowMoved = null, this.onRowMoving = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowEdit = null, this.onRowEdited = null, this.onRowSelect = null, this.onRowSelected = null, this.onTaskMove = null, this.onTaskMoved = null, this.onTaskMoving = null, this.onTaskResize = null, this.onTaskResized = null, this.onTaskResizing = null, this.onLinkCreate = null, this.onLinkCreated = null, this.z = function () {\n        return !!this.backendUrl || !(\"function\" != typeof WebForm_DoCallback || !this.uniqueID);\n      }, this.ge = function () {\n        if (\"string\" == typeof n.startDate && (n.startDate = new Abhaas.Date(n.startDate)), !n.startDate || !n.days) {\n          for (var e = Abhaas.Date.today(), t = e.addDays(1), i = null, o = null, r = 0; r < n.tasks.list.length; r++) {\n            var l = n.tasks.list[r];\n            e = new Abhaas.Date(l.start), t = new Abhaas.Date(l.end), (null === i || e.getTime() < i) && (i = e.getTime()), (null === o || t.getTime() > o) && (o = t.getTime());\n          }\n\n          i && o ? (e = new Abhaas.Date(i).getDatePart(), t = new Abhaas.Date(o).getDatePart().addDays(1), a.startDate = n.startDate || e, a.days = n.days || Abhaas.DateUtil.daysDiff(e, t)) : (a.startDate = e, a.days = 30);\n        }\n      }, this.commandCallBack = function (e, t) {\n        l.translate(), a.commandCallBack(e, t);\n      }, this.message = function (e, t, i, n) {\n        a.message(e, t, i, n);\n      }, this.setHeight = function (e) {\n        a.setHeight(e);\n      }, this.Ud = function () {\n        return !!this.backendUrl;\n      }, this.init = function () {\n        return l.translate(), l.ce(), l.ee(), this.ge(), a.init(), this.I = !0, this.Xd(), this;\n      }, this.Nd = !1, this.dispose = function () {\n        a.dispose(), n.Nd = !0;\n      }, this.update = function (e) {\n        if (n.Nd) throw new Abhaas.Exception(\"This Abhaas.Gantt instance has been disposed.\");\n        n.Od(e), l.translate(), l.ce(), l.ee(), n.ge(), a.update();\n      }, this.scrollTo = function (e) {\n        a.scrollTo(e);\n      }, this.scrollToTask = function (e) {\n        a.scrollToResource(e);\n      }, this.je = {};\n      var r = this.je;\n      r.cache = {}, r.clearCache = function () {\n        r.cache = {};\n      }, r.addToCache = function (e, t) {\n        var i = e.id;\n\n        if (i) {\n          var n = {};\n          if (n.isTaskWrapper = !0, n.data = e, n.parent = t, r.cache[i]) throw \"Duplicate task id detected\";\n          r.cache[i] = n;\n        }\n      }, r.findInCache = function (e) {\n        return e ? r.cache[e.toString()] : null;\n      }, r.getProperty = function (e, t) {\n        return e.tags && e.tags[t] ? e.tags[t] : e[t];\n      }, r.findParentArray = function (e) {\n        return r.findInArray(n.tasks.list, e);\n      }, r.findInArray = function (e, t) {\n        if (Abhaas.indexOf(e, t) !== -1) return e;\n\n        for (var i = 0; i < e.length; i++) {\n          var n = e[i];\n\n          if (n.children && n.children.length > 0) {\n            var a = r.findInArray(n.children, t);\n            if (a) return a;\n          }\n        }\n\n        return null;\n      }, this.ke = {};\n      var l = this.ke;\n      l.translate = function () {\n        if (a.internal.gantt = n, a.durationBarMode = \"PercentComplete\", a.timeRangeSelectedHandling = \"Disabled\", a.treeEnabled = !0, a.rowCreateHtml = \"\", a.autoRefreshCommand = n.autoRefreshCommand, a.autoRefreshEnabled = n.autoRefreshEnabled, a.autoRefreshInterval = n.autoRefreshInterval, a.autoRefreshMaxCount = n.autoRefreshMaxCount, a.autoScroll = n.autoScroll, a.backendUrl = n.backendUrl, a.crosshairType = n.crosshairType, a.doubleClickTimeout = n.doubleClickTimeout, a.durationBarVisible = n.completeBarVisible, a.durationBarHeight = n.completeBarHeight, a.dynamicEventRendering = n.progressiveTaskRendering ? \"Progressive\" : \"Disabled\", a.dynamicEventRenderingMargin = n.progressiveTaskRenderingMargin, a.dynamicEventRenderingCacheSweeping = n.progressiveTaskRenderingCacheSweeping, a.dynamicEventRenderingCacheSize = n.progressiveTaskRenderingCacheSize, a.startDate = new Abhaas.Date(n.startDate), a.days = n.days, a.cellDuration = n.cellDuration, a.cellGroupBy = n.cellGroupBy, a.cellWidth = n.cellWidth, a.cellWidthSpec = n.cellWidthSpec, a.cornerHtml = n.cornerHtml, a.eventHeight = n.taskHeight, a.eventResizeMargin = n.taskResizeMargin, a.floatingEvents = n.floatingTasks, a.floatingTimeHeaders = n.floatingTimeHeaders, a.headerHeight = n.headerHeight, a.heightSpec = n.heightSpec, a.height = n.height, a.linkBottomMargin = n.linkBottomMargin, a.linkPointSize = n.linkPointSize, a.loadingLabelVisible = n.loadingLabelVisible, a.loadingLabelText = n.loadingLabelText, a.locale = n.locale, a.messageBarPosition = n.messageBarPosition, a.messageHideAfter = n.messageHideAfter, a.rowCreateHandling = n.rowCreateHandling, a.progressiveRowRendering = n.progressiveRowRendering, a.progressiveRowRenderingPreload = n.progressiveRowRenderingPreload, a.scale = n.scale, a.scrollDelayEvents = n.scrollDelayTasks, a.scrollDelayCells = n.scrollDelayCells, a.scrollDelayFloats = n.scrollDelayFloats, a.scrollX = n.scrollX, a.scrollY = n.scrollY, n.scrollToTaskId && (a.scrollToResourceId = n.scrollToTaskId), a.separators = n.separators, a.tapAndHoldTimeout = n.tapAndHoldTimeout, a.eventHtmlLeftMargin = n.taskHtmlLeftMargin, a.eventHtmlRightMargin = n.taskHtmlRightMargin, a.eventMovingStartEndEnabled = n.taskMovingStartEndEnabled, a.eventMovingStartEndFormat = n.taskMovingStartEndFormat, a.eventResizingStartEndEnabled = n.taskResizingStartEndEnabled, a.eventResizingStartEndFormat = n.taskResizingStartEndFormat, a.hideUntilInit = n.hideUntilInit, a.treeIndent = n.treeIndent, a.treeAutoExpand = n.treeAutoExpand, a.treeImageMarginLeft = n.treeImageMarginLeft, a.treeImageMarginTop = n.treeImageMarginTop, a.treeImageMarginRight = n.treeImageMarginRight, a.treeImageWidth = n.treeImageWidth, a.treeImageHeight = n.treeImageHeight, a.timeHeaders = n.timeHeaders, a.rowHeaderHideIconEnabled = n.rowHeaderHideIconEnabled, a.rowHeaderScrolling = n.rowHeaderScrolling, a.rowHeaderSplitterWidth = n.rowHeaderSplitterWidth, a.rowHeaderWidth = n.rowHeaderWidth, a.rowHeaderWidthAutoFit = n.rowHeaderWidthAutoFit, a.rowMarginBottom = n.rowMarginBottom, a.rowMinHeight = n.rowMinHeight, a.selectedRows = n.selectedRows, a.theme = n.theme, a.useEventBoxes = n.useEventBoxes, a.snapToGrid = n.snapToGrid, a.uniqueID = n.uniqueID, a.bubble = n.bubbleTask, a.cellBubble = n.bubbleCell, a.resourceBubble = n.bubbleRow, a.contextMenu = n.contextMenuTask, a.contextMenuResource = n.contextMenuRow, a.contextMenuLink = n.contextMenuLink, a.syncResourceTree = n.syncTasks, a.syncLinks = n.syncLinks, a.timeline = n.timeline, a.visible = n.visible, a.devsb = n.devsb, a.eventMoveHandling = n.taskMoveHandling, a.eventClickHandling = n.taskClickHandling, a.eventResizeHandling = n.taskResizeHandling, a.linkCreateHandling = n.linkCreateHandling, a.eventRightClickHandling = n.taskRightClickHandling, a.eventDoubleClickHandling = n.taskDoubleClickHandling, a.rowMoveHandling = n.rowMoveHandling, a.rowClickHandling = n.rowClickHandling, a.rowDoubleClickHandling = n.rowDoubleClickHandling, a.rowEditHandling = n.rowEditHandling, a.rowSelectHandling = n.rowSelectHandling, a.eventVersionsEnabled = n.taskVersionsEnabled, a.eventVersionHeight = n.taskVersionHeight, a.eventVersionMargin = n.taskVersionMargin, a.eventVersionPosition = n.taskVersionPosition, Abhaas.isArray(n.columns)) {\n          a.rowHeaderColumns = [];\n\n          for (var e = 0; e < n.columns.length; e++) {\n            var t = n.columns[e],\n                i = {};\n            Abhaas.Util.copyProps(t, i, [\"title\", \"width\", \"html\"]), a.rowHeaderColumns.push(i);\n          }\n        }\n\n        n.z() && (a.timeHeader = n.timeHeader, a.cellProperties = n.cellProperties, a.cellConfig = n.cellConfig), a.onRowCreate = function (e) {\n          \"function\" == typeof n.onRowCreate && n.onRowCreate(e);\n        }, a.onRowCreated = function (e) {\n          \"function\" == typeof n.onRowCreated && n.onRowCreated(e);\n        }, a.onAfterRender = function (e) {\n          \"function\" == typeof n.onAfterRender && n.onAfterRender(e);\n        }, a.onAfterUpdate = function (e) {\n          \"function\" == typeof n.onAfterUpdate && n.onAfterUpdate(e);\n        }, a.onRowHeaderResized = function (e) {\n          n.rowHeaderWidth = a.rowHeaderWidth;\n        }, a.onAjaxError = function (e) {\n          \"function\" == typeof n.onAjaxError && n.onAjaxError(e);\n        }, a.onRowHeaderColumnResized = function (e) {\n          for (var t = e.column, i = Abhaas.indexOf(a.rowHeaderColumns, t), o = 0; o < n.columns.length; o++) {\n            var r = a.rowHeaderColumns[o];\n            n.columns[o].width = r.width;\n          }\n\n          if (\"function\" == typeof n.onColumnResized) {\n            var l = {};\n            l.column = n.columns[i], n.onColumnResized(l);\n          }\n        }, a.onBeforeRowHeaderRender = function (e) {\n          e.task = new Abhaas.Task(e.row.$.row.task, n);\n          var t = e.row.$.row.events[0];\n          t && \"Auto\" === n.taskGroupMode && \"Group\" === t.data.type && (e.task.data.start = t.data.start, e.task.data.end = t.data.end);\n          var i = [];\n          if (Abhaas.isArray(n.columns)) for (var a = 0; a < n.columns.length; a++) {\n            var o = n.columns[a],\n                l = o.property,\n                s = {};\n            s.value = r.getProperty(e.task.data, l), e.task.data.row && e.task.data.row.columns && e.task.data.row.columns[a] ? s.html = e.task.data.row.columns[a].html : s.html = s.value, i.push(s);\n          }\n          if (e.row.columns = i, \"function\" == typeof n.onBeforeRowHeaderRender && n.onBeforeRowHeaderRender(e), Abhaas.isArray(n.columns)) for (var a = 0; a < n.columns.length; a++) {\n            var d = i[a].html;\n            0 === a ? e.row.html = d : e.row.columns[a - 1].html = d;\n          }\n        }, a.onBeforeCellRender = function (e) {\n          e.task = n.tasks.find(e.cell.resource), delete e.cell.resource, \"function\" == typeof n.onBeforeCellRender && n.onBeforeCellRender(e);\n        }, a.onBeforeTimeHeaderRender = function (e) {\n          \"function\" == typeof n.onBeforeTimeHeaderRender && n.onBeforeTimeHeaderRender(e);\n        }, a.onEventClick = function (e) {\n          e.task = new Abhaas.Task(e.e, n), \"function\" == typeof n.onTaskClick && n.onTaskClick(e);\n        }, a.onEventClicked = function (e) {\n          \"function\" == typeof n.onTaskClicked && n.onTaskClicked(e);\n        }, a.onEventDelete = function (e) {\n          \"function\" == typeof n.onTaskDelete && n.onTaskDelete(e);\n        }, a.onEventDeleted = function (e) {\n          \"function\" == typeof n.onTaskDeleted && n.onTaskDeleted(e);\n        }, a.onEventDoubleClick = function (e) {\n          e.task = new Abhaas.Task(e.e, n), \"function\" == typeof n.onTaskDoubleClick && n.onTaskDoubleClick(e);\n        }, a.onEventDoubleClicked = function (e) {\n          \"function\" == typeof n.onTaskDoubleClicked && n.onTaskDoubleClicked(e);\n        }, a.onEventRightClick = function (e) {\n          e.task = new Abhaas.Task(e.e, n), \"function\" == typeof n.onTaskRightClick && n.onTaskRightClick(e);\n        }, a.onEventRightClicked = function (e) {\n          \"function\" == typeof n.onTaskRightClicked && n.onTaskRightClicked(e);\n        }, a.onRowMoving = function (e) {\n          e.le = e.source, e.me = e.target, e.source = new Abhaas.Task(e.le.$.row.task, n), e.target = new Abhaas.Task(e.me.$.row.task, n), \"function\" == typeof n.onRowMoving && n.onRowMoving(e);\n        }, a.onRowMove = function (e) {\n          e.le = e.source, e.me = e.target, e.source = new Abhaas.Task(e.le.$.row.task, n), e.target = new Abhaas.Task(e.me.$.row.task, n), \"function\" == typeof n.onRowMove && n.onRowMove(e), e.source = e.le, e.target = e.me;\n        }, a.onRowMoved = function (e) {\n          if (\"Update\" === n.rowMoveHandling || \"Notify\" === n.rowMoveHandling) {\n            var t = e.le.$.row.task,\n                i = e.me.$.row.task,\n                a = e.position;\n            if (\"forbidden\" === a) return;\n            var o = e.le.calendar.internal.gantt,\n                l = o.je.findParentArray(t);\n            if (!l) throw \"Cannot find source node parent\";\n            var s = Abhaas.indexOf(l, t);\n            l.splice(s, 1);\n            var d = r.findParentArray(i);\n            if (!d) throw \"Cannot find target node parent\";\n            var c = Abhaas.indexOf(d, i);\n\n            switch (a) {\n              case \"before\":\n                d.splice(c, 0, t);\n                break;\n\n              case \"after\":\n                d.splice(c + 1, 0, t);\n                break;\n\n              case \"child\":\n                i.children || (i.children = [], i.expanded = !0), i.children.push(t);\n            }\n\n            n.Jd.notify(), n.update(), o !== n && o.update();\n          }\n\n          e.source = new Abhaas.Task(e.le.$.row.task, n), e.target = new Abhaas.Task(e.me.$.row.task, n), \"function\" == typeof n.onRowMoved && n.onRowMoved(e);\n        }, a.onRowClick = function (e) {\n          e.task = new Abhaas.Task(e.resource.$.row.task, n), \"function\" == typeof n.onRowClick && n.onRowClick(e);\n        }, a.onRowClicked = function (e) {\n          \"function\" == typeof n.onRowClicked && n.onRowClicked(e);\n        }, a.onRowDoubleClick = function (e) {\n          e.task = new Abhaas.Task(e.resource.$.row.task, n), \"function\" == typeof n.onRowDoubleClick && n.onRowDoubleClick(e);\n        }, a.onRowDoubleClicked = function (e) {\n          \"function\" == typeof n.onRowDoubleClicked && n.onRowDoubleClicked(e);\n        }, a.onRowEdit = function (e) {\n          e.task = new Abhaas.Task(e.resource.$.row.task, n), \"function\" == typeof n.onRowEdit && n.onRowEdit(e);\n        }, a.onRowEdited = function (e) {\n          \"function\" == typeof n.onRowEdited && n.onRowEdited(e);\n        }, a.onRowSelect = function (e) {\n          e.task = new Abhaas.Task(e.row.$.row.task, n), \"function\" == typeof n.onRowSelect && n.onRowSelect(e);\n        }, a.onRowSelected = function (e) {\n          \"function\" == typeof n.onRowSelected && n.onRowSelected(e);\n        }, a.onEventMove = function (e) {\n          e.ne = e.e, e.task = new Abhaas.Task(e.e, n), \"function\" == typeof n.onTaskMove && n.onTaskMove(e);\n        }, a.onEventMoved = function (e) {\n          if (\"Auto\" === n.taskGroupMode) {\n            var t = e.ne,\n                i = t.data.task;\n\n            for (i.start = t.start(), i.end = t.end(); t.data.parent;) {\n              var o = a.events.find(t.data.parent.id),\n                  r = l.childrenStartEnd(t.data.parent);\n              o.start(r.start), o.end(r.end), a.events.update(o), t = o;\n            }\n          }\n\n          n.Jd.notify(), \"function\" == typeof n.onTaskMoved && n.onTaskMoved(e);\n        }, a.onEventMoving = function (e) {\n          e.task = new Abhaas.Task(e.e, n), e.ne = e.e, delete e.position, delete e.overlapping, delete e.resource, \"function\" == typeof n.onTaskMoving && n.onTaskMoving(e);\n        }, a.onEventResize = function (e) {\n          e.ne = e.e, e.task = new Abhaas.Task(e.e, n), \"function\" == typeof n.onTaskResize && n.onTaskResize(e);\n        }, a.onEventResized = function (e) {\n          if (\"Auto\" === n.taskGroupMode) {\n            var t = e.ne,\n                i = t.data.task;\n\n            for (i.start = t.start(), i.end = t.end(); t.data.parent;) {\n              var o = a.events.find(t.data.parent.id),\n                  r = l.childrenStartEnd(t.data.parent);\n              o.start(r.start), o.end(r.end), a.events.update(o), t = o;\n            }\n          }\n\n          n.Jd.notify(), \"function\" == typeof n.onTaskResized && n.onTaskResized(e);\n        }, a.onEventResizing = function (e) {\n          e.task = new Abhaas.Task(e.e, n), e.ne = e.e, \"function\" == typeof n.onTaskResizing && n.onTaskResizing(e);\n        }, a.onLinkCreate = function (e) {\n          e.source = n.tasks.find(e.from), e.target = n.tasks.find(e.to), \"function\" == typeof n.onLinkCreate && n.onLinkCreate(e);\n        }, a.onLinkCreated = function (e) {\n          \"function\" == typeof n.onLinkCreated && n.onLinkCreated(e);\n        }, a.onResourceExpand = function (e) {\n          var t = e.resource.$.row.task;\n          t.row || (t.row = {}), t.row.collapsed = !1;\n        }, a.onResourceCollapse = function (e) {\n          var t = e.resource.$.row.task;\n          t.row || (t.row = {}), t.row.collapsed = !0;\n        };\n      }, l.oe = function (e) {\n        for (var t = 0; t < a.rowlist.length; t++) {\n          var i = a.rowlist[t];\n          if (i.task === e) return a.internal.createRowObject(i);\n        }\n\n        return null;\n      }, l.ee = function () {\n        a.links.list = n.links.list ? n.links.list : [];\n      }, l.ce = function () {\n        a.resources = [], a.events.list = [], r.clearCache(), l.pe(n.tasks.list, a.resources, null), s.sheet && (s.sheet.commit(), s.sheet = null);\n      }, l.qe = function (e) {\n        var t = e.type || \"Task\";\n        e.children && e.children.length && (t = \"Group\");\n        var i = {};\n\n        for (var a in e) \"children\" !== a && (i[a] = e[a]);\n\n        var o = {};\n        if (o.data = i, o.type = t, i.box || (i.box = {}), \"undefined\" == typeof i.box.html) if (\"Task\" === o.type) {\n          var r = i.complete || 0;\n          i.box.text = r + \"%\";\n        } else i.box.text = \"\";\n        return \"undefined\" == typeof i.box.htmlRight && (i.box.htmlRight = i.text), \"function\" == typeof n.onBeforeTaskRender && n.onBeforeTaskRender(o), o.type = t, o;\n      };\n      var s = {};\n      s.keys = {}, s.sheet = null, l.se = function (e) {\n        if (e.data.box && !e.data.box.cssClass && e.data.box.backColor && \"Task\" !== e.type) {\n          var t = Abhaas.Util.normalizeColor(e.data.box.backColor),\n              i = e.type + \"_\" + t.replace(\"#\", \"\"),\n              a = n.theme,\n              o = n.theme + \"_\" + i;\n          return s.keys[i] || (s.keys[i] = !0, s.sheet || (s.sheet = Abhaas.sheet()), \"Group\" === e.type ? (s.sheet.add(\".\" + o + \".\" + a + \"_task_group .\" + a + \"_event_inner\", \"position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: \" + t + \"; filter: none; border: 0px none;\"), s.sheet.add(\".\" + o + \".\" + a + \"_task_group.\" + a + \"_event:before\", \"content:''; border-color: transparent transparent transparent \" + t + \"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;\"), s.sheet.add(\".\" + o + \".\" + a + \"_task_group.\" + a + \"_event:after\", \"content:''; border-color: transparent \" + t + \" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;\")) : \"Milestone\" === e.type && (s.sheet.add(\".\" + o + \".\" + a + \"_task_milestone .\" + a + \"_event_inner\", \"position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: \" + t + \"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;\"), s.sheet.add(\".\" + o + \".\" + a + \"_browser_ie8 .\" + a + \"_task_milestone .\" + a + \"_event_inner\", \"-ms-filter: \\\"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\\\"\"))), o;\n        }\n      }, l.pe = function (t, i, o) {\n        if (Abhaas.isArray(t)) for (var s = 0; s < t.length; s++) {\n          var d = t[s];\n          r.addToCache(d, o);\n          var c = l.qe(d),\n              h = c.data,\n              u = c.type,\n              f = {};\n\n          if (Abhaas.Util.copyProps(h, f, [\"id\", \"start\", \"end\", \"text\", \"complete\", \"tags\", \"versions\"]), Abhaas.Util.copyProps(h.box, f), f.parent = o, f.task = d, f.resource = h.id, f.commitCallback = function (e) {\n            return function () {\n              e.task.start = e.start, e.task.end = e.end;\n            };\n          }(f), \"Group\" == u) {\n            f.type = \"Group\", f.html = \"\";\n            var v = l.se(c);\n\n            if (v && (f.cssClass = (f.cssClass || \"\") + \" \" + v), delete f.backColor, \"Auto\" === n.taskGroupMode) {\n              var p = l.childrenStartEnd(d);\n              f.start = p.start, f.end = p.end, f.resizeDisabled = !0, f.moveDisabled = !0;\n            }\n          } else if (\"Milestone\" === u) {\n            f.html = \"\", d.end = d.start;\n            var v = l.se(c);\n            v && (f.cssClass = (f.cssClass || \"\") + \" \" + v), h.end = h.start, f.end = h.start, f.barHidden = !0, f.resizeDisabled = !0, f.type = \"Milestone\", f.width = n.taskHeight, delete f.backColor;\n          } else \"Task\" === u && e();\n\n          f.moveVDisabled = !0, f.htmlRight = h.box.htmlRight, f.htmlLeft = h.box.htmlLeft, a.events.list.push(f);\n          var g = {};\n          g.task = d, Abhaas.Util.copyProps(h.row, g), g.name = h.text, g.id = h.id, g.children = [], g.expanded = !h.row || !h.row.collapsed, d.children && d.children.length && l.pe(d.children, g.children, d), i.push(g);\n        }\n      }, l.childrenStartEnd = function (e) {\n        if (!e.children || !e.children.length) {\n          var t = e.start,\n              i = e.end;\n          return \"Milestone\" === e.type && (i = t), {\n            \"start\": new Abhaas.Date(t),\n            \"end\": new Abhaas.Date(i)\n          };\n        }\n\n        for (var t = null, i = null, n = 0; n < e.children.length; n++) {\n          var a = l.childrenStartEnd(e.children[n]);\n          (!t || a.start.getTime() < t.getTime()) && (t = a.start), (!i || a.end.getTime() > i.getTime()) && (i = a.end);\n        }\n\n        return {\n          \"start\": t,\n          \"end\": i\n        };\n      }, this.rows = {}, this.rows.expand = function (e) {\n        a.rows.expand(e);\n      }, this.rows.expandAll = function () {\n        a.rows.expandAll();\n      }, this.rows.selection = {}, this.rows.selection.add = function (e) {\n        a.rows.find(e.data.id);\n      }, this.rows.selection.clear = function () {\n        a.rows.selection.clear();\n      }, this.rows.selection.get = function () {\n        return a.rows.selection.get().map(function (e) {\n          return new Abhaas.Task(e.$.row.task, n);\n        });\n      }, this.exportAs = function (e, t) {\n        return a.exportAs(e, t);\n      }, this.Yd = null, this.Od = function (e) {\n        if (e) {\n          var t = {\n            \"tasks\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? n.tasks.list = e.list : n.tasks.list = e);\n              }\n            },\n            \"links\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? n.links.list = e.list : n.links.list = e);\n              }\n            },\n            \"scrollTo\": {\n              \"postInit\": function () {\n                this.data && n.scrollTo(this.data);\n              }\n            },\n            \"scrollToTask\": {\n              \"postInit\": function () {\n                this.data && n.scrollToTask(this.data);\n              }\n            }\n          };\n          this.Yd = t;\n\n          for (var i in e) if (t[i]) {\n            var a = t[i];\n            a.data = e[i], a.preInit && a.preInit();\n          } else n[i] = e[i];\n        }\n      }, this.Xd = function () {\n        var e = this.Yd;\n\n        for (var t in e) {\n          var i = e[t];\n          i.postInit && i.postInit();\n        }\n      }, this.internal = {}, this.internal.initialized = function () {\n        return n.I;\n      }, this.internal.rowObjectForTaskData = l.oe, this.internal.loadOptions = n.Od, this.Jd = {}, this.Jd.scope = null, this.Jd.notify = function () {\n        n.Jd.scope && n.Jd.scope[\"$apply\"]();\n      }, this.Od(i);\n    }, \"undefined\" != typeof jQuery && !function (e) {\n      e.fn.AbhaasGantt = function (e) {\n        var t = null,\n            i = this.each(function () {\n          if (!this.Abhaas) {\n            var i = new Abhaas.Gantt(this.id, e);\n            i.init(), this.Abhaas = i, t || (t = i);\n          }\n        });\n        return 1 === this.length ? t : i;\n      };\n    }(jQuery), function () {\n      var e = Abhaas.am();\n      e && e.directive(\"AbhaasGantt\", [\"$parse\", function (e) {\n        return {\n          \"restrict\": \"E\",\n          \"template\": \"<div id='{{id}}'></div>\",\n          \"compile\": function (t, i) {\n            return t.replaceWith(this[\"template\"].replace(\"{{id}}\", i[\"id\"])), function (t, i, n) {\n              var a = new Abhaas.Gantt(i[0]);\n              a.Jd.scope = t, a.init();\n              var o = n[\"id\"];\n              o && (t[o] = a);\n              var r = n[\"publishAs\"];\n\n              if (r) {\n                (0, e(r).assign)(t, a);\n              }\n\n              for (var l in n) if (0 === l.indexOf(\"on\")) {\n                var s = Abhaas.Util.shouldApply(l);\n                s ? !function (i) {\n                  a[i] = function (a) {\n                    var o = e(n[i]);\n                    t[\"$apply\"](function () {\n                      o(t, {\n                        \"args\": a\n                      });\n                    });\n                  };\n                }(l) : !function (i) {\n                  a[i] = function (a) {\n                    e(n[i])(t, {\n                      \"args\": a\n                    });\n                  };\n                }(l);\n              }\n\n              var d = t[\"$watch\"],\n                  c = n[\"config\"] || n[\"AbhaasConfig\"];\n              d.call(t, c, function (e, t) {\n                a.Od(e), a.update();\n              }, !0);\n            };\n          }\n        };\n      }]);\n    }(), \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  if (\"undefined\" == typeof Abhaas.Kanban) {\n    var e = function () {};\n\n    Abhaas.Kanban = function (t, i) {\n      this.v = \"2019.3.4000\";\n      var n = this;\n      this.barWidth = 5, this.cardAutoHeight = !0, this.cardHeight = 60, this.cardMarginLeft = 5, this.cardMarginRight = 5, this.cardMarginBottom = 5, this.columnHeaderHeight = 20, this.crosshairType = \"Disabled\", this.height = 300, this.heightSpec = \"Auto\", this.theme = \"kanban_default\", this.cellMarginBottom = 4, this.cellMarginTop = 5, this.columnWidthSpec = \"Auto\", this.columnWidth = 200, this.cornerHtml = null, this.contextMenuCard = null, this.rowMinHeight = 0, this.swimlaneCollapsingEnabled = !1, this.swimlaneHeaderWidth = 80, this.visible = !0, this.swimlanes = {}, this.swimlanes.list = [], this.columns = {}, this.columns.list = [], this.cards = {}, this.cards.list = [], this.cardDeleteHandling = \"Disabled\", this.cardMoveHandling = \"Update\", this.columnMoveHandling = \"Disabled\", this.swimlaneMoveHandling = \"Disabled\", this.cardRightClickHandling = \"ContextMenu\", this.onBeforeCellRender = null, this.onCardClick = null, this.onCardClicked = null, this.onCardRightClick = null, this.onCardRightClicked = null, this.onCardDelete = null, this.onCardDeleted = null, this.onCardMove = null, this.onCardMoved = null, this.onColumnMove = null, this.onColumnMoved = null, this.onHeightChanged = null, this.onSwimlaneMove = null, this.onSwimlaneMoved = null;\n      var a = new Abhaas.Scheduler(t);\n      this.scheduler = a;\n      var o = {},\n          r = 15,\n          l = 15;\n      e();\n      var s = new Abhaas.Date(\"2000-01-01\");\n      o.translate = function () {\n        var e = a;\n        e.startDate = s, e.scale = \"Day\", e.timeHeaders = [{\n          groupBy: \"Cell\",\n          format: \"d\"\n        }], e.heightSpec = n.heightSpec, e.cellWidthSpec = n.columnWidthSpec, e.cellWidth = n.columnWidth, e.cellsMarkBusiness = !1, e.cornerHtml = n.cornerHtml, e.crosshairType = n.crosshairType, e.dynamicEventRendering = \"Disabled\", e.floatingEvents = !1, e.floatingTimeHeaders = !1, e.rowMinHeight = n.rowMinHeight, e.rowMarginTop = n.cellMarginTop, e.rowMarginBottom = n.cellMarginBottom, e.devsb = n.devsb, e.eventMoveToPosition = !0, e.headerHeight = n.columnHeaderHeight, e.eventResizeHandling = \"Disabled\", e.timeRangeSelectedHandling = \"Disabled\", e.eventHeight = n.cardHeight, e.eventMarginLeft = n.cardMarginLeft, e.eventMarginRight = n.cardMarginRight, e.eventMarginBottom = n.cardMarginBottom, e.eventTextWrappingEnabled = !0, e.durationBarVisible = !1, e.theme = n.theme, e.visible = n.visible, e.rowHeaderWidth = n.swimlaneHeaderWidth, e.contextMenu = n.contextMenuCard, e.eventDeleteHandling = n.cardDeleteHandling, e.eventMoveHandling = n.cardMoveHandling, e.rowMoveHandling = Abhaas.list(n.swimlanes.list).isEmpty() ? \"Disabled\" : n.swimlaneMoveHandling, e.eventRightClickHandling = n.cardRightClickHandling, e.onHeightChanged = n.onHeightChanged, e.internal.enableCellStacking(n.cardAutoHeight), e.internal.cssNames.timeheadercol = \"_colheadercell\", e.internal.cssNames.timeheadercolInner = \"_colheadercell_inner\", e.internal.cssNames.resourcedivider = \"_rowheaderdivider\", e.internal.cssNames.event = \"_card\", e.internal.cssNames.eventInner = \"_card_inner\", e.internal.cssNames.eventDelete = \"_card_delete\", e.internal.cssNames.eventMovingSource = \"_card_moving_source\", n.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15), e.onBeforeTimeHeaderRender = function (e) {\n          var t = n.te(e.header.start);\n\n          if (e.header.html = t.name, e.header.toolTip = t.toolTip || \"\", e.header.areas = Abhaas.list(t.areas).map(function (e) {\n            var t = [];\n            return Abhaas.Util.copyProps(e, t), t;\n          }), Abhaas.list(e.header.areas).each(function (e) {\n            e.target = new Abhaas.Column(t, n);\n          }), \"Disabled\" !== n.columnMoveHandling) {\n            var i = n.theme + \"_columnmove_handle\";\n            e.header.areas.push({\n              \"left\": 0,\n              \"top\": 0,\n              \"width\": 20,\n              \"height\": 20,\n              \"css\": i,\n              \"mousedown\": n.ve,\n              \"action\": \"None\"\n            });\n          }\n        }, e.onBeforeCellRender = function (t) {\n          var i = {};\n          i.cell = {}, i.cell.column = new Abhaas.Column(n.te(t.cell.start), n), i.cell.swimlane = null;\n          var a = n.we(t.cell.resource);\n          a && (i.cell.swimlane = new Abhaas.Swimlane(a, n)), i.cell.areas = [], i.cell.cssClass = null, i.cell.html = null, i.cell.backImage = null, i.cell.backRepeat = null, i.cell.backColor = null, \"function\" == typeof n.onBeforeCellRender && (n.onBeforeCellRender(i), Abhaas.Util.copyProps(i.cell, t.cell, [\"areas\", \"cssClass\", \"html\", \"backImage\", \"backRepeat\", \"backColor\"]), Abhaas.list(t.cell.areas).each(function (e) {\n            e.target = {\n              \"swimlane\": i.cell.swimlane,\n              \"column\": i.cell.column\n            };\n          }));\n          var o = e.rows.find(t.cell.resource);\n          e.resources[o.index].collapsed && (t.cell.cssClass || (t.cell.cssClass = \"\"), t.cell.cssClass += \" \" + n.theme + \"_collapsed\");\n        }, e.onEventClick = function (e) {\n          var t = new Abhaas.Args(e);\n          t.card = new Abhaas.Card(e.e.data.card, n), \"function\" == typeof n.onCardClick && n.onCardClick(t), e.wrapped = t;\n        }, e.onEventClicked = function (e) {\n          var t = e.wrapped;\n          \"function\" == typeof n.onCardClicked && n.onCardClicked(t);\n        }, e.onEventRightClick = function (e) {\n          var t = new Abhaas.Args(e);\n\n          if (t.card = new Abhaas.Card(e.e.data.card, n), \"function\" == typeof n.onCardRightClick && n.onCardRightClick(t), e.wrapped = t, !e.preventDefault.value) {\n            var i = e.e,\n                a = t.card;\n\n            switch (n.cardRightClickHandling) {\n              case \"ContextMenu\":\n                var o = i.client.contextMenu();\n                o ? o.show(a) : n.contextMenuCard && n.contextMenuCard.show(a), e.preventDefault();\n            }\n          }\n        }, e.onEventRightClicked = function (e) {\n          var t = e.wrapped;\n          \"function\" == typeof n.onCardRightClicked && n.onCardRightClicked(t);\n        }, e.onEventDelete = function (e) {\n          var t = new Abhaas.Args(e);\n          t.card = new Abhaas.Card(e.e.data.card, n), \"function\" == typeof n.onCardDelete && n.onCardDelete(t), e.wrapped = t;\n        }, e.onEventDeleted = function (e) {\n          Abhaas.rfa(n.cards.list, e.e.data.card);\n          var t = e.wrapped;\n          \"function\" == typeof n.onCardDeleted && n.onCardDeleted(t);\n        }, e.onEventMove = function (e) {\n          e.external && (e.e.data.card = {\n            id: e.e.data.id,\n            name: e.e.data.name,\n            text: e.e.data.text,\n            barColor: e.e.data.barColor,\n            barBackColor: e.e.data.barBackColor\n          });\n          var t = new Abhaas.Args(e);\n          t.card = new Abhaas.Card(e.e.data.card, n), t.column = new Abhaas.Column(n.te(e.newStart)), t.position = e.position, t.external = e.external, \"*\" !== e.newResource ? t.swimlane = new Abhaas.Swimlane(n.we(e.newResource), n) : t.swimlane = null;\n\n          for (var i = a.cells.find(e.newStart, e.newResource)[0].events(), r = e.position, l = null, s = r - 1; i[s];) {\n            if (i[s].data !== e.e.data) {\n              l = new Abhaas.Card(i[s]);\n              break;\n            }\n\n            s -= 1;\n          }\n\n          for (var d = null, c = r; i[c];) {\n            if (i[c].data !== e.e.data) {\n              d = new Abhaas.Card(i[c]);\n              break;\n            }\n\n            c += 1;\n          }\n\n          if (t.previous = l, t.next = d, \"function\" == typeof n.onCardMove && n.onCardMove(t), e.wrapped = t, e.preventDefault(), !t.preventDefault.value) {\n            switch (n.cardMoveHandling) {\n              case \"Update\":\n                var h = 0;\n                d ? h = d.wrapped.data.sort[0] : l && (h = l.wrapped.data.sort[0]), e.e.data.sort = [h, new Abhaas.Date().toString()], Abhaas.rfa(n.cards.list, e.e.data.card);\n                var u = 0;\n                d ? u = Abhaas.indexOf(n.cards.list, d.data) : l && (u = Abhaas.indexOf(n.cards.list, l.data) + 1);\n                var f = n.te(e.newStart);\n                e.e.data.card.column = f.id, e.e.data.card.swimlane = e.newResource, n.cards.list.splice(u, 0, e.e.data.card), o.updateSort(), a.internal.deleteDragSource(), n.update();\n            }\n\n            !function () {\n              var t = e.wrapped,\n                  i = Abhaas.list(n.cards.list).find(function (t) {\n                return e.e.data.card === t;\n              });\n              i.swimlane = t.swimlane ? t.swimlane.data.id : null, i.column = t.column.data.id, \"function\" == typeof n.onCardMoved && n.onCardMoved(t);\n            }();\n          }\n        }, e.onBeforeResHeaderRender = function (e) {\n          if (n.swimlaneCollapsingEnabled) {\n            if (!Abhaas.list(n.swimlanes.list).isEmpty()) {\n              var t = n.theme + \"_swimlane_collapse\";\n              e.resource.collapsed && (t = n.theme + \"_swimlane_expand\"), e.resource.areas = [{\n                \"right\": 0,\n                \"top\": 0,\n                \"height\": l,\n                \"width\": r,\n                \"action\": \"JavaScript\",\n                \"css\": t,\n                \"js\": function () {\n                  n.xe(e.resource.index);\n                }\n              }];\n            }\n          }\n        }, e.onRowMove = function (e) {\n          var t = new Abhaas.Args(e);\n          e.wrapped = t, t.swimlane = new Abhaas.Swimlane(e.source.$.row.swimlane);\n          var i = 0;\n\n          switch (e.position) {\n            case \"before\":\n              i = e.target.index;\n              break;\n\n            case \"after\":\n              i = e.target.index + 1;\n              break;\n\n            default:\n              throw \"Unexpected target swimlane position: \" + e.position;\n          }\n\n          t.position = i, t.previous = null;\n\n          for (var o = i - 1; a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data;) t.previous = new Abhaas.Swimlane(a.rowlist[o].swimlane), o -= 1;\n\n          t.next = null;\n\n          for (var r = i; a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data;) t.next = new Abhaas.Swimlane(a.rowlist[r].swimlane), r += 1;\n\n          \"function\" == typeof n.onSwimlaneMove && n.onSwimlaneMove(t);\n        }, e.onRowMoved = function (e) {\n          var t = e.wrapped;\n          Abhaas.rfa(n.swimlanes.list, t.swimlane.data);\n          var i = 0;\n          t.next ? i = Abhaas.indexOf(n.swimlanes.list, t.next.data) : t.previous && (i = Abhaas.indexOf(n.swimlanes.list, t.previous.data) + 1), n.swimlanes.list.splice(i, 0, t.swimlane.data), \"function\" == typeof n.onSwimlaneMoved && n.onSwimlaneMoved(t);\n        }, e.treePreventParentUsage = !0;\n      }, o.loadCards = function () {\n        var e = n.theme + \"_card_header\",\n            t = n.theme + \"_card_body\",\n            i = new Abhaas.Date().toString();\n        a.sortDirections = [\"asc\", \"desc\"], a.events.list = Abhaas.list(n.cards.list).map(function (a, o) {\n          var r = a.html || a.text || \"\",\n              l = a.name || \"\",\n              d = {};\n          return d.id = a.id, d.text = a.text, d.html = \"<div class='\" + e + \"'>\" + l + \"</div><div class='\" + t + \"'>\" + r + \"</div>\", d.resource = a.swimlane, d.start = s.addDays(Abhaas.list(n.columns.list).findIndex(function (e) {\n            return a.column === e.id;\n          })), d.end = d.start.addDays(1), d.card = a, d.height = a.height, d.cssClass = a.cssClass, d.sort = [o, i], d.areas = Abhaas.list(a.areas).map(function (e) {\n            var t = {};\n            return Abhaas.Util.copyProps(e, t), e.js && (t.js = function (t) {\n              e.js(new Abhaas.Card(t.data.card, n));\n            }), t;\n          }), d.areas.push({\n            \"left\": 0,\n            \"width\": 5,\n            \"top\": 0,\n            \"bottom\": 0,\n            \"backColor\": a.barColor,\n            \"cssClass\": n.theme + \"_card_bar\"\n          }), d;\n        });\n      }, o.updateSort = function () {\n        var e = new Abhaas.Date().toString();\n        Abhaas.list(n.cards.list).each(function (t, i) {\n          var n = o.findSchedulerEventData(t);\n          n && (n.sort = [i, e]);\n        });\n      }, o.findSchedulerEventData = function (e) {\n        return Abhaas.list(a.events.list).find(function (t) {\n          return t.card === e;\n        });\n      }, o.loadSwimlanes = function () {\n        var e = Abhaas.list(n.swimlanes.list);\n        a.resources = e.map(function (e) {\n          var t = {};\n          return t.name = e.name, t.id = e.id, t.swimlane = e, e.collapsed && (t.collapsed = !0, t.eventHeight = 20, t.hideEvents = !0), t;\n        }), e.isEmpty() && (a.resources = [{\n          name: \"\",\n          id: \"*\"\n        }]);\n      }, o.loadColumns = function () {\n        var e = Abhaas.list(n.columns.list);\n        a.days = e.length;\n      };\n      var d = {};\n      d.active = null, d.div = null, d.update = function () {\n        d.clear();\n        var e = d.findPosition();\n        d.draw(e);\n      }, d.clear = function () {\n        Abhaas.de(d.div), d.div = null;\n      }, d.draw = function (e) {\n        var t = 0;\n\n        if (e >= a.itline.length) {\n          var i = a.itline[a.itline.length - 1];\n          t = i.left + i.width - 3;\n        } else t = a.itline[e].left;\n\n        var o = document.createElement(\"div\");\n        o.style.position = \"absolute\", o.style.left = t + \"px\", o.style.width = \"3px\", o.style.top = 0, o.style.height = a.headerHeight + \"px\", o.className = n.theme + \"_columnmove_position\", d.div = o, a.nav.timeHeader.appendChild(o);\n      }, d.findPosition = function () {\n        if (n.coords.x < 0) return 0;\n        var e = Abhaas.list(a.itline).findIndex(function (e) {\n          var t = e.left + a.rowHeaderWidth,\n              i = e.width;\n          return n.coords.x < t + i / 2;\n        });\n        return e === -1 ? a.itline.length : e;\n      }, this.ve = function (e) {\n        d.active = e;\n      }, this.te = function (e) {\n        return n.columns.list[Abhaas.DateUtil.daysDiff(s, e)];\n      }, this.we = function (e) {\n        return Abhaas.list(n.swimlanes.list).find(function (t) {\n          return t.id === e;\n        });\n      }, this.message = function (e, t, i, n) {\n        a.message(e, t, i, n);\n      }, this.show = function () {\n        n.visible = !0, a.show();\n      }, this.hide = function () {\n        n.visible = !1, a.hide();\n      }, this.cards.add = function (e) {\n        var t = null;\n        t = e && e instanceof Abhaas.Card ? e.data : e, e && (n.cards.list.push(t), n.update());\n      }, this.cards.remove = function (e) {\n        var t = null;\n        t = e && e instanceof Abhaas.Card ? e.data : e, e && (Abhaas.rfa(n.cards.list, t), n.update());\n      }, this.cards.update = function (e) {\n        n.update();\n      }, this.cards.find = function (e) {\n        var t = Abhaas.list(n.cards.list).find(function (t) {\n          return e === t.id;\n        });\n        return t ? new Abhaas.Card(t, n) : null;\n      }, this.xe = function (e) {\n        Abhaas.list(n.swimlanes.list).isEmpty() || (n.swimlanes.list[e].collapsed = !n.swimlanes.list[e].collapsed), n.update();\n      }, this.init = function () {\n        return o.translate(), o.loadSwimlanes(), o.loadColumns(), o.loadCards(), a.init(), n.xd(), this.I = !0, this;\n      }, this.Nd = !1, this.dispose = function () {\n        a.dispose(), n.Nd = !0;\n      }, this.update = function (e) {\n        if (n.Nd) throw new Abhaas.Exception(\"This Abhaas.Gantt instance has been disposed.\");\n        n.Od(e), o.translate(), o.loadSwimlanes(), o.loadColumns(), o.loadCards(), a.update();\n      }, this.xd = function () {\n        Abhaas.re(document, \"mouseup\", n.ye), Abhaas.re(document, \"mousemove\", n.ze);\n      }, this.Jd = {}, this.Jd.scope = null, this.Jd.notify = function () {\n        n.Jd.scope && n.Jd.scope[\"$apply\"]();\n      }, this.Yd = null, this.Od = function (e) {\n        if (e) {\n          var t = {\n            \"cards\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? n.cards.list = e.list : n.cards.list = e);\n              }\n            },\n            \"columns\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? n.columns.list = e.list : n.columns.list = e);\n              }\n            },\n            \"swimlanes\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? n.swimlanes.list = e.list : n.swimlanes.list = e);\n              }\n            }\n          };\n          this.Yd = t;\n\n          for (var i in e) if (t[i]) {\n            var a = t[i];\n            a.data = e[i], a.preInit && a.preInit();\n          } else n[i] = e[i];\n        }\n      }, this.Xd = function () {\n        var e = this.Yd;\n\n        for (var t in e) {\n          var i = e[t];\n          i.postInit && i.postInit();\n        }\n      }, this.internal = {}, this.internal.loadOptions = n.Od, this.Od(i), this.sd = function () {\n        var e = dp.nav.top;\n        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;\n      }, this.td = function () {\n        var e = n,\n            t = e.sd;\n        t() || e.ud || (e.ud = setInterval(function () {\n          t() && (e.update(), clearInterval(e.ud));\n        }, 100));\n      }, this.ze = function (e) {\n        n.coords = Abhaas.mo3(a.nav.top, e), d.active && d.update();\n      }, this.ye = function (e) {\n        if (d.active) {\n          var t = d.active.source,\n              i = d.findPosition(),\n              a = n.te(t.start),\n              o = new Abhaas.Args();\n          o.column = new Abhaas.Column(a, n), o.position = i, o.previous = null, o.next = null;\n\n          for (var r = null, l = o.position; 0 !== l && !r;) a !== n.columns.list[l - 1] && (r = n.columns.list[l - 1]), l -= 1;\n\n          r && (o.previous = new Abhaas.Column(r, n));\n          var s = null;\n\n          for (l = o.position; l < n.columns.list.length - 1 && !s;) a !== n.columns.list[l] && (s = n.columns.list[l]), l += 1;\n\n          if (s && (o.next = new Abhaas.Column(s, n)), \"function\" == typeof n.onColumnMove && n.onColumnMove(o), !o.preventDefault.value) {\n            if (\"Update\" === n.columnMoveHandling) {\n              Abhaas.rfa(n.columns.list, o.column.data);\n              var c = 0;\n              o.next ? c = Abhaas.indexOf(n.columns.list, o.next.data) : o.previous && (c = Abhaas.indexOf(n.columns.list, o.previous.data) + 1), n.columns.list.splice(c, 0, o.column.data), n.update();\n            }\n\n            \"function\" == typeof n.onColumnMoved && n.onColumnMove(o);\n          }\n\n          d.active = null, d.clear();\n        }\n      };\n    }, Abhaas.Kanban.makeDraggable = function (e) {\n      Abhaas.Scheduler.makeDraggable(e);\n    }, Abhaas.Card = function (e, t) {\n      if (e instanceof Abhaas.Event) {\n        var i = e;\n        this.data = i.data.card, this.wrapped = e;\n      } else this.data = e;\n\n      this.control = t;\n    }, Abhaas.Column = function (e, t) {\n      this.data = e, this.control = t;\n    }, Abhaas.Swimlane = function (e, t) {\n      this.data = e, this.control = t;\n    }, function () {\n      var e = Abhaas.am();\n      e && e.directive(\"AbhaasKanban\", [\"$parse\", function (e) {\n        return {\n          \"restrict\": \"E\",\n          \"template\": \"<div id='{{id}}'></div>\",\n          \"compile\": function (t, i) {\n            return t.replaceWith(this[\"template\"].replace(\"{{id}}\", i[\"id\"])), function (t, i, n) {\n              var a = new Abhaas.Kanban(i[0]);\n              a.Jd.scope = t, a.init();\n              var o = n[\"id\"];\n              o && (t[o] = a);\n              var r = n[\"publishAs\"];\n\n              if (r) {\n                (0, e(r).assign)(t, a);\n              }\n\n              for (var l in n) if (0 === l.indexOf(\"on\")) {\n                var s = Abhaas.Util.shouldApply(l);\n                s ? !function (i) {\n                  a[i] = function (a) {\n                    var o = e(n[i]);\n                    t[\"$apply\"](function () {\n                      o(t, {\n                        \"args\": a\n                      });\n                    });\n                  };\n                }(l) : !function (i) {\n                  a[i] = function (a) {\n                    e(n[i])(t, {\n                      \"args\": a\n                    });\n                  };\n                }(l);\n              }\n\n              var d = t[\"$watch\"],\n                  c = n[\"config\"] || n[\"AbhaasConfig\"];\n              d.call(t, c, function (e, t) {\n                a.Od(e), a.update();\n              }, !0);\n            };\n          }\n        };\n      }]);\n    }();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  if (\"undefined\" == typeof Abhaas.Menu) {\n    var e = function () {},\n        t = {};\n\n    t.mouse = null, t.menu = null, t.handlersRegistered = !1, t.hideTimeout = null, t.waitingSubmenu = null, Abhaas.Menu = function (i) {\n      var n = this,\n          a = null;\n      this.v = \"2019.3.4000\", this.zIndex = 120, this.cssClassPrefix = \"menu_default\", this.cssOnly = !0, this.menuTitle = null, this.showMenuTitle = !1, this.hideOnMouseOut = !1, this.hideAfter = 200, this.theme = null, this.onShow = null, this.p = function () {}, i && Abhaas.isArray(i) && (this.items = i), this.show = function (i, o) {\n        var o = o || {},\n            r = null;\n\n        if (i ? \"string\" == typeof i.id || \"number\" == typeof i.id ? r = i.id : \"function\" == typeof i.id ? r = i.id() : \"function\" == typeof i.value && (r = i.value()) : r = null, \"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), o.submenu || t.menuClean(), this.p.submenu = null, null !== t.mouse) {\n          n.cssOnly || (n.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\"));\n          var l = null;\n\n          if (i && i.isRow && i.$.row.task ? (l = new Abhaas.Task(i.$.row.task, i.calendar), l.menuType = \"resource\") : l = i && i.isEvent && i.data.task ? new Abhaas.Task(i, i.calendar) : i, \"function\" == typeof n.onShow) {\n            var s = {};\n            if (s.source = l, s.menu = n, s.preventDefault = function () {\n              s.preventDefault.value = !0;\n            }, n.onShow(s), s.preventDefault.value) return;\n          }\n\n          var d = document.createElement(\"div\");\n          if (d.style.position = \"absolute\", d.style.top = \"0px\", d.style.left = \"0px\", d.style.display = \"none\", d.style.overflow = \"hidden\", d.style.zIndex = this.zIndex + 1, d.className = this.applyCssClass(\"main\"), d.onclick = function (e) {\n            e.cancelBubble = !0, this.parentNode.removeChild(this);\n          }, this.hideOnMouseOut && (d.onmousemove = function (e) {\n            clearTimeout(t.hideTimeout);\n          }, d.onmouseleave = function (e) {\n            n.delayedHide({\n              \"hideParent\": !0\n            });\n          }), !this.items || 0 === this.items.length) throw \"No menu items defined.\";\n\n          if (this.showMenuTitle) {\n            var c = document.createElement(\"div\");\n            c.innerHTML = this.menuTitle, c.className = this.applyCssClass(\"title\"), d.appendChild(c);\n          }\n\n          for (var h = 0; h < this.items.length; h++) {\n            var u = this.items[h],\n                f = document.createElement(\"div\");\n\n            if (Abhaas.Util.addClass(f, this.applyCssClass(\"item\")), u.items && Abhaas.Util.addClass(f, this.applyCssClass(\"item_haschildren\")), \"undefined\" != typeof u && !u.hidden) {\n              if (\"-\" === u.text) {\n                var v = document.createElement(\"div\");\n                f.appendChild(v);\n              } else {\n                var p = document.createElement(\"a\");\n                if (p.style.position = \"relative\", p.style.display = \"block\", u.cssClass && Abhaas.Util.addClass(p, u.cssClass), u.disabled) Abhaas.Util.addClass(p, n.applyCssClass(\"item_disabled\"));else {\n                  if (u.onclick || u.onClick) {\n                    p.item = u, p.onclick = function (e, t) {\n                      return function (i) {\n                        if (\"function\" == typeof e.onClick) {\n                          var n = {};\n                          if (n.item = e, n.source = t.source, n.originalEvent = i, n.preventDefault = function () {\n                            n.preventDefault.value = !0;\n                          }, e.onClick(n), n.preventDefault.value) return;\n                        }\n\n                        e.onclick && e.onclick.call(t, i);\n                      };\n                    }(u, p);\n\n                    var g = function (e, i) {\n                      return function (n) {\n                        n.stopPropagation(), n.preventDefault();\n\n                        var a = function () {\n                          window.setTimeout(function () {\n                            i.source.calendar.internal.touch.active = !1;\n                          }, 500);\n                        };\n\n                        if (\"function\" == typeof e.onClick) {\n                          var o = {};\n                          if (o.item = e, o.source = i.source, o.originalEvent = n, o.preventDefault = function () {\n                            o.preventDefault.value = !0;\n                          }, e.onClick(o), o.preventDefault.value) return void a();\n                        }\n\n                        e.onclick && e.onclick.call(i, n), t.menuClean(), a();\n                      };\n                    };\n\n                    p.ontouchstart = function (e) {\n                      e.stopPropagation(), e.preventDefault(), p.source.calendar.internal.touch.active = !0;\n                    }, p.ontouchend = g(u, p);\n                  }\n\n                  if (u.items && !u.disabled) {\n                    var m = function (e, t) {\n                      return function (i) {\n                        i.preventDefault(), i.stopPropagation(), n.Ae(e, t);\n                      };\n                    };\n\n                    p.ontouchend = m(u, p);\n                  }\n\n                  if (u.onclick) e();else if (u.href) p.href = u.href.replace(/\\x7B0\\x7D/gim, r), u.target && p.setAttribute(\"target\", u.target);else if (u.command) {\n                    var m = function (e, t) {\n                      return function (i) {\n                        var n = t.source,\n                            a = e;\n                        a.action = a.action ? a.action : \"CallBack\";\n                        var o = n.calendar || n.root;\n                        if (n instanceof Abhaas.Link) return void o.internal.linkMenuClick(a.command, n, a.action);\n                        if (n instanceof Abhaas.Selection) return void o.internal.timeRangeMenuClick(a.command, n, a.action);\n                        if (n instanceof Abhaas.Event) return void o.internal.eventMenuClick(a.command, n, a.action);\n                        if (n instanceof Abhaas.Selection) return void o.internal.timeRangeMenuClick(a.command, n, a.action);\n                        if (n instanceof Abhaas.Task) return void (\"resource\" === n.menuType ? o.internal.resourceHeaderMenuClick(a.command, t.menuSource, a.action) : o.internal.eventMenuClick(a.command, t.menuSource, a.action));\n\n                        switch (n.menuType) {\n                          case \"resource\":\n                            return void o.internal.resourceHeaderMenuClick(a.command, n, a.action);\n\n                          case \"selection\":\n                            return void o.internal.timeRangeMenuClick(a.command, n, a.action);\n\n                          default:\n                            return void o.internal.eventMenuClick(a.command, n, a.action);\n                        }\n\n                        i.preventDefault();\n                      };\n                    };\n\n                    p.onclick = m(u, p), p.ontouchend = m(u, p);\n                  }\n                }\n                p.source = l, p.menuSource = i;\n                var y = document.createElement(\"span\");\n\n                if (y.className = n.applyCssClass(\"item_text\"), y.innerHTML = u.text, p.appendChild(y), u.image) {\n                  var b = document.createElement(\"img\");\n                  b.src = u.image, b.style.position = \"absolute\", b.style.top = \"0px\", b.style.left = \"0px\", p.appendChild(b);\n                }\n\n                if (u.icon) {\n                  var w = document.createElement(\"span\");\n                  w.className = n.applyCssClass(\"item_icon\");\n                  var D = document.createElement(\"i\");\n                  D.className = u.icon, w.appendChild(D), p.appendChild(w);\n                }\n\n                var k = function (e, i) {\n                  return function () {\n                    var a = (i.source, e),\n                        o = t.waitingSubmenu;\n\n                    if (o) {\n                      if (o.parent === a) return;\n                      clearTimeout(o.timeout), t.waitingSubmenu = null;\n                    }\n\n                    e.disabled || (t.waitingSubmenu = {}, t.waitingSubmenu.parent = a, t.waitingSubmenu.timeout = setTimeout(function () {\n                      t.waitingSubmenu = null, n.Ae(a, i);\n                    }, 300));\n                  };\n                };\n\n                p.onmouseover = k(u, p), f.appendChild(p);\n              }\n\n              d.appendChild(f);\n            }\n          }\n\n          var P = function (e) {\n            window.setTimeout(function () {\n              t.menuClean(), Abhaas.MenuBar.deactivate();\n            }, 100);\n          };\n\n          d.onclick = P, d.ontouchend = P, d.onmousedown = function (e) {\n            e = e || window.event, e.cancelBubble = !0, e.stopPropagation && e.stopPropagation();\n          }, d.oncontextmenu = function () {\n            return !1;\n          }, document.body.appendChild(d), n.p.visible = !0, n.p.source = i, d.style.display = \"\";\n          var x = d.offsetHeight,\n              C = d.offsetWidth;\n          d.style.display = \"none\";\n          var S = document.documentElement.clientHeight,\n              E = document.documentElement.clientWidth,\n              A = \"number\" == typeof o.windowMargin ? o.windowMargin : 5;\n\n          if (function () {\n            var e = o.initiator;\n\n            if (e) {\n              var t = e.div,\n                  i = e.e,\n                  n = e.area;\n\n              if (\"Visible\" !== (n.visibility || n.v || \"Visible\")) {\n                var r = Abhaas.Areas.createArea(t, i, n);\n                t.appendChild(r), a = r;\n                var l = Abhaas.abs(r);\n                o.x = l.x, o.y = l.y + l.h + 2;\n              }\n            }\n          }(), function () {\n            var e = \"number\" == typeof o.x ? o.x : t.mouse.x + 1,\n                i = \"number\" == typeof o.y ? o.y : t.mouse.y + 1,\n                n = document.body.scrollTop || document.documentElement.scrollTop,\n                a = document.body.scrollLeft || document.documentElement.scrollLeft;\n\n            if (i - n > S - x && 0 !== S) {\n              var r = i - n - (S - x) + A;\n              d.style.top = i - r + \"px\";\n            } else d.style.top = i + \"px\";\n\n            if (\"right\" === o.align && (e -= C), e - a > E - C && 0 !== E) {\n              var l = e - a - (E - C) + A;\n              d.style.left = e - l + \"px\";\n            } else d.style.left = e + \"px\";\n          }(), o.parentLink) {\n            var T = o.parentLink,\n                M = parseInt(new Abhaas.StyleReader(d).get(\"border-top-width\")),\n                H = Abhaas.abs(o.parentLink.parentNode),\n                _ = H.x + T.offsetWidth,\n                R = H.y - M;\n\n            _ + C > E && (_ = Math.max(0, H.x - C));\n            var B = document.body.scrollTop + document.documentElement.scrollTop;\n            R + x - B > S && (R = Math.max(0, S - x + B)), d.style.left = _ + \"px\", d.style.top = R + \"px\";\n          }\n\n          d.style.display = \"\", this.addShadow(d), this.p.div = d, o.submenu || (Abhaas.Menu.active = this);\n        }\n      }, this.Ae = function (e, t) {\n        var i = e,\n            a = t.source;\n\n        if ((!n.p.submenu || n.p.submenu.item !== e) && (n.p.submenu && n.p.submenu.item !== e && (Abhaas.Util.removeClass(n.p.submenu.link.parentNode, n.applyCssClass(\"item_haschildren_active\")), n.p.submenu.menu.hide(), n.p.submenu = null), e.items)) {\n          var o = n.cloneOptions();\n          o.items = e.items, n.p.submenu = {}, n.p.submenu.menu = new Abhaas.Menu(o), n.p.submenu.menu.Be = n, n.p.submenu.menu.show(a, {\n            \"submenu\": !0,\n            \"parentLink\": t,\n            \"parentItem\": i\n          }), n.p.submenu.item = e, n.p.submenu.link = t, Abhaas.Util.addClass(t.parentNode, n.applyCssClass(\"item_haschildren_active\"));\n        }\n      }, this.applyCssClass = function (e) {\n        var t = this.theme || this.cssClassPrefix,\n            i = this.cssOnly ? \"_\" : \"\";\n        return t ? t + i + e : \"\";\n      }, this.cloneOptions = function () {\n        return Abhaas.Util.copyProps(o, {}, [\"cssClassPrefix\", \"theme\", \"hideAfter\", \"hideOnMouseOut\", \"zIndex\"]);\n      }, this.hide = function (e) {\n        e = e || {}, this.p.submenu && this.p.submenu.menu.hide(), this.removeShadow(), this.p.div && this.p.div.parentNode === document.body && document.body.removeChild(this.p.div), a && (Abhaas.de(a), a = null), n.p.visible = !1, n.p.source = null, n.Be && e.hideParent && n.Be.hide(e);\n      }, this.delayedHide = function (e) {\n        t.hideTimeout = setTimeout(function () {\n          n.hide(e);\n        }, n.hideAfter);\n      }, this.cancelHideTimeout = function () {\n        clearTimeout(t.hideTimeout);\n      }, this.init = function (e) {\n        return t.mouseMove(e), this;\n      }, this.addShadow = function (e) {}, this.removeShadow = function () {};\n      var o = Abhaas.isArray(i) ? null : i;\n      if (o) for (var r in o) this[r] = o[r];\n    }, Abhaas.MenuBar = function (e, t) {\n      var i = this,\n          t = t || {};\n      this.items = [], this.theme = \"menubar_default\", this.windowMargin = 0, this.nav = {}, this.elements = {}, this.elements.items = Abhaas.list(), this.Ce = null;\n\n      for (var n in t) this[n] = t[n];\n\n      this.De = function (e) {\n        return this.theme + \"_\" + e;\n      }, this.ya = function () {\n        this.nav.top = document.getElementById(e);\n        var t = this.nav.top;\n        t.className = this.De(\"main\"), Abhaas.list(i.items).each(function (e) {\n          var n = document.createElement(\"span\");\n          n.innerHTML = e.text, n.className = i.De(\"item\"), n.data = e, n.onclick = function () {\n            return i.active && i.active.item === e ? void i.Ee() : void (e.children && i.Fe(n));\n          }, n.onmousedown = function (e) {\n            e.stopPropagation();\n          }, n.onmouseover = function () {\n            i.active && i.active.item !== e && i.Fe(n);\n          }, t.appendChild(n), i.elements.items.push(n);\n        });\n      }, this.Ee = function () {\n        var e = i.De(\"item_active\");\n        i.elements.items.each(function (t) {\n          Abhaas.Util.removeClass(t, e);\n        }), i.active && i.active.menu && i.active.menu.hide(), i.active = null;\n      }, this.Ge = function (e) {\n        return !!i.active && i.active.item === e.data;\n      }, this.Fe = function (e) {\n        if (!i.Ge(e)) {\n          i.Ee();\n          var t = e.data,\n              n = i.active = {};\n          n.item = t, n.div = e;\n          var a = i.De(\"item_active\");\n          Abhaas.Util.addClass(e, a);\n          var o = Abhaas.abs(e);\n          t.children && (n.menu = new Abhaas.Menu({\n            \"items\": t.children\n          }), n.menu.show(null, {\n            \"x\": o.x,\n            \"y\": o.y + o.h,\n            \"align\": t.align,\n            \"windowMargin\": i.windowMargin\n          })), Abhaas.MenuBar.active = i;\n        }\n      }, this.init = function () {\n        return this.ya(), this;\n      };\n    }, Abhaas.MenuBar.deactivate = function () {\n      Abhaas.MenuBar.active && (Abhaas.MenuBar.active.Ee(), Abhaas.MenuBar.active = null);\n    }, t.menuClean = function () {\n      \"undefined\" != typeof Abhaas.Menu.active && Abhaas.Menu.active && (Abhaas.Menu.active.hide(), Abhaas.Menu.active = null);\n    }, t.mouseDown = function (e) {\n      \"undefined\" != typeof t && (t.menuClean(), Abhaas.MenuBar.deactivate());\n    }, t.mouseMove = function (e) {\n      \"undefined\" != typeof t && (t.mouse = t.mousePosition(e));\n    }, t.touchMove = function (e) {\n      \"undefined\" != typeof t && (t.mouse = t.touchPosition(e));\n    }, t.touchStart = function (e) {\n      \"undefined\" != typeof t && (t.mouse = t.touchPosition(e));\n    }, t.touchEnd = function (e) {}, t.touchPosition = function (e) {\n      if (!e || !e.touches) return null;\n      var t = e.touches[0],\n          i = {};\n      return i.x = t.pageX, i.y = t.pageY, i;\n    }, t.mousePosition = function (e) {\n      return Abhaas.mo3(document.body, e);\n    }, Abhaas.Menu.touchPosition = function (e) {\n      e.touches && (t.mouse = t.touchPosition(e));\n    }, t.handlersRegistered || (Abhaas.re(document, \"mousemove\", t.mouseMove), Abhaas.re(document, \"mousedown\", t.mouseDown), Abhaas.re(document, \"touchmove\", t.touchMove), Abhaas.re(document, \"touchstart\", t.touchStart), Abhaas.re(document, \"touchend\", t.touchEnd), t.handlersRegistered = !0), \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas && (Abhaas = {}), function () {\n  Abhaas.ModalStatic = {}, Abhaas.ModalStatic.list = [], Abhaas.ModalStatic.hide = function () {\n    if (this.list.length > 0) {\n      var e = this.list.pop();\n      e && e.hide();\n    }\n  }, Abhaas.ModalStatic.remove = function (e) {\n    for (var t = Abhaas.ModalStatic.list, i = 0; i < t.length; i++) if (t[i] === e) return void t.splice(i, 1);\n  }, Abhaas.ModalStatic.close = function (e) {\n    Abhaas.ModalStatic.result(e), Abhaas.ModalStatic.hide();\n  }, Abhaas.ModalStatic.result = function (e) {\n    var t = Abhaas.ModalStatic.list;\n    t.length > 0 && (t[t.length - 1].result = e);\n  }, Abhaas.ModalStatic.displayed = function (e) {\n    for (var t = Abhaas.ModalStatic.list, i = 0; i < t.length; i++) if (t[i] === e) return !0;\n\n    return !1;\n  }, Abhaas.ModalStatic.stretch = function () {\n    if (this.list.length > 0) {\n      var e = this.list[this.list.length - 1];\n      e && e.stretch();\n    }\n  }, Abhaas.ModalStatic.last = function () {\n    var e = Abhaas.ModalStatic.list;\n    return e.length > 0 ? e[e.length - 1] : null;\n  };\n\n  var e = function () {\n    var e = document.createElement(\"style\");\n    e.setAttribute(\"type\", \"text/css\"), e.styleSheet || e.appendChild(document.createTextNode(\"\")), (document.head || document.getElementsByTagName(\"head\")[0]).appendChild(e);\n    var t = !!e.styleSheet,\n        i = {};\n    return i.rules = [], i.commit = function () {\n      try {\n        t && (e.styleSheet.cssText = this.rules.join(\"\\n\"));\n      } catch (e) {}\n    }, i.add = function (i, n, a) {\n      if (t) return void this.rules.push(i + \"{\" + n + \"}\");\n      if (e.sheet.insertRule) \"undefined\" == typeof a && (a = e.sheet.cssRules.length), e.sheet.insertRule(i + \"{\" + n + \"}\", a);else {\n        if (!e.sheet.addRule) throw \"No CSS registration method found\";\n        e.sheet.addRule(i, n, a);\n      }\n    }, i;\n  },\n      t = new e();\n\n  t.add(\".modal_default_main\", \"border: 10px solid #ccc; max-width: 90%;\"), t.add(\".modal_default_content\", \"padding: 10px 0px;\"), t.add(\".modal_default_inner\", \"padding: 20px;\"), t.add(\".modal_default_input\", \"padding: 10px 0px;\"), t.add(\".modal_default_buttons\", \"padding: 10px 0px;\"), t.add(\".modal_default_background\", \"opacity: 0.3; background-color: #000;\"), t.add(\".modal_default_ok\", \"padding: 3px; width: 150px;\"), t.add(\".modal_default_cancel\", \"padding: 3px; width: 80px;\"), t.add(\".modal_min_main\", \"border: 1px solid #ccc; max-width: 90%;\"), t.add(\".modal_min_background\", \"opacity: 0.3; background-color: #000;\"), t.add(\".modal_min_ok\", \"padding: 3px 10px;\"), t.add(\".modal_min_cancel\", \"padding: 3px 10px;\"), t.commit(), Abhaas.Modal = function (e) {\n    this.autoStretch = !0, this.autoStretchFirstLoadOnly = !1, this.className = null, this.theme = \"modal_default\", this.disposeOnClose = !0, this.dragDrop = !0, this.loadingHtml = null, this.maxHeight = null, this.scrollWithPage = !0, this.useIframe = !0, this.zIndex = 99999, this.left = null, this.width = 800, this.top = 20, this.height = 200, this.closed = null, this.onClosed = null, this.onShow = null;\n    var t = this;\n    this.id = \"_\" + new Date().getTime() + \"n\" + 10 * Math.random(), this.He = !1, this.Ie = null, this.Je = null, this.showHtml = function (e) {\n      if (Abhaas.ModalStatic.displayed(this)) throw \"This modal dialog is already displayed.\";\n\n      if (this.div || this.Ke(), this.$b(), this.useIframe) {\n        var t = function (e, t) {\n          return function () {\n            e.setInnerHTML(e.id + \"iframe\", t);\n          };\n        };\n\n        window.setTimeout(t(this, e), 0);\n      } else e.nodeType ? this.div.appendChild(e) : this.div.innerHTML = e;\n\n      this.$b(), this.Le(), this.Me();\n    }, this.Ne = function () {\n      return this.corners && \"rounded\" === this.corners.toLowerCase();\n    }, this.showUrl = function (e) {\n      if (Abhaas.ModalStatic.displayed(this)) throw \"This modal dialog is already displayed.\";\n\n      if (this.useIframe) {\n        this.div || this.Ke();\n        var i = this.loadingHtml;\n        i && (this.iframe.src = \"about:blank\", this.setInnerHTML(this.id + \"iframe\", i)), this.re(this.iframe, \"load\", this.Oe), this.iframe.src = e, this.$b(), this.Le(), this.Me();\n      } else t.Pe({\n        \"url\": e,\n        \"success\": function (e) {\n          var i = e.request.responseText;\n          t.showHtml(i);\n        },\n        \"error\": function (e) {\n          t.showHtml(\"Error loading the modal dialog\");\n        }\n      });\n    }, this.Me = function () {\n      if (\"function\" == typeof t.onShow) {\n        var e = {};\n        e.root = t.Qe(), t.onShow(e);\n      }\n    }, this.Qe = function () {\n      return t.iframe ? t.iframe.contentWindow.document : t.div;\n    }, this.Pe = function (e) {\n      var t = new XMLHttpRequest();\n\n      if (t) {\n        var i = e.method || \"GET\",\n            n = e.success || function () {},\n            a = e.error || function () {},\n            o = e.data,\n            r = e.url;\n\n        t.open(i, r, !0), t.setRequestHeader(\"Content-type\", \"text/plain\"), t.onreadystatechange = function () {\n          if (4 === t.readyState) if (200 === t.status || 304 === t.status) {\n            var e = {};\n            e.request = t, n(e);\n          } else if (a) {\n            var e = {};\n            e.request = t, a(e);\n          } else window.console && console.log(\"HTTP error \" + t.status);\n        }, 4 !== t.readyState && (\"object\" == typeof o && (o = JSON.stringify(o)), t.send(o));\n      }\n    }, this.$b = function () {\n      var e = window,\n          i = document,\n          n = e.pageYOffset ? e.pageYOffset : i.documentElement && i.documentElement.scrollTop ? i.documentElement.scrollTop : i.body.scrollTop;\n      this.theme && (this.hideDiv.className = this.theme + \"_background\"), this.zIndex && (this.hideDiv.style.zIndex = this.zIndex), this.hideDiv.style.display = \"\", window.setTimeout(function () {\n        t.hideDiv && (t.hideDiv.onclick = function () {\n          t.hide({\n            \"backgroundClick\": !0\n          });\n        });\n      }, 500), this.theme ? this.div.className = this.theme + \"_main\" : this.div.className = \"\", this.className && (this.div.className += \" \" + this.className), this.left ? this.div.style.left = this.left + \"px\" : this.div.style.marginLeft = \"-\" + Math.floor(this.width / 2) + \"px\", this.div.style.position = \"absolute\", this.div.style.boxSizing = \"content-box\", this.div.style.top = n + this.top + \"px\", this.div.style.width = this.width + \"px\", this.zIndex && (this.div.style.zIndex = this.zIndex), this.height && (this.useIframe || !this.autoStretch ? this.div.style.height = this.height + \"px\" : this.div.style.height = \"\"), this.useIframe && this.height && (this.iframe.style.height = this.height + \"px\"), this.div.style.display = \"\", this.Se(), Abhaas.ModalStatic.list.push(this);\n    }, this.Oe = function () {\n      t.iframe.contentWindow.modal = t, t.autoStretch && t.stretch();\n    }, this.stretch = function () {\n      var e = function () {\n        return t.Re().y;\n      },\n          i = function () {\n        return t.Re().x;\n      };\n\n      if (this.useIframe) {\n        for (var n = i() - 40, a = this.width; a < n && this.Te(); a += 10) this.div.style.width = a + \"px\", this.div.style.marginLeft = \"-\" + Math.floor(a / 2) + \"px\";\n\n        for (var o = this.maxHeight || e() - 2 * this.top, r = this.height; r < o && this.Ue(); r += 10) this.iframe.style.height = r + \"px\", this.div.style.height = r + \"px\";\n\n        this.autoStretchFirstLoadOnly && this.ue(this.iframe, \"load\", this.Oe);\n      } else this.div.style.height = \"\";\n    }, this.Te = function () {\n      for (var e = this.iframe.contentWindow.document, t = \"BackCompat\" === e.compatMode ? e.body : e.documentElement, i = t.scrollWidth, n = e.body.children, a = 0; a < n.length; a++) {\n        var o = n[a].offsetLeft + n[a].offsetWidth;\n        i = Math.max(i, o);\n      }\n\n      return i > t.clientWidth;\n    }, this.Ue = function () {\n      for (var e = this.iframe.contentWindow.document, t = \"BackCompat\" === e.compatMode ? e.body : e.documentElement, i = t.scrollHeight, n = e.body.children, a = 0; a < n.length; a++) {\n        var o = n[a].offsetTop + n[a].offsetHeight;\n        i = Math.max(i, o);\n      }\n\n      return i > t.clientHeight;\n    }, this.Re = function () {\n      var e = document;\n\n      if (\"CSS1Compat\" === e.compatMode && e.documentElement && e.documentElement.clientWidth) {\n        var t = e.documentElement.clientWidth,\n            i = e.documentElement.clientHeight;\n        return {\n          x: t,\n          y: i\n        };\n      }\n\n      var t = e.body.clientWidth,\n          i = e.body.clientHeight;\n      return {\n        x: t,\n        y: i\n      };\n    }, this.Le = function () {\n      this.He || (this.re(window, \"resize\", this.Ve), this.re(window, \"scroll\", this.We), this.dragDrop && (this.re(document, \"mousemove\", this.Xe), this.re(document, \"mouseup\", this.Ye)), this.He = !0);\n    }, this.Ze = function (e) {\n      e.target === t.div && (t.div.style.cursor = \"move\", t.$e(), t.Je = t.mc(e || window.event), t.Ie = {\n        x: t.div.offsetLeft,\n        y: t.div.offsetTop\n      });\n    }, this.Xe = function (e) {\n      if (t.Je) {\n        var e = e || window.event,\n            i = t.mc(e),\n            n = i.x - t.Je.x,\n            a = i.y - t.Je.y;\n        t.div.style.marginLeft = \"0px\", t.div.style.top = t.Ie.y + a + \"px\", t.div.style.left = t.Ie.x + n + \"px\";\n      }\n    }, this.Ye = function (e) {\n      t.Je && (t._e(), t.div.style.cursor = null, t.Je = null);\n    }, this.$e = function () {\n      if (this.useIframe) {\n        var e = document.createElement(\"div\");\n        e.style.backgroundColor = \"#ffffff\", e.style.filter = \"alpha(opacity=80)\", e.style.opacity = \"0.80\", e.style.width = \"100%\", e.style.height = this.height + \"px\", e.style.position = \"absolute\", e.style.left = \"0px\", e.style.top = \"0px\", this.div.appendChild(e), this.mask = e;\n      }\n    }, this._e = function () {\n      this.useIframe && (this.div.removeChild(this.mask), this.mask = null);\n    }, this.Ve = function () {\n      t.af(), t.Se();\n    }, this.We = function () {\n      t.af();\n    }, this.Se = function () {\n      if (!t.left && t.div) {\n        var e = t.div.offsetWidth;\n        t.div.style.marginLeft = \"-\" + Math.floor(e / 2) + \"px\";\n      }\n    }, this.af = function () {\n      if (t.hideDiv && t.div && \"none\" !== t.hideDiv.style.display && \"none\" !== t.div.style.display) {\n        var e = window.pageYOffset ? window.pageYOffset : document.documentElement && document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop;\n        t.scrollWithPage || (t.div.style.top = e + t.top + \"px\");\n      }\n    }, this.re = function (e, t, i) {\n      e.addEventListener ? e.addEventListener(t, i, !1) : e.attachEvent && e.attachEvent(\"on\" + t, i);\n    }, this.ue = function (e, t, i) {\n      e.removeEventListener ? e.removeEventListener(t, i, !1) : e.detachEvent && e.detachEvent(\"on\" + t, i);\n    }, this.mc = function (e) {\n      return e.pageX || e.pageY ? {\n        x: e.pageX,\n        y: e.pageY\n      } : {\n        x: e.clientX + document.documentElement.scrollLeft,\n        y: e.clientY + document.documentElement.scrollTop\n      };\n    }, this.abs = function (e) {\n      for (var t = {\n        x: e.offsetLeft,\n        y: e.offsetTop\n      }; e.offsetParent;) e = e.offsetParent, t.x += e.offsetLeft, t.y += e.offsetTop;\n\n      return t;\n    }, this.Ke = function () {\n      var e = document.createElement(\"div\");\n      e.id = this.id + \"hide\", e.style.position = \"fixed\", e.style.left = \"0px\", e.style.top = \"0px\", e.style.right = \"0px\", e.style.bottom = \"0px\", e.oncontextmenu = function () {\n        return !1;\n      }, e.onmousedown = function () {\n        return !1;\n      }, document.body.appendChild(e);\n      var t = document.createElement(\"div\");\n      t.id = this.id + \"popup\", t.style.position = \"fixed\", t.style.left = \"50%\", t.style.top = \"0px\", t.style.backgroundColor = \"white\", t.style.width = \"50px\", t.style.height = \"50px\", this.dragDrop && (t.onmousedown = this.Ze);\n      var i = null;\n      this.useIframe && (i = document.createElement(\"iframe\"), i.id = this.id + \"iframe\", i.name = this.id + \"iframe\", i.frameBorder = \"0\", i.style.width = \"100%\", i.style.height = \"50px\", t.appendChild(i)), document.body.appendChild(t), this.div = t, this.iframe = i, this.hideDiv = e;\n    }, this.setInnerHTML = function (e, i) {\n      var n = window.frames[e],\n          a = n.contentWindow || n.document || n.contentDocument;\n      a.document && (a = a.document), null == a.body && a.write(\"<body></body>\"), i.nodeType ? a.body.appendChild(i) : a.body.innerHTML = i, t.autoStretch && (t.autoStretchFirstLoadOnly && t.bf || (t.stretch(), t.bf = !0));\n    }, this.close = function (e) {\n      this.result = e, this.hide();\n    }, this.hide = function (e) {\n      e = e || {};\n      var i = {};\n      i.backgroundClick = !!e.backgroundClick, i.result = this.result, i.preventDefault = function () {\n        this.preventDefault.value = !0;\n      }, \"function\" == typeof this.onClose && (this.onClose(i), i.preventDefault.value) || (this.div && (this.div.style.display = \"none\", this.hideDiv.style.display = \"none\", this.useIframe || (this.div.innerHTML = null)), window.focus(), Abhaas.ModalStatic.remove(this), \"function\" == typeof this.onClosed ? this.onClosed(i) : this.closed && this.closed(), this.result = null, this.disposeOnClose && (t.cf(t.div), t.cf(t.hideDiv), t.div = null, t.hideDiv = null, t.iframe = null));\n    }, this.cf = function (e) {\n      e && e.parentNode && e.parentNode.removeChild(e);\n    }, this.df = function () {\n      if (e) for (var t in e) this[t] = e[t];\n    }, this.df();\n  }, Abhaas.Modal.alert = function (e, t) {\n    t = t || {}, t.height = t.height || 40, t.useIframe = !1;\n    var i = t.okText || \"OK\";\n    t.cancelText || \"Cancel\";\n    return Abhaas.getPromise(function (n, a) {\n      t.onClosed = function (e) {\n        n(e);\n      };\n\n      var o = new Abhaas.Modal(t),\n          r = document.createElement(\"div\");\n      r.className = o.theme + \"_inner\";\n      var l = document.createElement(\"div\");\n      l.className = o.theme + \"_content\", l.innerHTML = e;\n      var s = document.createElement(\"div\");\n      s.className = o.theme + \"_buttons\";\n      var d = document.createElement(\"button\");\n      d.innerText = i, d.className = o.theme + \"_ok\", d.onclick = function (e) {\n        Abhaas.ModalStatic.close(\"OK\");\n      }, s.appendChild(d), r.appendChild(l), r.appendChild(s), o.showHtml(r), d.focus();\n    });\n  }, Abhaas.Modal.confirm = function (e, t) {\n    t = t || {}, t.height = t.height || 40, t.useIframe = !1;\n    var i = t.okText || \"asaasas\",\n        n = t.cancelText || \"Cancel\";\n    return Abhaas.getPromise(function (a, o) {\n      t.onClosed = function (e) {\n        a(e);\n      };\n\n      var r = new Abhaas.Modal(t),\n          l = document.createElement(\"div\");\n      l.className = r.theme + \"_inner\";\n      var s = document.createElement(\"div\");\n      s.className = r.theme + \"_content\", s.innerHTML = e;\n      var d = document.createElement(\"div\");\n      d.className = r.theme + \"_buttons\";\n      var c = document.createElement(\"button\");\n      c.innerText = i, c.className = r.theme + \"_ok\", c.onclick = function (e) {\n        Abhaas.ModalStatic.close(\"OK\");\n      };\n      var h = document.createTextNode(\" \"),\n          u = document.createElement(\"button\");\n      u.innerText = n, u.className = r.theme + \"_cancel\", u.onclick = function (e) {\n        Abhaas.ModalStatic.close();\n      }, d.appendChild(c), d.appendChild(h), d.appendChild(u), l.appendChild(s), l.appendChild(d), r.showHtml(l), c.focus();\n    });\n  }, Abhaas.Modal.prompt = function (e, t, i) {\n    \"object\" == typeof t && (i = t), i = i || {}, i.height = i.height || 40, i.useIframe = !1;\n    var n = \"Book Time Slot\",\n        a = i.cancelText || \"Cancel\",\n        o = t || \"\";\n    return Abhaas.getPromise(function (t, r) {\n      i.onClosed = function (e) {\n        t(e);\n      };\n\n      var l = new Abhaas.Modal(i),\n          s = document.createElement(\"div\");\n      s.className = l.theme + \"_inner\";\n      var d = document.createElement(\"div\");\n      d.className = l.theme + \"_content\", d.innerHTML = e;\n      var c = document.createElement(\"div\");\n      c.className = l.theme + \"_input\";\n      var h = document.createElement(\"input\");\n      h.value = o, h.style.width = \"100%\", h.onkeydown = function (e) {\n        var t = !1;\n\n        switch (e.keyCode) {\n          case 13:\n            l.close(this.value);\n            break;\n\n          case 27:\n            l.close();\n            break;\n\n          default:\n            t = !0;\n        }\n\n        t || (e.preventDefault(), e.stopPropagation());\n      }, c.appendChild(h);\n      var u = document.createElement(\"div\");\n      u.className = l.theme + \"_buttons\";\n      var f = document.createElement(\"button\");\n      f.innerText = n, f.className = l.theme + \"_ok\", f.onclick = function (e) {\n        l.close(h.value);\n      };\n      var v = document.createTextNode(\" \"),\n          p = document.createElement(\"button\");\n      p.innerText = a, p.className = l.theme + \"_cancel\", p.onclick = function (e) {\n        l.close();\n      }, u.appendChild(f), u.appendChild(v), u.appendChild(p), s.appendChild(d), s.appendChild(c), s.appendChild(u), l.showHtml(s), h.focus();\n    });\n  }, Abhaas.Modal.close = function (e) {\n    var t = Abhaas.Modal.opener();\n    if (!t) throw \"Unable to find the opener Abhaas.Modal instance.\";\n    t.close(e);\n  }, Abhaas.Modal.stretch = function (e) {\n    var t = Abhaas.Modal.opener();\n    if (!t) throw \"Unable to find the opener Abhaas.Modal instance.\";\n    t.stretch();\n  }, Abhaas.Modal.closeSerialized = function () {\n    for (var e = Abhaas.Modal.opener() || Abhaas.ModalStatic.last(), t = e.Qe(), i = t.querySelectorAll(\"input, textarea, select\"), n = {}, a = 0; a < i.length; a++) {\n      var o = i[a],\n          r = o.name;\n\n      if (r) {\n        var l = o.value;\n        n[r] = l;\n      }\n    }\n\n    Abhaas.Modal.close(n);\n  }, Abhaas.Modal.opener = function () {\n    return window.Abhaas && window.Abhaas.ModalStatic && window.Abhaas.ModalStatic.list.length > 0 ? window.Abhaas.ModalStatic.list[window.Abhaas.ModalStatic.list.length - 1] : parent && parent.Abhaas && parent.Abhaas.ModalStatic && parent.Abhaas.ModalStatic.list[parent.Abhaas.ModalStatic.list.length - 1];\n  }, \"undefined\" == typeof Abhaas.getPromise && (Abhaas.getPromise = function (e) {\n    return \"undefined\" != typeof Promise ? new Promise(e) : (Abhaas.Promise = function (e) {\n      var t = this;\n      this.then = function (t, i) {\n        return t = t || function () {}, i = i || function () {}, e(t, i), Abhaas.getPromise(e);\n      }, this[\"catch\"] = function (i) {\n        return t.then(null, i), Abhaas.getPromise(e);\n      };\n    }, new Abhaas.Promise(e));\n  });\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  var e = function () {};\n\n  if (\"undefined\" == typeof Abhaas.Month) {\n    var t = {};\n    Abhaas.Month = function (i, n) {\n      this.v = \"2019.3.4000\", this.nav = {};\n      var a = this;\n      this.id = i, this.isMonth = !0, this.api = 2, this.I = !1, this.hideUntilInit = !0, this.startDate = new Abhaas.Date(), this.width = null, \"function\" == typeof Abhaas.Bubble ? this.bubble = new Abhaas.Bubble() : this.bubble = null, this.cssClassPrefix = \"month_default\", this.cellHeight = 100, this.cellMarginBottom = 0, this.allowMultiSelect = !0, this.autoRefreshCommand = \"refresh\", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.doubleClickTimeout = 300, this.eventEndSpec = \"DateTime\", this.headerHeight = 20, this.heightSpec = \"Auto\", this.weekStarts = \"Auto\", this.eventHeight = 25, this.cellHeaderHeight = 16, this.clientState = {}, this.afterRender = function () {}, this.cssOnly = !0, this.eventsLoadMethod = \"GET\", this.initEventEnabled = !1, this.lineSpace = 1, this.loadingLabelVisible = !0, this.loadingLabelText = \"Loading...\", this.locale = \"en-us\", this.messageHideAfter = 5e3, this.notifyCommit = \"Immediate\", this.visible = !0, this.eventMoveToPosition = !1, this.eventStartTime = !1, this.eventEndTime = !1, this.eventStartEndWidth = 60, this.showWeekend = !0, this.cellMode = !1, this.shadowType = \"Fill\", this.tapAndHoldTimeout = 300, this.timeFormat = \"Auto\", this.viewType = \"Month\", this.weeks = 1, this.eventClickHandling = \"Enabled\", this.eventDeleteHandling = \"Disabled\", this.eventDoubleClickHandling = \"Enabled\", this.eventMoveHandling = \"Update\", this.eventResizeHandling = \"Update\", this.eventRightClickHandling = \"ContextMenu\", this.eventSelectHandling = \"Update\", this.headerClickHandling = \"Enabled\", this.timeRangeSelectedHandling = \"Enabled\", this.timeRangeDoubleClickHandling = \"Enabled\", this.onEventFilter = null, this.onBeforeEventRender = null, this.onBeforeCellRender = null, this.onBeforeHeaderRender = null, this.onDomAddEvent = null, this.onDomRemoveEvent = null, this.onBeforeEventExport = null, this.onBeforeCellExport = null, this.onBeforeHeaderExport = null, this.backendUrl = null, this.cellEvents = [], this.elements = {}, this.elements.events = [], this.G = {}, this.G.events = {}, this.events = {}, this.H = 0, this.members = {}, this.members.ignore = [\"internal\", \"nav\", \"debug\", \"temp\", \"elements\", \"members\", \"cellProperties\"], this.J = \"javasc\", this.S = function (e, t) {\n        var e = JSON.parse(e);\n\n        if (e.BubbleGuid) {\n          var i = e.BubbleGuid,\n              n = this.bubbles[i];\n          return delete this.bubbles[i], a.fa(), void (\"undefined\" != typeof e.Result.BubbleHTML && n.updateView(e.Result.BubbleHTML, n));\n        }\n\n        if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);\n        if (\"undefined\" != typeof e.ClientState && (a.clientState = e.ClientState), \"None\" === e.UpdateType) return a.ga(e.CallBackData, !0), e.Message && a.message(e.Message), void a.fa();\n\n        if (e.VsUpdate) {\n          var o = document.createElement(\"input\");\n          o.type = \"hidden\", o.name = a.id + \"_vsupdate\", o.id = o.name, o.value = e.VsUpdate, a.ef.innerHTML = \"\", a.ef.appendChild(o);\n        }\n\n        a.events.list = e.Events, \"undefined\" != typeof e.TagFields && (a.tagFields = e.TagFields), \"undefined\" != typeof e.SortDirections && (a.sortDirections = e.SortDirections), \"Full\" === e.UpdateType && (a.cellProperties = e.CellProperties, a.headerProperties = e.HeaderProperties, a.startDate = e.StartDate, \"undefined\" != typeof e.ShowWeekend && (a.showWeekend = e.ShowWeekend), a.locale = e.Locale ? e.Locale : a.locale, a.timeFormat = e.TimeFormat ? e.TimeFormat : a.timeFormat, \"undefined\" != typeof e.WeekStarts && (a.weekStarts = e.WeekStarts), a.hashes = e.Hashes), a.multiselect.clear(!0), a.multiselect.initList = e.SelectedEvents, a.V(), a.gf(), a.la(), \"Full\" === e.UpdateType && (a.hf(), a.if()), a.ta(), a.ya(), a.za(), a.ga(e.CallBackData, !0), a.Ca(), e.Message && a.message(e.Message), a.fa();\n      }, this.ga = function (e, t) {\n        var i = function (e, t) {\n          return function () {\n            if (a.Da()) {\n              if (\"function\" == typeof a.onAfterRender) {\n                var i = {};\n                i.isCallBack = t, i.data = e, a.onAfterRender(i);\n              }\n            } else a.afterRender && a.afterRender(e, t);\n          };\n        };\n\n        window.setTimeout(i(e, t), 0);\n      }, this.Da = function () {\n        return 2 === a.api;\n      }, this.t = function (e) {\n        var t = this.theme || this.cssClassPrefix;\n        return t ? t + e : \"\";\n      }, this.la = function () {\n        if (this.events.list) {\n          if (\"function\" == typeof this.onBeforeEventRender) for (var e = this.events.list.length, t = 0; t < e; t++) this.yd(t);\n          this.cellMode ? this.jf() : this.kf();\n        }\n      }, this.P = function (e) {\n        var t = e ? 0 : 100;\n        a.loadingTimeout && window.clearTimeout(a.loadingTimeout), a.loadingTimeout = window.setTimeout(function () {\n          a.loadingLabelVisible && a.nav.loading && (a.nav.loading.style.top = l.headerHeight() + 5 + \"px\", a.nav.loading.innerHTML = a.loadingLabelText, a.nav.loading.style.display = \"\");\n        }, t);\n      }, this.fa = function () {\n        this.loadingTimeout && window.clearTimeout(this.loadingTimeout), a.nav.loading && (this.nav.loading.style.display = \"none\");\n      }, this.kf = function () {\n        if (this.events.list) {\n          for (var e = 0; e < this.events.list.length; e++) {\n            var t = this.events.list[e];\n            if (\"object\" != typeof t) throw new Abhaas.Exception(\"Event data item must be an object\");\n            if (!t.start) throw new Abhaas.Exception(\"Event data item must specify 'start' property\");\n            var i = null;\n\n            if (\"function\" == typeof a.onBeforeEventRender && (i = a.G.events[e]), i) {\n              if (i.hidden) continue;\n            } else if (t.hidden) continue;\n\n            var n = new Abhaas.Date(t.start),\n                o = new Abhaas.Date(t.end);\n            if (o = a.lf(o), !(n.getTime() > o.getTime())) for (var r = 0; r < this.rows.length; r++) {\n              var l = this.rows[r];\n\n              if (l.belongsHere(n, o)) {\n                var s = new Abhaas.Event(t, a);\n\n                if (\"function\" == typeof a.onEventFilter && a.events.Ed) {\n                  var d = {};\n                  if (d.filter = a.events.Ed, d.visible = !0, d.e = s, a.onEventFilter(d), !d.visible) break;\n                }\n\n                l.events.push(s), \"function\" == typeof this.onBeforeEventRender && (s.cache = this.G.events[e]);\n              }\n            }\n          }\n\n          for (var c = 0; c < this.rows.length; c++) {\n            var l = this.rows[c];\n            l.events.sort(this.Gd);\n\n            for (var h = 0; h < this.rows[c].events.length; h++) {\n              var u = l.events[h],\n                  f = l.getStartColumn(u),\n                  v = l.getWidth(u);\n              l.putIntoLine(u, f, v, c);\n            }\n          }\n        }\n      }, this.jf = function () {\n        this.cellEvents = [];\n\n        for (var e = 0; e < this.mf(); e++) {\n          this.cellEvents[e] = [];\n\n          for (var t = 0; t < this.rows.length; t++) {\n            var i = {},\n                n = this.firstDate.addDays(7 * t + e);\n            i.start = n, i.end = n.addDays(1), i.events = [], this.cellEvents[e][t] = i;\n          }\n        }\n\n        for (var o = 0; o < this.events.list.length; o++) {\n          var r = this.events.list[o];\n          if (\"object\" != typeof r) throw new Abhaas.Exception(\"Event data item must be an object\");\n          if (!r.start) throw new Abhaas.Exception(\"Event data item must specify 'start' property\");\n          var l = null;\n\n          if (\"function\" == typeof a.onBeforeEventRender && (l = a.G.events[o]), l) {\n            if (l.hidden) continue;\n          } else if (r.hidden) continue;\n\n          var s = new Abhaas.Date(r.start),\n              d = new Abhaas.Date(r.start);\n          if (d = a.lf(d), !(s.getTime() > d.getTime())) for (var e = 0; e < this.mf(); e++) for (var t = 0; t < this.rows.length; t++) {\n            var i = this.cellEvents[e][t];\n\n            if (s.getTime() >= i.start.getTime() && s.getTime() < i.end.getTime()) {\n              var c = new Abhaas.Event(r, a);\n\n              if (\"function\" == typeof a.onEventFilter && a.events.Ed) {\n                var h = {};\n                if (h.filter = a.events.Ed, h.visible = !0, h.e = c, a.onEventFilter(h), !h.visible) continue;\n              }\n\n              i.events.push(c), \"function\" == typeof this.onBeforeEventRender && (c.cache = this.G.events[o]);\n            }\n          }\n        }\n\n        for (var e = 0; e < this.mf(); e++) for (var t = 0; t < this.rows.length; t++) {\n          var i = this.cellEvents[e][t];\n          i.events.sort(this.Gd);\n        }\n      }, this.V = function () {\n        for (var e = 0; e < this.elements.events.length; e++) {\n          var t = this.elements.events[e];\n\n          if (\"function\" == typeof a.onDomRemoveEvent) {\n            var i = t.domArgs;\n            t.domArgs = null, a.onDomRemoveEvent(i);\n          }\n\n          t.event = null, t.click = null, t.parentNode.removeChild(t);\n        }\n\n        this.elements.events = [];\n      }, this.za = function () {\n        this.G.events = {}, this.cellMode ? this.nf() : this.of(), this.multiselect.redraw();\n      }, this.nf = function () {\n        this.elements.events = [];\n\n        for (var e = 0; e < this.mf(); e++) for (var t = 0; t < this.rows.length; t++) for (var i = this.cellEvents[e][t], n = (this.cells[e][t], 0); n < i.events.length; n++) {\n          var a = i.events[n];\n          a.part.colStart = e, a.part.colWidth = 1, a.part.row = t, a.part.line = n, a.part.startsHere = !0, a.part.endsHere = !0, this.hc(a);\n        }\n      }, this.of = function () {\n        this.elements.events = [];\n\n        for (var e = 0; e < this.rows.length; e++) for (var t = this.rows[e], i = 0; i < t.lines.length; i++) for (var n = t.lines[i], a = 0; a < n.length; a++) this.hc(n[a]);\n      }, this.Fd = function (e, t) {\n        if (!(e && t && e.start && t.start)) return 0;\n        var i = e.start().ticks - t.start().ticks;\n        return 0 !== i ? i : t.end().ticks - e.end().ticks;\n      }, this.Gd = function (e, t) {\n        if (!e || !t) return 0;\n        if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return a.Fd(e, t);\n\n        for (var i = 0, n = 0; 0 === i && \"undefined\" != typeof e.data.sort[n] && \"undefined\" != typeof t.data.sort[n];) i = e.data.sort[n] === t.data.sort[n] ? 0 : \"number\" == typeof e.data.sort[n] && \"number\" == typeof t.data.sort[n] ? e.data.sort[n] - t.data.sort[n] : a.Hd(e.data.sort[n], t.data.sort[n], a.sortDirections[n]), n++;\n\n        return i;\n      }, this.Hd = function (e, t, i) {\n        var n = \"desc\" !== i,\n            a = n ? -1 : 1,\n            o = -a;\n        if (null === e && null === t) return 0;\n        if (null === t) return o;\n        if (null === e) return a;\n        var r = [];\n        return r[0] = e, r[1] = t, r.sort(), e === r[0] ? a : o;\n      }, this.pf = function (e, i, n, a, o, r) {\n        o || (o = 0);\n        var l = a;\n        this.shadow = {}, this.shadow.list = [], this.shadow.start = {\n          x: e,\n          y: i\n        }, this.shadow.width = a, this.eventMoveToPosition && (l = 1, this.shadow.position = n);\n        var s = 7 * i + e - o;\n        s < 0 && (l += s, e = 0, i = 0);\n\n        for (var d = o; d >= 7;) i--, d -= 7;\n\n        if (d > e) {\n          d > e + (7 - this.mf()) ? (i--, e = e + 7 - d) : (l = l - d + e, e = 0);\n        } else e -= d;\n\n        i < 0 && (i = 0, e = 0);\n        var c = null;\n\n        for (t.resizingEvent ? c = \"w-resize\" : t.movingEvent && (c = \"move\"), this.nav.top.style.cursor = c; l > 0 && i < this.rows.length;) {\n          var h = Math.min(this.mf() - e, l),\n              u = this.rows[i],\n              f = this.qf(i),\n              v = u.getHeight();\n          this.eventMoveToPosition && (f = this.rf(i, n), v = 2);\n          var p = document.createElement(\"div\");\n          p.setAttribute(\"unselectable\", \"on\"), p.style.position = \"absolute\", p.style.left = this.sf() * e + \"%\", p.style.width = this.sf() * h + \"%\", p.style.top = f + \"px\", p.style.height = v + \"px\", p.style.cursor = c;\n          var g = document.createElement(\"div\");\n          g.setAttribute(\"unselectable\", \"on\"), p.appendChild(g), p.className = this.t(\"_shadow\"), g.className = this.t(\"_shadow_inner\");\n          this.nav.events.appendChild(p), this.shadow.list.push(p), l -= h + 7 - this.mf(), e = 0, i++;\n        }\n      }, this.tf = function () {\n        if (this.shadow) {\n          this.nav.events;\n          Abhaas.de(this.shadow.list), this.shadow = null, this.nav.top.style.cursor = \"\";\n        }\n      }, this.rf = function (e, t) {\n        for (var i = 0, n = 0; n < e; n++) i += this.rows[n].getHeight();\n\n        return i += this.cellHeaderHeight, i += t * l.lineHeight();\n      }, this.uf = function (e, t) {\n        return this.firstDate.addDays(7 * t + e);\n      }, this.yd = function (e) {\n        var t = this.G.events,\n            i = this.events.list[e],\n            n = {};\n\n        for (var a in i) n[a] = i[a];\n\n        if (\"function\" == typeof this.onBeforeEventRender) {\n          var o = {};\n          o.e = n, o.data = n, this.onBeforeEventRender(o);\n        }\n\n        t[e] = n;\n      }, this.hc = function (e) {\n        var t = this.cellMode,\n            i = e.part.row,\n            n = e.part.line,\n            r = e.part.colStart,\n            s = e.part.colWidth,\n            d = e.cache || e.data,\n            c = t ? 0 : this.sf() * r,\n            h = t ? 100 : this.sf() * s,\n            u = t ? n * l.lineHeight() : this.rf(i, n),\n            f = document.createElement(\"div\");\n        f.setAttribute(\"unselectable\", \"on\"), f.style.height = l.eventHeight() + \"px\", f.style.position = \"relative\", f.style.overflow = \"hidden\", f.className = this.t(\"_event\"), d.cssClass && Abhaas.Util.addClass(f, d.cssClass), f.event = e, t ? (f.style.marginRight = \"2px\", f.style.marginBottom = \"2px\") : (f.style.width = h + \"%\", f.style.position = \"absolute\", f.style.left = c + \"%\", f.style.top = u + \"px\"), this.showToolTip && d.toolTip && !this.bubble && (f.title = d.toolTip), f.onclick = this.vf, f.ondblclick = this.wf, f.oncontextmenu = this.xf, f.onmousedown = this.kc, f.onmousemove = this.ic, f.onmouseout = this.jc, f.ontouchstart = o.onEventTouchStart, f.ontouchmove = o.onEventTouchMove, f.ontouchend = o.onEventTouchEnd, e.part.startsHere || Abhaas.Util.addClass(f, this.t(\"_event_continueleft\")), e.part.endsHere || Abhaas.Util.addClass(f, this.t(\"_event_continueright\"));\n        var v = document.createElement(\"div\");\n        v.setAttribute(\"unselectable\", \"on\"), v.className = this.t(\"_event_inner\"), d.fontColor && (v.style.color = d.fontColor), d.borderColor && (v.style.borderColor = d.borderColor), d.backColor && (v.style.background = d.backColor, (Abhaas.browser.ie9 || Abhaas.browser.ielt9) && (v.style.filter = \"\")), f.appendChild(v);\n        var p = this.Nc.locale(),\n            g = a.eventStartEndWidth;\n\n        if (this.eventStartTime || d.htmlStart) {\n          var m = \"Clock12Hours\" === a.Nc.timeFormat() ? e.start().toString(\"h tt\", p) : e.start().toString(\"H\", p),\n              y = {\n            \"left\": 5,\n            \"top\": 3,\n            \"width\": g,\n            \"bottom\": 2,\n            \"v\": \"Visible\",\n            \"html\": d.htmlStart || m,\n            \"css\": a.t(\"_event_timeleft\")\n          },\n              b = Abhaas.Areas.createArea(f, e, y);\n          f.appendChild(b), v.style.paddingLeft = g + \"px\";\n        }\n\n        if (this.eventEndTime || d.htmlEnd) {\n          var m = \"Clock12Hours\" === a.Nc.timeFormat() ? e.end().toString(\"h tt\", p) : e.end().toString(\"H\", p),\n              y = {\n            \"right\": 5,\n            \"top\": 3,\n            \"width\": g,\n            \"bottom\": 2,\n            \"v\": \"Visible\",\n            \"html\": d.htmlEnd || m,\n            \"css\": a.t(\"_event_timeright\")\n          },\n              b = Abhaas.Areas.createArea(f, e, y);\n          f.appendChild(b), v.style.paddingRight = g + \"px\";\n        }\n\n        if (d.areas) for (var w = d.areas, D = 0; D < w.length; D++) {\n          var y = w[D],\n              k = y.visibility || y.v || \"Visible\";\n\n          if (\"Visible\" === k) {\n            var b = Abhaas.Areas.createArea(f, e, y);\n            f.appendChild(b);\n          }\n        }\n        !function () {\n          var t = {};\n          t.e = e, t.element = null, f.domArgs = t, \"function\" == typeof a.onDomAddEvent && a.onDomAddEvent(t), t.element ? v.appendChild(t.element) : v.innerHTML = e.client.innerHTML();\n        }(), this.elements.events.push(f), t ? this.cells[r][i].body.appendChild(f) : this.nav.events.appendChild(f), a.multiselect.Pb(f.event) && a.multiselect.add(f.event, !0);\n        var f = f;\n\n        if (a.Da()) {\n          if (\"function\" == typeof a.onAfterEventRender) {\n            var P = {};\n            P.e = f.event, P.div = f, a.onAfterEventRender(P);\n          }\n        } else a.afterEventRender && a.afterEventRender(f.event, f);\n      }, this.vf = function (e) {\n        o.start || a.Qa(this, e);\n      }, this.wf = function (e) {\n        a.Ua(this, e);\n      }, this.ic = function (e) {\n        var i = this,\n            n = i.event;\n\n        if (\"undefined\" != typeof t && !t.movingEvent && !t.resizingEvent) {\n          var o = Abhaas.mo3(i, e);\n\n          if (o) {\n            !function () {\n              var e = i;\n\n              if (!e.active) {\n                var t = [],\n                    o = n.cache || n.data;\n                \"Disabled\" === a.eventDeleteHandling || o.deleteDisabled || t.push({\n                  \"action\": \"JavaScript\",\n                  \"v\": \"Hover\",\n                  \"w\": 17,\n                  \"h\": 17,\n                  \"top\": 2,\n                  \"right\": 2,\n                  \"css\": a.t(\"_event_delete\"),\n                  \"js\": function (e) {\n                    a.Za(e);\n                  }\n                });\n                var r = e.event.cache ? e.event.cache.areas : e.event.data.areas;\n                r && r.length > 0 && (t = t.concat(r)), Abhaas.Areas.showAreas(e, e.event, null, t);\n              }\n            }(), a.yf(i.event).each(function (e) {\n              Abhaas.Util.addClass(e, a.t(\"_event_hover\"));\n            });\n            var r = 6;\n            if (!a.cellMode && o.x <= r && n.client.resizeEnabled() ? n.part.startsHere ? (i.style.cursor = \"w-resize\", i.dpBorder = \"left\") : i.style.cursor = \"not-allowed\" : !a.cellMode && i.clientWidth - o.x <= r && n.client.resizeEnabled() ? n.part.endsHere ? (i.style.cursor = \"e-resize\", i.dpBorder = \"right\") : i.style.cursor = \"not-allowed\" : n.client.clickEnabled() ? i.style.cursor = \"pointer\" : i.style.cursor = \"default\", \"undefined\" != typeof Abhaas.Bubble && a.bubble && \"Disabled\" !== a.eventHoverHandling) if (t.movingEvent || t.resizingEvent) Abhaas.Bubble.hideActive();else {\n              var l = this.zd && o.x === this.zd.x && o.y === this.zd.y;\n              l || (this.zd = o, a.bubble.showEvent(i.event));\n            }\n          }\n        }\n      }, this.jc = function (e) {\n        var t = this;\n        \"undefined\" != typeof Abhaas.Bubble && a.bubble && a.bubble.hideOnMouseOut(), t.style.cursor = \"\", a.yf(t.event).each(function (e) {\n          Abhaas.Util.removeClass(e, a.t(\"_event_hover\"));\n        }), Abhaas.Areas.hideAreas(t, e);\n      }, this.xf = function () {\n        var e = this;\n        return a.Va(e.event), !1;\n      }, this.kc = function (e) {\n        if (!o.start) {\n          \"undefined\" != typeof Abhaas.Bubble && (Abhaas.Bubble.hideActive(), Abhaas.Bubble.cancelShowing());\n          var i = this,\n              n = i.event,\n              r = n.part.row,\n              l = n.part.colStart,\n              s = n.part.line,\n              d = n.part.colWidth;\n          e = e || window.event;\n          var c = Abhaas.Util.mouseButton(e);\n          if (e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), c.left) if (\"undefined\" != typeof Abhaas.Bubble && a.bubble && Abhaas.Bubble.hideActive(), t.movingEvent = null, \"w-resize\" === this.style.cursor || \"e-resize\" === this.style.cursor) {\n            var h = {};\n            h.start = {}, h.start.x = l, h.start.y = r, h.event = i.event, h.width = Abhaas.DateUtil.daysSpan(h.event.start(), h.event.end()) + 1, h.direction = this.style.cursor, t.resizingEvent = h;\n          } else if (\"move\" === this.style.cursor || n.client.moveEnabled()) {\n            a.tf();\n            var u = Abhaas.mo3(a.nav.events, e);\n            if (!u) return;\n            var f = a.zf(u.x, u.y);\n            if (!f) return;\n            var v = Abhaas.DateUtil.daysDiff(n.start(), a.rows[r].start),\n                p = 7 * f.y + f.x - (7 * r + l);\n            v && (p += v);\n            var g = {};\n            g.start = {}, g.start.x = l, g.start.y = r, g.start.line = s, g.offset = a.eventMoveToPosition ? 0 : p, g.colWidth = d, g.event = i.event, g.coords = u, t.movingEvent = g;\n          }\n        }\n      }, this.temp = {}, this.temp.getPosition = function () {\n        if (!a.coords) return null;\n        var e = a.zf(a.coords.x, a.coords.y);\n        if (!e) return null;\n        var t = new Abhaas.Date(a.uf(e.x, e.y)),\n            e = {};\n        return e.start = t, e.end = t.addDays(1), e;\n      }, this.lc = {};\n      var o = a.lc;\n      o.active = !1, o.start = !1, o.timeouts = [], o.onEventTouchStart = function (e) {\n        if (!o.active && !o.start) {\n          o.clearTimeouts(), o.start = !0, o.active = !1;\n          var t = this;\n\n          if (t.event.client.moveEnabled()) {\n            var i = a.tapAndHoldTimeout;\n            o.timeouts.push(window.setTimeout(function () {\n              o.active = !0, o.start = !1;\n              var i = o.relativeCoords(e);\n              o.startMoving(t, i), e.preventDefault();\n            }, i));\n          }\n\n          e.stopPropagation();\n        }\n      }, o.onEventTouchMove = function (e) {\n        o.clearTimeouts(), o.start = !1;\n      }, o.onEventTouchEnd = function (e) {\n        o.clearTimeouts(), o.start && a.Ra(this, e), window.setTimeout(function () {\n          o.start = !1, o.active = !1;\n        }, 500);\n      }, o.onMainTouchStart = function (e) {\n        if (!o.active && !o.start) {\n          o.clearTimeouts(), o.start = !0, o.active = !1;\n          var t = a.tapAndHoldTimeout;\n          o.timeouts.push(window.setTimeout(function () {\n            o.active = !0, o.start = !1, e.preventDefault();\n            var t = o.relativeCoords(e);\n            o.startRange(t);\n          }, t));\n        }\n      }, o.onMainTouchMove = function (e) {\n        if (o.clearTimeouts(), o.start = !1, o.active) {\n          e.preventDefault();\n          var t = o.relativeCoords(e);\n          if (o.moving) return void o.updateMoving(t);\n          o.range && o.updateRange(t);\n        }\n      }, o.onMainTouchEnd = function (e) {\n        if (o.clearTimeouts(), o.active) {\n          if (o.moving) {\n            var t = (o.moving, o.moving.event),\n                i = a.shadow.start,\n                n = a.shadow.position,\n                r = o.moving.offset;\n            a.tf(), o.moving = null, a.fb(t, i.x, i.y, r, e, n);\n          }\n\n          if (o.range) {\n            var l = o.range,\n                i = new Abhaas.Date(a.uf(l.from.x, l.from.y)),\n                s = i.addDays(l.width);\n            o.range = null, a.mb(i, s);\n          }\n        }\n\n        window.setTimeout(function () {\n          o.start = !1, o.active = !1;\n        }, 500);\n      }, o.clearTimeouts = function () {\n        for (var e = 0; e < o.timeouts.length; e++) clearTimeout(o.timeouts[e]);\n\n        o.timeouts = [];\n      }, o.relativeCoords = function (e) {\n        var t = a.nav.events,\n            i = e.touches[0].pageX,\n            n = e.touches[0].pageY,\n            o = Abhaas.abs(t);\n        return {\n          x: i - o.x,\n          y: n - o.y,\n          toString: function () {\n            return \"x: \" + this.x + \", y:\" + this.y;\n          }\n        };\n      }, o.startMoving = function (e, t) {\n        a.tf();\n        var i = e.event,\n            n = a.zf(t.x, t.y);\n\n        if (n) {\n          var r = Abhaas.DateUtil.daysDiff(i.start(), a.rows[i.part.row].start),\n              l = 7 * n.y + n.x - (7 * i.part.row + i.part.colStart);\n          r && (l += r);\n          var s = {};\n          s.start = {}, s.start.x = i.part.colStart, s.start.y = i.part.row, s.start.line = i.part.line, s.offset = a.eventMoveToPosition ? 0 : l, s.colWidth = i.part.colWidth, s.event = i, s.coords = t, o.moving = s, o.updateMoving(t);\n        }\n      }, o.updateMoving = function (e) {\n        var t = a.zf(e.x, e.y);\n\n        if (t) {\n          var i = a.Af(t);\n          a.tf();\n          var n = o.moving.event,\n              r = o.moving.offset,\n              l = a.cellMode ? 1 : Abhaas.DateUtil.daysSpan(n.start(), n.end()) + 1;\n          l < 1 && (l = 1), a.pf(t.x, t.y, i, l, r, n);\n        }\n      }, o.startRange = function (e) {\n        var t = a.zf(e.x, e.y);\n\n        if (t) {\n          a.tf();\n          var i = {};\n          i.start = {}, i.start.x = t.x, i.start.y = t.y, i.x = t.x, i.y = t.y, i.width = 1, o.range = i, o.updateRange(e);\n        }\n      }, o.updateRange = function (e) {\n        var t = a.zf(e.x, e.y);\n\n        if (t) {\n          a.tf();\n          var i = o.range.start,\n              n = 7 * i.y + i.x,\n              r = 7 * t.y + t.x,\n              l = Math.abs(r - n) + 1;\n          l < 1 && (l = 1);\n          var s = n < r ? i : t;\n          o.range.width = l, o.range.from = {\n            x: s.x,\n            y: s.y\n          }, a.pf(s.x, s.y, 0, l, 0, null);\n        }\n      }, this.isWeekend = function (e) {\n        return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();\n      }, this.Bf = function () {\n        var e = this.startDate.lastDayOfMonth();\n        if (this.showWeekend) return e;\n\n        for (; this.isWeekend(e);) e = e.addDays(-1);\n\n        return e;\n      }, this.gf = function () {\n        if (\"string\" == typeof this.startDate && (this.startDate = new Abhaas.Date(this.startDate)), \"Month\" === this.viewType ? this.startDate = this.startDate.firstDayOfMonth() : this.startDate = this.startDate.getDatePart(), this.firstDate = this.startDate.firstDayOfWeek(l.weekStarts()), !this.showWeekend) {\n          for (var e = this.startDate.addMonths(-1).getMonth(), t = new Abhaas.Date(this.firstDate).addDays(6); this.isWeekend(t);) t = t.addDays(-1);\n\n          t.getMonth() === e && (this.firstDate = this.firstDate.addDays(7));\n        }\n\n        var i;\n        this.startDate;\n\n        if (\"Month\" === this.viewType) {\n          var n = this.Bf(),\n              o = Abhaas.DateUtil.daysDiff(this.firstDate, n) + 1;\n          i = Math.ceil(o / 7);\n        } else i = this.weeks;\n\n        this.days = 7 * i, this.rows = [];\n\n        for (var r = 0; r < i; r++) {\n          var s = {};\n          s.start = this.firstDate.addDays(7 * r), s.end = s.start.addDays(this.mf()), s.events = [], s.lines = [], s.index = r, s.minHeight = this.cellHeight, s.calendar = this, s.belongsHere = function (e, t) {\n            return t.getTime() === e.getTime() && e.getTime() === this.start.getTime() || !(t.getTime() <= this.start.getTime() || e.getTime() >= this.end.getTime());\n          }, s.getPartStart = function (e) {\n            return Abhaas.DateUtil.max(this.start, e.start());\n          }, s.getPartEnd = function (e) {\n            return Abhaas.DateUtil.min(this.end, e.rawend());\n          }, s.getStartColumn = function (e) {\n            var t = this.getPartStart(e);\n            return Abhaas.DateUtil.daysDiff(this.start, t);\n          }, s.getWidth = function (e) {\n            return Abhaas.DateUtil.daysSpan(this.getPartStart(e), this.getPartEnd(e)) + 1;\n          }, s.putIntoLine = function (e, t, i, n) {\n            for (var a = this, o = 0; o < this.lines.length; o++) {\n              var r = this.lines[o];\n              if (r.isFree(t, i)) return r.addEvent(e, t, i, n, o), o;\n            }\n\n            var r = [];\n            return r.isFree = function (e, t) {\n              for (var i = !0, n = 0; n < this.length; n++) {\n                var a = this[n];\n                e + t - 1 < a.part.colStart || e > a.part.colStart + a.part.colWidth - 1 || (i = !1);\n              }\n\n              return i;\n            }, r.addEvent = function (e, t, i, n, o) {\n              e.part.colStart = t, e.part.colWidth = i, e.part.row = n, e.part.line = o, e.part.startsHere = a.start.getTime() <= e.start().getTime(), e.part.endsHere = a.end.getTime() >= e.end().getTime(), this.push(e);\n            }, r.addEvent(e, t, i, n, this.lines.length), this.lines.push(r), this.lines.length - 1;\n          }, s.getStart = function () {\n            for (var e = 0, t = 0; t < a.rows.length && t < this.index; t++) e += a.rows[t].getHeight();\n          }, s.getHeight = function () {\n            return Math.max(this.lines.length * l.lineHeight() + a.cellHeaderHeight + a.cellMarginBottom, this.calendar.cellHeight);\n          }, this.rows.push(s);\n        }\n\n        this.Cf = this.firstDate.addDays(7 * i);\n      }, this.Df = function () {\n        switch (this.heightSpec) {\n          case \"Auto\":\n            for (var e = l.headerHeight(), t = 0; t < this.rows.length; t++) e += this.rows[t].getHeight();\n\n            return e;\n\n          case \"Fixed\":\n            return this.height;\n        }\n      }, this.Ef = function (e, t) {\n        return 7 * t.y + t.x - (7 * e.y + e.x) + 1;\n      }, this.Jd = {}, this.Jd.scope = null, this.Jd.notify = function () {\n        a.Jd.scope && a.Jd.scope[\"$apply\"]();\n      }, this.debug = new Abhaas.Debug(this), this.sc = function () {\n        var e = this.nav.top;\n        this.nav.top.dp = this, e.setAttribute(\"unselectable\", \"on\"), e.style.MozUserSelect = \"none\", e.style.KhtmlUserSelect = \"none\", e.style.WebkitUserSelect = \"none\", e.style.WebkitTapHighlightColor = \"rgba(0,0,0,0)\", e.style.WebkitTouchCallout = \"none\", e.style.position = \"relative\", this.width && (e.style.width = this.width), e.onselectstart = function (e) {\n          return !1;\n        }, e.className = this.t(\"_main\"), this.hideUntilInit && (e.style.visibility = \"hidden\"), this.visible || (e.style.display = \"none\"), e.onmousemove = this.yc, e.ontouchstart = o.onMainTouchStart, e.ontouchmove = o.onMainTouchMove, e.ontouchend = o.onMainTouchEnd, this.ef = document.createElement(\"div\"), this.ef.style.display = \"none\", this.nav.top.appendChild(this.ef);\n        var t = document.createElement(\"div\");\n        t.style.position = \"relative\", t.style.height = l.headerHeight() + \"px\", t.oncontextmenu = function () {\n          return !1;\n        }, this.nav.top.appendChild(t), this.nav.header = t;\n        var i = document.createElement(\"div\");\n        i.style.zoom = \"1\";\n        var n = document.createElement(\"div\");\n        n.style.position = \"relative\", i.appendChild(n), this.nav.loading = document.createElement(\"div\"), this.nav.loading.style.position = \"absolute\", this.nav.loading.style.top = \"0px\", this.nav.loading.style.left = \"5px\", this.nav.loading.className = a.t(\"_loading\"), this.nav.loading.innerHTML = this.loadingLabelText, this.nav.loading.style.display = \"none\", this.nav.top.appendChild(i), this.nav.top.appendChild(this.nav.loading), this.nav.scrollable = i, this.nav.events = n;\n      }, this.yc = function (e) {\n        e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), a.coords = Abhaas.mo3(a.nav.events, e);\n        var i = a.coords;\n\n        if (i) {\n          var n = a.zf(i.x, i.y);\n\n          if (n) {\n            if (t.resizingEvent) {\n              a.tf();\n              var o,\n                  r,\n                  l = t.resizingEvent;\n              l.start;\n\n              if (\"w-resize\" === l.direction) {\n                r = n;\n                var s = l.event.rawend();\n                s.getDatePart().getTime() === s.getTime() && (s = s.addDays(-1));\n                var d = a.Ff(s);\n                o = a.Ef(n, d);\n              } else r = a.Ff(l.event.start()), o = a.Ef(r, n);\n\n              o < 1 && (o = 1), a.pf(r.x, r.y, 0, o);\n            } else if (t.movingEvent) {\n              if (i.x === t.movingEvent.coords.x && i.y === t.movingEvent.coords.y) return;\n              var c = a.Af(n);\n              a.tf();\n              var h = t.movingEvent.event,\n                  u = t.movingEvent.offset,\n                  o = a.cellMode ? 1 : Abhaas.DateUtil.daysSpan(h.start(), h.rawend()) + 1;\n              o < 1 && (o = 1), a.pf(n.x, n.y, c, o, u, h);\n            } else if (t.timeRangeSelecting) {\n              t.cancelCellClick = !0, a.tf();\n              var r = t.timeRangeSelecting,\n                  f = 7 * r.y + r.x,\n                  v = 7 * n.y + n.x,\n                  o = Math.abs(v - f) + 1;\n              o < 1 && (o = 1);\n              var p = f < v ? r : n;\n              t.timeRangeSelecting.from = {\n                x: p.x,\n                y: p.y\n              }, t.timeRangeSelecting.width = o, t.timeRangeSelecting.moved = !0, a.pf(p.x, p.y, 0, o, 0, null);\n            }\n\n            if (t.drag) {\n              if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, !t.movingEvent) {\n                var g = Abhaas.Date.today(),\n                    e = {\n                  \"id\": t.drag.id,\n                  \"start\": g,\n                  \"end\": g.addSeconds(t.drag.duration),\n                  \"text\": t.drag.text\n                },\n                    m = t.drag.data;\n\n                if (m) {\n                  var y = [\"duration\", \"element\", \"remove\", \"id\", \"text\"];\n\n                  for (var b in m) Abhaas.contains(y, b) || (e[b] = m[b]);\n                }\n\n                var h = new Abhaas.Event(e, a);\n                h.external = !0;\n                var w = t.movingEvent = {};\n                w.event = h, w.coords = i, w.position = 0, w.offset = 0, w.external = !0, w.removeElement = t.drag.element;\n              }\n\n              e.cancelBubble = !0;\n            }\n          }\n        }\n      }, this.Af = function (e) {\n        for (var t = e.relativeY, i = a.rows[e.y], n = a.cellHeaderHeight, o = l.lineHeight(), r = i.lines.length, s = 0; s < i.lines.length; s++) {\n          if (i.lines[s].isFree(e.x, 1)) {\n            r = s;\n            break;\n          }\n        }\n\n        var d = Math.floor((t - n + o / 2) / o),\n            d = Math.min(r, d),\n            d = Math.max(0, d);\n        return d;\n      }, this.message = function (e, t, i, n) {\n        if (null !== e) {\n          var o,\n              t = t || this.messageHideAfter || 2e3,\n              r = .8,\n              s = l.headerHeight();\n          if (this.nav.message) o = a.nav.message;else {\n            o = document.createElement(\"div\"), o.setAttribute(\"unselectable\", \"on\"), o.style.position = \"absolute\", o.style.right = \"0px\", o.style.left = \"0px\", o.style.top = s + \"px\", o.style.opacity = r, o.style.filter = \"alpha(opacity=80)\", o.style.display = \"none\", o.onmousemove = function () {\n              o.messageTimeout && !o.status && clearTimeout(o.messageTimeout);\n            }, o.onmouseout = function () {\n              \"none\" !== a.nav.message.style.display && (o.messageTimeout = setTimeout(a.Oa, 500));\n            };\n            var d = document.createElement(\"div\");\n            d.setAttribute(\"unselectable\", \"on\"), d.onclick = function () {\n              a.nav.message.style.display = \"none\";\n            }, d.className = this.t(\"_message\"), o.appendChild(d);\n            var c = document.createElement(\"div\");\n            c.setAttribute(\"unselectable\", \"on\"), c.style.position = \"absolute\", c.className = this.t(\"_message_close\"), c.onclick = function () {\n              a.nav.message.style.display = \"none\";\n            }, o.appendChild(c), this.nav.top.appendChild(o), this.nav.message = o;\n          }\n\n          var h = function () {\n            a.nav.message.style.opacity = r, a.nav.message.firstChild.innerHTML = e;\n\n            var i = function () {\n              o.messageTimeout = setTimeout(a.Oa, t);\n            };\n\n            Abhaas.fade(a.nav.message, .2, i);\n          };\n\n          clearTimeout(o.messageTimeout), \"none\" !== this.nav.message.style.display ? Abhaas.fade(a.nav.message, -.2, h) : h();\n        }\n      }, this.message.show = function (e) {\n        a.message(e);\n      }, this.message.hide = function () {\n        a.Oa();\n      }, this.Oa = function () {\n        var e = function () {\n          a.nav.message.style.display = \"none\";\n        };\n\n        Abhaas.fade(a.nav.message, -.2, e);\n      }, this.Y = function (e) {\n        \"Parent100Pct\" === a.heightSpec && a.ta();\n      }, this.ta = function () {\n        var e = this.nav.scrollable;\n\n        if (\"Parent100Pct\" === this.heightSpec || \"Fixed\" === this.heightSpec ? (e.style.top = this.headerHeight + \"px\", e.style.bottom = \"0px\", e.style.left = \"0px\", e.style.right = \"0px\", e.style.overflow = \"auto\", e.style.position = \"absolute\") : e.style.position = \"relative\", \"Parent100Pct\" === this.heightSpec) {\n          this.nav.top.style.height = \"100%\";\n          this.nav.top.clientHeight;\n        } else this.nav.top.style.height = this.Df() + \"px\";\n\n        for (var t = 0; t < this.cells.length; t++) for (var i = 0; i < this.cells[t].length; i++) this.cells[t][i].style.top = this.qf(i) + \"px\", this.cells[t][i].style.height = this.rows[i].getHeight() + \"px\";\n\n        this.Gf();\n      }, this.zf = function (e, t) {\n        for (var i = Math.floor(this.nav.top.clientWidth / this.mf()), n = Math.min(Math.floor(e / i), this.mf() - 1), a = null, o = 0, r = 0, l = 0, s = 0; s < this.rows.length; s++) {\n          if (r += this.rows[s].getHeight(), t < r) {\n            o = t - l, a = s;\n            break;\n          }\n\n          l = r;\n        }\n\n        null === a && (a = this.rows.length - 1);\n        var d = {};\n        return d.x = n, d.y = a, d.relativeY = o, d;\n      }, this.Ff = function (e) {\n        for (var t = Abhaas.DateUtil.daysDiff(this.firstDate, e), i = {\n          x: 0,\n          y: 0\n        }; t >= 7;) i.y++, t -= 7;\n\n        return i.x = t, i;\n      }, this.Gf = function () {\n        var e = Abhaas.sw(this.nav.scrollable);\n        this.nav.header.style.marginRight = e + \"px\";\n      };\n      var r = null;\n      this.if = function () {\n        var e = this.nav.header,\n            t = this.nav.events;\n        this.cells = [];\n\n        for (var i = 0; i < this.mf(); i++) {\n          this.cells[i] = [];\n          var n = this.headerProperties ? this.headerProperties[i] : null,\n              o = i + l.weekStarts();\n\n          if (o > 6 && (o -= 7), !n) {\n            var n = {};\n            n.html = l.locale().dayNames[o];\n          }\n\n          if (\"function\" == typeof a.onBeforeHeaderRender) {\n            var s = {};\n            s.header = {}, s.header.dayOfWeek = o;\n            var d = [\"html\", \"backColor\", \"cssClass\"];\n            Abhaas.Util.copyProps(n, s.header, d), a.onBeforeHeaderRender(s), Abhaas.Util.copyProps(s.header, n, d);\n          }\n\n          var c = document.createElement(\"div\");\n          c.setAttribute(\"unselectable\", \"on\"), c.style.position = \"absolute\", c.style.left = this.sf() * i + \"%\", c.style.width = this.sf() + \"%\", c.style.top = \"0px\", c.style.height = l.headerHeight() + \"px\", function (e) {\n            c.onclick = function () {\n              a.Wa(e);\n            };\n          }(o);\n          var h = document.createElement(\"div\");\n          h.setAttribute(\"unselectable\", \"on\"), h.className = this.t(\"_header_inner\"), h.innerHTML = n.html, c.appendChild(h), c.className = this.t(\"_header\"), n && (n.cssClass && Abhaas.Util.addClass(c, n.cssClass), n.backColor && (h.style.background = n.backColor)), e.appendChild(c);\n\n          for (var u = 0; u < this.rows.length; u++) this.Hf(i, u, t);\n        }\n\n        if (!Abhaas.contains(this.nav.top.childNodes, r) && Abhaas.Util.isNullOrUndefined(undefined)) {\n          var f = document.createElement(\"div\");\n          f.style.position = \"absolute\", f.style.padding = \"2px\", f.style.top = \"0px\", f.style.left = \"0px\", f.style.backgroundColor = \"#FF6600\", f.style.color = \"white\", f.innerHTML = \"\\u0044\\u0045\" + \"\\u004D\\u004F\", r = f, this.nav.top.appendChild(f);\n        }\n      }, this.hf = function () {\n        for (var e = 0; e < this.cells.length; e++) for (var t = 0; t < this.cells[e].length; t++) this.cells[e][t].onclick = null;\n\n        this.nav.header.innerHTML = \"\", this.nav.events.innerHTML = \"\";\n      }, this.Hf = function (t, i, n) {\n        var o = this.rows[i],\n            r = this.firstDate.addDays(7 * i + t),\n            s = this.cellProperties ? this.cellProperties[i * this.mf() + t] : null,\n            d = null;\n        if (s) d = s[\"headerHtml\"];else {\n          var c = r.getDay();\n          d = 1 === c ? l.locale().monthNames[r.getMonth()] + \" \" + c : c + \"\";\n        }\n\n        if (!s) {\n          var s = {};\n          s.business = !a.isWeekend(r), s.headerHtml = d;\n        }\n\n        if (\"function\" == typeof a.onBeforeCellRender) {\n          var h = {};\n          h.cell = {}, h.cell.areas = null, h.cell.backColor = null, h.cell.backImage = null, h.cell.backRepeat = null, h.cell.business = a.isWeekend(r), h.cell.headerHtml = d, h.cell.headerBackColor = null, h.cell.cssClass = null, h.cell.html = null, h.cell.start = r, h.cell.end = h.cell.start.addDays(1), h.cell.events = function () {\n            return a.events.forRange(h.cell.start, h.cell.end);\n          }, Abhaas.Util.copyProps(s, h.cell), a.onBeforeCellRender(h), Abhaas.Util.copyProps(h.cell, s, [\"areas\", \"backColor\", \"backImage\", \"backRepeat\", \"business\", \"headerHtml\", \"headerBackColor\", \"cssClass\", \"html\"]);\n        }\n\n        var u = document.createElement(\"div\");\n        u.setAttribute(\"unselectable\", \"on\"), u.style.position = \"absolute\", u.style.cursor = \"default\", u.style.left = this.sf() * t + \"%\", u.style.width = this.sf() + \"%\", u.style.top = this.qf(i) + \"px\", u.style.height = o.getHeight() + \"px\", u.d = r, u.x = t, u.y = i, u.props = s;\n        var f = this.startDate.addMonths(-1).getMonth(),\n            v = this.startDate.addMonths(1).getMonth(),\n            p = this.startDate.getMonth(),\n            g = document.createElement(\"div\");\n        g.setAttribute(\"unselectable\", \"on\"), u.appendChild(g), g.className = this.t(\"_cell_inner\"), g.className = this.t(\"_cell_inner\"), r.getMonth() === p ? u.className = this.t(\"_cell\") : r.getMonth() === f ? u.className = this.t(\"_cell\") + \" \" + this.t(\"_previous\") : r.getMonth() === v ? u.className = this.t(\"_cell\") + \" \" + this.t(\"_next\") : e(), s && (s[\"cssClass\"] && Abhaas.Util.addClass(u, s.cssClass), s[\"business\"] && Abhaas.Util.addClass(u, this.t(\"_cell_business\")), s[\"backColor\"] && (g.style.backgroundColor = s[\"backColor\"]), s[\"backImage\"] && (g.style.backgroundImage = \"url('\" + s[\"backImage\"] + \"')\"), s[\"backRepeat\"] && (g.style.backgroundRepeat = s[\"backRepeat\"])), u.onmousedown = this.ub, u.onmousemove = this.Eb, u.onmouseout = this.Db, u.oncontextmenu = this.If, u.onclick = this.Jf, u.ondblclick = this.Kf;\n        var m = document.createElement(\"div\");\n\n        if (m.setAttribute(\"unselectable\", \"on\"), m.style.height = this.cellHeaderHeight + \"px\", s && s[\"headerBackColor\"] && (m.style.background = s[\"headerBackColor\"]), m.className = this.t(\"_cell_header\"), m.innerHTML = s.headerHtml, g.appendChild(m), s && s[\"html\"]) {\n          var y = document.createElement(\"div\");\n          y.setAttribute(\"unselectable\", \"on\"), y.style.height = o.getHeight() - this.cellHeaderHeight + \"px\", y.style.overflow = \"hidden\", y.innerHTML = s[\"html\"], g.appendChild(y);\n        }\n\n        if (this.cellMode) {\n          var b = document.createElement(\"div\");\n          b.setAttribute(\"unselectable\", \"on\"), b.style.height = this.cellHeight - this.cellHeaderHeight + \"px\", b.style.overflow = \"auto\", b.style.position = \"relative\";\n          var w = document.createElement(\"div\");\n          w.setAttribute(\"unselectable\", \"on\"), w.style.paddingTop = \"1px\", w.style.paddingBottom = \"1px\", b.appendChild(w), g.appendChild(b), u.body = w, u.scrolling = b;\n        }\n\n        if (u.props) for (var D = u.props.areas || [], k = 0; k < D.length; k++) {\n          var P = D[k],\n              x = P.visibility || P.v || \"Visible\";\n\n          if (\"Visible\" === x) {\n            var C = Abhaas.Areas.createArea(u, u.props, P);\n            u.appendChild(C);\n          }\n        }\n        this.cells[t][i] = u, n.appendChild(u), \"function\" == typeof a.onAfterCellRender && (h.cell.div = u, h.cell.divHeader = m, a.onAfterCellRender(h));\n      }, this.Eb = function () {\n        var e = this;\n        e.props && Abhaas.Areas.showAreas(e, e.props);\n      }, this.Db = function (e) {\n        var t = this;\n        t.props && Abhaas.Areas.hideAreas(t, e);\n      }, this.If = function () {\n        var e = this.d;\n        return function (e) {\n          var t = new Abhaas.Date(e),\n              i = t.addDays(1),\n              n = new Abhaas.Selection(t, i, null, a);\n          a.contextMenuSelection && a.contextMenuSelection.show(n);\n        }(e), !1;\n      }, this.Kf = function () {\n        var e = this.d;\n\n        if (a.timeouts) {\n          for (var t in a.timeouts) window.clearTimeout(a.timeouts[t]);\n\n          a.timeouts = null;\n        }\n\n        if (\"Disabled\" !== a.timeRangeDoubleClickHandling) {\n          var i = new Abhaas.Date(e),\n              n = i.addDays(1);\n          a.nb(i, n);\n        }\n      }, this.Jf = function () {\n        if (!t.cancelCellClick) {\n          var e = this.d,\n              i = function (e) {\n            var t = new Abhaas.Date(e),\n                i = t.addDays(1);\n            a.mb(t, i);\n          };\n\n          if (\"Disabled\" !== a.timeRangeSelectedHandling && \"Disabled\" === a.timeRangeDoubleClickHandling) return void i(e);\n          a.timeouts || (a.timeouts = []);\n\n          var n = function (e) {\n            return function () {\n              i(e);\n            };\n          };\n\n          a.timeouts.push(window.setTimeout(n(e), a.doubleClickTimeout));\n        }\n      }, this.ub = function (e) {\n        var i = this,\n            n = i.x,\n            o = i.y;\n\n        if (t.cancelCellClick = !1, i.scrolling) {\n          var r = Abhaas.mo3(i.scrolling, e),\n              l = Abhaas.sw(i.scrolling),\n              s = i.scrolling.offsetWidth;\n          if (r.x > s - l) return;\n        }\n\n        \"Disabled\" !== a.timeRangeSelectedHandling && (a.tf(), t.timeRangeSelecting = {\n          \"root\": a,\n          \"x\": n,\n          \"y\": o,\n          \"from\": {\n            x: n,\n            y: o\n          },\n          \"width\": 1\n        });\n      }, this.mf = function () {\n        return this.showWeekend ? 7 : 5;\n      }, this.sf = function () {\n        return this.showWeekend ? 14.285 : 20;\n      }, this.qf = function (e) {\n        for (var t = 0, i = 0; i < e; i++) t += this.rows[i].getHeight();\n\n        return t;\n      }, this.clearSelection = function () {\n        this.tf();\n      }, this.M = function (e, t, i) {\n        var n = {};\n        n.action = e, n.parameters = i, n.data = t, n.header = this.N();\n        var o = \"JSON\" + JSON.stringify(n);\n\n        __doPostBack(a.uniqueID, o);\n      }, this.O = function (e, t, i, n) {\n        if (!this.z()) return void a.debug.message(\"Callback invoked without the server-side backend specified. Callback canceled.\", \"warning\");\n        \"undefined\" == typeof n && (n = \"CallBack\"), a.P();\n        var o = {};\n        o.action = e, o.type = n, o.parameters = t, o.data = i, o.header = this.N();\n        var r = \"JSON\" + JSON.stringify(o);\n        this.backendUrl ? Abhaas.request(this.backendUrl, this.Q, r, this.R) : \"function\" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.S, null, this.callbackError, !0);\n      }, this.z = function () {\n        return \"javasc\" !== a.J && a.J.indexOf(\"DCODE\") === -1 || a.devsb;\n      }, this.T = function () {\n        return !(\"function\" != typeof WebForm_DoCallback || !this.uniqueID);\n      }, this.R = function (e) {\n        if (\"function\" == typeof a.onAjaxError) {\n          var t = {};\n          t.request = e, a.onAjaxError(t);\n        } else \"function\" == typeof a.ajaxError && a.ajaxError(e);\n      }, this.Q = function (e) {\n        a.S(e.responseText);\n      }, this.N = function () {\n        var e = {};\n        return e.v = this.v, e.control = \"dpm\", e.id = this.id, e.visibleStart = new Abhaas.Date(this.firstDate), e.visibleEnd = e.visibleStart.addDays(this.days), e.clientState = this.clientState, e.cssClassPrefix = a.cssClassPrefix, e.startDate = a.startDate, e.showWeekend = this.showWeekend, e.locale = this.locale, e.timeFormat = this.timeFormat, e.weekStarts = this.weekStarts, e.viewType = this.viewType, e.weeks = this.weeks, e.selected = a.multiselect.events(), e.hashes = a.hashes, e;\n      }, this.visibleStart = function () {\n        return new Abhaas.Date(this.firstDate);\n      }, this.visibleEnd = function () {\n        return a.visibleStart().addDays(a.days);\n      }, this.$a = function (e, t, i, n) {\n        if (\"PostBack\" === e) a.postBack2(t, i, n);else if (\"CallBack\" === e) a.O(t, i, n, \"CallBack\");else if (\"Immediate\" === e) a.O(t, i, n, \"Notify\");else if (\"Queue\" === e) a.queue.add(new Abhaas.Action(this, t, i, n));else {\n          if (\"Notify\" !== e) throw \"Invalid event invocation type\";\n          \"Notify\" === l.notifyType() ? a.O(t, i, n, \"Notify\") : a.queue.add(new Abhaas.Action(a, t, i, n));\n        }\n      }, this.ib = function (e, t) {\n        var i = a.jb(t),\n            n = {};\n        n.args = e, n.guid = i, a.O(\"Bubble\", n);\n      }, this.jb = function (e) {\n        var t = Abhaas.guid();\n        return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t;\n      }, this.eventClickPostBack = function (e, t) {\n        this.M(\"EventClick\", t, e);\n      }, this.eventClickCallBack = function (e, t) {\n        this.O(\"EventClick\", e, t);\n      }, this.Qa = function (e, i) {\n        t.movingEvent = null, t.resizingEvent = null;\n        var i = i || window.event;\n        i.ctrlKey, i.metaKey;\n        if (i.cancelBubble = !0, i.stopPropagation && i.stopPropagation(), \"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), \"Disabled\" === a.eventDoubleClickHandling) return void a.Ra(e, i);\n\n        if (a.timeouts) {\n          for (var n in a.timeouts) window.clearTimeout(a.timeouts[n]);\n\n          a.timeouts = [];\n        } else a.timeouts = [];\n\n        var o = function (e, t) {\n          return function () {\n            a.Ra(e, t);\n          };\n        };\n\n        a.timeouts.push(window.setTimeout(o(e, i), a.doubleClickTimeout));\n      }, this.Ra = function (e, t) {\n        var i = e.event;\n\n        if (i.client.clickEnabled()) {\n          var n = t.ctrlKey,\n              o = t.metaKey;\n\n          if (a.Da()) {\n            var r = {};\n            if (r.e = i, r.div = e, r.originalEvent = t, r.meta = t.metaKey, r.ctrl = t.ctrlKey, r.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof a.onEventClick && (a.onEventClick(r), r.preventDefault.value)) return;\n\n            switch (a.eventClickHandling) {\n              case \"PostBack\":\n                a.eventClickPostBack(i);\n                break;\n\n              case \"CallBack\":\n                a.eventClickCallBack(i);\n                break;\n\n              case \"Select\":\n                a.Ta(e, i, n, o);\n                break;\n\n              case \"ContextMenu\":\n                var l = i.client.contextMenu();\n                l ? l.show(i) : a.contextMenu && a.contextMenu.show(i);\n                break;\n\n              case \"Bubble\":\n                a.bubble && a.bubble.showEvent(i);\n            }\n\n            \"function\" == typeof a.onEventClicked && a.onEventClicked(r);\n          } else switch (a.eventClickHandling) {\n            case \"PostBack\":\n              a.eventClickPostBack(i);\n              break;\n\n            case \"CallBack\":\n              a.eventClickCallBack(i);\n              break;\n\n            case \"JavaScript\":\n              a.onEventClick(i);\n              break;\n\n            case \"Select\":\n              a.Ta(e, i, n, o);\n              break;\n\n            case \"ContextMenu\":\n              var l = i.client.contextMenu();\n              l ? l.show(i) : a.contextMenu && a.contextMenu.show(i);\n              break;\n\n            case \"Bubble\":\n              a.bubble && a.bubble.showEvent(i);\n          }\n        }\n      }, this.Za = function (e) {\n        if (a.Da()) {\n          var t = {};\n          if (t.e = e, t.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onEventDelete && (a.onEventDelete(t), t.preventDefault.value)) return;\n\n          switch (a.eventDeleteHandling) {\n            case \"PostBack\":\n              a.eventDeletePostBack(e);\n              break;\n\n            case \"CallBack\":\n              a.eventDeleteCallBack(e);\n              break;\n\n            case \"Update\":\n              a.events.remove(e);\n          }\n\n          \"function\" == typeof a.onEventDeleted && a.onEventDeleted(t);\n        } else switch (a.eventDeleteHandling) {\n          case \"PostBack\":\n            a.eventDeletePostBack(e);\n            break;\n\n          case \"CallBack\":\n            a.eventDeleteCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            a.onEventDelete(e);\n        }\n      }, this.eventDeletePostBack = function (e, t) {\n        this.M(\"EventDelete\", e, t);\n      }, this.eventDeleteCallBack = function (e, t) {\n        this.O(\"EventDelete\", e, t);\n      }, this.eventDoubleClickPostBack = function (e, t) {\n        this.M(\"EventDoubleClick\", t, e);\n      }, this.eventDoubleClickCallBack = function (e, t) {\n        this.O(\"EventDoubleClick\", e, t);\n      }, this.Ua = function (e, t) {\n        if (\"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), a.timeouts) {\n          for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);\n\n          a.timeouts = null;\n        }\n\n        var t = t || window.event,\n            n = e.event;\n\n        if (a.Da()) {\n          var o = {};\n          if (o.e = n, o.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onEventDoubleClick && (a.onEventDoubleClick(o), o.preventDefault.value)) return;\n\n          switch (a.eventDoubleClickHandling) {\n            case \"PostBack\":\n              a.eventDoubleClickPostBack(n);\n              break;\n\n            case \"CallBack\":\n              a.eventDoubleClickCallBack(n);\n              break;\n\n            case \"Select\":\n              a.Ta(e, n, t.ctrlKey, t.metaKey);\n              break;\n\n            case \"Bubble\":\n              a.bubble && a.bubble.showEvent(n);\n          }\n\n          \"function\" == typeof a.onEventDoubleClicked && a.onEventDoubleClicked(o);\n        } else switch (a.eventDoubleClickHandling) {\n          case \"PostBack\":\n            a.eventDoubleClickPostBack(n);\n            break;\n\n          case \"CallBack\":\n            a.eventDoubleClickCallBack(n);\n            break;\n\n          case \"JavaScript\":\n            a.onEventDoubleClick(n);\n            break;\n\n          case \"Select\":\n            a.Ta(e, n, t.ctrlKey, t.metaKey);\n            break;\n\n          case \"Bubble\":\n            a.bubble && a.bubble.showEvent(n);\n        }\n      }, this.Ta = function (e, t, i, n) {\n        a.pb(e, t, i, n);\n      }, this.eventSelectPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.change = t, this.M(\"EventSelect\", i, n);\n      }, this.eventSelectCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.change = t, this.O(\"EventSelect\", n, i);\n      }, this.pb = function (e, t, i, n) {\n        var o = a.multiselect,\n            r = o.isSelected(t);\n        if (i || n || !r || 1 !== o.list.length) if (a.Da()) {\n          o.previous = o.events();\n          var l = {};\n          if (l.e = t, l.selected = o.isSelected(t), l.ctrl = i, l.meta = n, l.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onEventSelect && (a.onEventSelect(l), l.preventDefault.value)) return;\n\n          switch (a.eventSelectHandling) {\n            case \"PostBack\":\n              a.eventSelectPostBack(t, s);\n              break;\n\n            case \"CallBack\":\n              \"undefined\" != typeof WebForm_InitCallback && (window.rb = \"\", window.sb = [], WebForm_InitCallback()), a.eventSelectCallBack(t, s);\n              break;\n\n            case \"Update\":\n              o.tb(e, i);\n          }\n\n          \"function\" == typeof a.onEventSelected && (l.change = o.isSelected(t) ? \"selected\" : \"deselected\", l.selected = o.isSelected(t), a.onEventSelected(l));\n        } else {\n          o.previous = o.events(), o.tb(e, i);\n          var s = o.isSelected(t) ? \"selected\" : \"deselected\";\n\n          switch (a.eventSelectHandling) {\n            case \"PostBack\":\n              a.eventSelectPostBack(t, s);\n              break;\n\n            case \"CallBack\":\n              \"undefined\" != typeof WebForm_InitCallback && (window.rb = \"\", window.sb = [], WebForm_InitCallback()), a.eventSelectCallBack(t, s);\n              break;\n\n            case \"JavaScript\":\n              a.onEventSelect(t, s);\n          }\n        }\n      }, this.eventRightClickPostBack = function (e, t) {\n        this.M(\"EventRightClick\", t, e);\n      }, this.eventRightClickCallBack = function (e, t) {\n        this.O(\"EventRightClick\", e, t);\n      }, this.Va = function (e) {\n        if (this.event = e, !e.client.rightClickEnabled()) return !1;\n\n        if (a.Da()) {\n          var t = {};\n          if (t.e = e, t.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onEventRightClick && (a.onEventRightClick(t), t.preventDefault.value)) return;\n\n          switch (a.eventRightClickHandling) {\n            case \"PostBack\":\n              a.eventRightClickPostBack(e);\n              break;\n\n            case \"CallBack\":\n              a.eventRightClickCallBack(e);\n              break;\n\n            case \"ContextMenu\":\n              var i = e.client.contextMenu();\n              i ? i.show(e) : a.contextMenu && a.contextMenu.show(this.event);\n              break;\n\n            case \"Bubble\":\n              a.bubble && a.bubble.showEvent(e);\n          }\n\n          \"function\" == typeof a.onEventRightClicked && a.onEventRightClicked(t);\n        } else switch (a.eventRightClickHandling) {\n          case \"PostBack\":\n            a.eventRightClickPostBack(e);\n            break;\n\n          case \"CallBack\":\n            a.eventRightClickCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            a.onEventRightClick(e);\n            break;\n\n          case \"ContextMenu\":\n            var i = e.client.contextMenu();\n            i ? i.show(e) : a.contextMenu && a.contextMenu.show(this.event);\n            break;\n\n          case \"Bubble\":\n            a.bubble && a.bubble.showEvent(e);\n        }\n\n        return !1;\n      }, this.eventMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.command = t, this.M(\"EventMenuClick\", i, n);\n      }, this.eventMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.command = t, this.O(\"EventMenuClick\", n, i);\n      }, this.kb = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            a.eventMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            a.eventMenuClickCallBack(t, e);\n        }\n      }, this.eventMovePostBack = function (e, t, i, n, a) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var o = {};\n        o.e = e, o.newStart = t, o.newEnd = i, o.position = a, this.M(\"EventMove\", n, o);\n      }, this.eventMoveCallBack = function (e, t, i, n, a) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var o = {};\n        o.e = e, o.newStart = t, o.newEnd = i, o.position = a, this.O(\"EventMove\", o, n);\n      }, this.fb = function (e, t, i, n, o, r, l) {\n        var s = e.start().getTimePart(),\n            d = e.rawend().getDatePart();\n        d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));\n        var c = Abhaas.DateUtil.diff(e.rawend(), d),\n            h = this.uf(t, i);\n        h = h.addDays(-n);\n        var u = Abhaas.DateUtil.daysSpan(e.start(), e.rawend()) + 1,\n            f = h.addDays(u),\n            v = h.addTime(s),\n            p = f.addTime(c);\n\n        if (p = a.Lf(p), a.Da()) {\n          var g = {};\n          if (g.e = e, g.newStart = v, g.newEnd = p, g.position = r, g.ctrl = !1, g.external = l, o && (g.ctrl = o.ctrlKey), g.shift = !1, o && (g.shift = o.shiftKey), g.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onEventMove && (a.onEventMove(g), g.preventDefault.value)) return;\n\n          switch (a.eventMoveHandling) {\n            case \"PostBack\":\n              a.eventMovePostBack(e, v, p, null, r);\n              break;\n\n            case \"CallBack\":\n              a.eventMoveCallBack(e, v, p, null, r);\n              break;\n\n            case \"Notify\":\n              a.eventMoveNotify(e, v, p, null, r);\n              break;\n\n            case \"Update\":\n              g.external ? (e.start(v), e.end(p), e.commit(), a.events.add(e)) : (e.start(v), e.end(p), a.events.update(e)), a.gb();\n          }\n\n          \"function\" == typeof a.onEventMoved && a.onEventMoved(g);\n        } else switch (a.eventMoveHandling) {\n          case \"PostBack\":\n            a.eventMovePostBack(e, v, p, null, r);\n            break;\n\n          case \"CallBack\":\n            a.eventMoveCallBack(e, v, p, null, r);\n            break;\n\n          case \"JavaScript\":\n            a.onEventMove(e, v, p, o.ctrlKey, o.shiftKey, r);\n            break;\n\n          case \"Notify\":\n            a.eventMoveNotify(e, v, p, null, r);\n        }\n      }, this.eventMoveNotify = function (e, t, i, n, o) {\n        var r = new Abhaas.Event(e.copy(), this);\n        e.start(t), e.end(i), e.commit(), a.update(), this.hb(\"Notify\", r, t, i, n, o);\n      }, this.hb = function (e, t, i, n, a, o) {\n        var r = {};\n        r.e = t, r.newStart = i, r.newEnd = n, r.position = o, this.$a(e, \"EventMove\", r, a);\n      }, this.eventResizePostBack = function (e, t, i, n) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var a = {};\n        a.e = e, a.newStart = t, a.newEnd = i, this.M(\"EventResize\", n, a);\n      }, this.eventResizeCallBack = function (e, t, i, n) {\n        if (!t) throw \"newStart is null\";\n        if (!i) throw \"newEnd is null\";\n        var a = {};\n        a.e = e, a.newStart = t, a.newEnd = i, this.O(\"EventResize\", a, n);\n      }, this.cb = function (e, t, i) {\n        var n = e.start().getTimePart(),\n            o = e.rawend().getDatePart();\n        o != e.rawend() && (o = o.addDays(1));\n        var r = Abhaas.DateUtil.diff(e.rawend(), o),\n            l = this.uf(t.x, t.y),\n            s = l.addDays(i),\n            d = l.addTime(n),\n            c = s.addTime(r);\n\n        if (c = a.Lf(c), a.Da()) {\n          var h = {};\n          if (h.e = e, h.newStart = d, h.newEnd = c, h.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onEventResize && (a.onEventResize(h), h.preventDefault.value)) return;\n\n          switch (a.eventResizeHandling) {\n            case \"PostBack\":\n              a.eventResizePostBack(e, d, c);\n              break;\n\n            case \"CallBack\":\n              a.eventResizeCallBack(e, d, c);\n              break;\n\n            case \"Notify\":\n              a.eventResizeNotify(e, d, c);\n              break;\n\n            case \"Update\":\n              e.start(d), e.end(c), a.events.update(e);\n          }\n\n          \"function\" == typeof a.onEventResized && a.onEventResized(h);\n        } else switch (a.eventResizeHandling) {\n          case \"PostBack\":\n            a.eventResizePostBack(e, d, c);\n            break;\n\n          case \"CallBack\":\n            a.eventResizeCallBack(e, d, c);\n            break;\n\n          case \"JavaScript\":\n            a.onEventResize(e, d, c);\n            break;\n\n          case \"Notify\":\n            a.eventResizeNotify(e, d, c);\n        }\n      }, this.eventResizeNotify = function (e, t, i, n) {\n        var o = new Abhaas.Event(e.copy(), this);\n        e.start(t), e.end(i), e.commit(), a.update(), this.db(\"Notify\", o, t, i, n);\n      }, this.db = function (e, t, i, n, a) {\n        var o = {};\n        o.e = t, o.newStart = i, o.newEnd = n, this.$a(e, \"EventResize\", o, a);\n      }, this.timeRangeSelectedPostBack = function (e, t, i) {\n        var n = {};\n        n.start = e, n.end = t, this.M(\"TimeRangeSelected\", i, n);\n      }, this.timeRangeSelectedCallBack = function (e, t, i) {\n        var n = {};\n        n.start = e, n.end = t, this.O(\"TimeRangeSelected\", n, i);\n      }, this.mb = function (e, t) {\n        if (t = a.Lf(t), a.Da()) {\n          var i = {};\n          if (i.start = e, i.end = t, i.control = a, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onTimeRangeSelect && (a.onTimeRangeSelect(i), i.preventDefault.value)) return;\n\n          switch (a.timeRangeSelectedHandling) {\n            case \"PostBack\":\n              a.timeRangeSelectedPostBack(e, t), a.clearSelection();\n              break;\n\n            case \"CallBack\":\n              a.timeRangeSelectedCallBack(e, t), a.clearSelection();\n          }\n\n          \"function\" == typeof a.onTimeRangeSelected && a.onTimeRangeSelected(i);\n        } else switch (a.timeRangeSelectedHandling) {\n          case \"PostBack\":\n            a.timeRangeSelectedPostBack(e, t), a.clearSelection();\n            break;\n\n          case \"CallBack\":\n            a.timeRangeSelectedCallBack(e, t), a.clearSelection();\n            break;\n\n          case \"JavaScript\":\n            a.onTimeRangeSelected(e, t);\n        }\n      }, this.timeRangeMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.selection = e, n.command = t, this.M(\"TimeRangeMenuClick\", i, n);\n      }, this.timeRangeMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.selection = e, n.command = t, this.O(\"TimeRangeMenuClick\", n, i);\n      }, this.lb = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            a.timeRangeMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            a.timeRangeMenuClickCallBack(t, e);\n        }\n      }, this.headerClickPostBack = function (e, t) {\n        this.M(\"HeaderClick\", t, e);\n      }, this.headerClickCallBack = function (e, t) {\n        this.O(\"HeaderClick\", e, t);\n      }, this.Wa = function (e) {\n        var t = (this.data, {\n          day: e\n        });\n\n        if (a.Da()) {\n          var i = {};\n          if (i.header = {}, i.header.dayOfWeek = e, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onHeaderClick && (a.onHeaderClick(i), i.preventDefault.value)) return;\n\n          switch (a.headerClickHandling) {\n            case \"PostBack\":\n              a.headerClickPostBack(t);\n              break;\n\n            case \"CallBack\":\n              a.headerClickCallBack(t);\n          }\n\n          \"function\" == typeof a.onHeaderClicked && a.onHeaderClicked(i);\n        } else switch (a.headerClickHandling) {\n          case \"PostBack\":\n            a.headerClickPostBack(t);\n            break;\n\n          case \"CallBack\":\n            a.headerClickCallBack(t);\n            break;\n\n          case \"JavaScript\":\n            a.onHeaderClick(t);\n        }\n      }, this.timeRangeDoubleClickPostBack = function (e, t, i) {\n        var n = {};\n        n.start = e, n.end = t, this.M(\"TimeRangeDoubleClick\", i, n);\n      }, this.timeRangeDoubleClickCallBack = function (e, t, i) {\n        var n = {};\n        n.start = e, n.end = t, this.O(\"TimeRangeDoubleClick\", n, i);\n      }, this.nb = function (e, t) {\n        if (a.Da()) {\n          var i = {};\n          if (i.start = e, i.end = t, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof a.onTimeRangeDoubleClick && (a.onTimeRangeDoubleClick(i), i.preventDefault.value)) return;\n\n          switch (a.timeRangeDoubleClickHandling) {\n            case \"PostBack\":\n              a.timeRangeDoubleClickPostBack(e, t);\n              break;\n\n            case \"CallBack\":\n              a.timeRangeDoubleClickCallBack(e, t);\n          }\n\n          \"function\" == typeof a.onTimeRangeDoubleClicked && a.onTimeRangeDoubleClicked(i);\n        } else switch (a.timeRangeDoubleClickHandling) {\n          case \"PostBack\":\n            a.timeRangeDoubleClickPostBack(e, t);\n            break;\n\n          case \"CallBack\":\n            a.timeRangeDoubleClickCallBack(e, t);\n            break;\n\n          case \"JavaScript\":\n            a.onTimeRangeDoubleClick(e, t);\n        }\n      }, this.commandCallBack = function (e, t) {\n        this.Mf();\n        var i = {};\n        i.command = e, this.O(\"Command\", i, t);\n      }, this.commandPostBack = function (e, t) {\n        this.Mf();\n        var i = {};\n        i.command = e, this.M(\"Command\", i, t);\n      }, this.Id = function (e) {\n        for (var t = 0; t < a.elements.events.length; t++) {\n          var i = a.elements.events[t];\n          if (i.event === e || i.event.data === e.data) return i;\n        }\n\n        return null;\n      }, this.yf = function (e) {\n        var t = {};\n        t.list = [], t.each = function (e) {\n          if (e) for (var t = 0; t < this.list.length; t++) e(this.list[t]);\n        };\n\n        for (var i = 0; i < this.elements.events.length; i++) {\n          var n = this.elements.events[i];\n          n.event.data === e.data && t.list.push(n);\n        }\n\n        return t;\n      }, this.Qd = function (e) {\n        var t = document.createElement(\"div\");\n        t.style.position = \"absolute\", t.style.top = \"-2000px\", t.style.left = \"-2000px\", t.className = this.t(e), document.body.appendChild(t);\n        var i = t.offsetHeight,\n            n = t.offsetWidth;\n        document.body.removeChild(t);\n        var a = {};\n        return a.height = i, a.width = n, a;\n      }, this.Nc = {};\n      var l = this.Nc;\n      l.clearCache = function () {\n        delete a.G.eventHeight, delete a.G.headerHeight;\n      }, l.lineHeight = function () {\n        return l.eventHeight() + a.lineSpace;\n      }, l.rounded = function () {\n        return \"Rounded\" === a.eventCorners;\n      }, l.loadFromServer = function () {\n        return !!a.backendUrl;\n      }, l.locale = function () {\n        return Abhaas.Locale.find(a.locale);\n      }, l.getWeekStart = function () {\n        return a.showWeekend ? a.weekStarts : 1;\n      }, l.weekStarts = function () {\n        if (!a.showWeekend) return 1;\n\n        if (\"Auto\" === a.weekStarts) {\n          var e = l.locale();\n          return e ? e.weekStarts : 0;\n        }\n\n        return a.weekStarts;\n      }, l.notifyType = function () {\n        var e;\n        if (\"Immediate\" === a.notifyCommit) e = \"Notify\";else {\n          if (\"Queue\" !== a.notifyCommit) throw \"Invalid notifyCommit value: \" + a.notifyCommit;\n          e = \"Queue\";\n        }\n        return e;\n      }, l.eventHeight = function () {\n        if (a.G.eventHeight) return a.G.eventHeight;\n        var e = a.Qd(\"_event_height\").height;\n        return e || (e = a.eventHeight), a.G.eventHeight = e, e;\n      }, l.headerHeight = function () {\n        if (a.G.headerHeight) return a.G.headerHeight;\n        var e = a.Qd(\"_header_height\").height;\n        return e || (e = a.headerHeight), a.G.headerHeight = e, e;\n      }, l.timeFormat = function () {\n        return \"Auto\" !== a.timeFormat ? a.timeFormat : l.locale().timeFormat;\n      }, this.sd = function () {\n        var e = a.nav.top;\n        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;\n      }, this.exportAs = function (e, t) {\n        if (!a.sd()) throw new Abhaas.Exception(\"Abhaas.Month.exportAs(): The instance must be visible during export.\");\n        var i = s.generate(e, t);\n        return new Abhaas.Export(i);\n      }, this.Rd = {};\n      var s = this.Rd;\n      s.Sd = null, s.Td = null, s.generate = function (e, t) {\n        \"object\" == typeof e && (t = e, e = null);\n        var t = t || {},\n            e = e || t.format || \"svg\",\n            i = t.scale || 1;\n\n        if (\"config\" !== e) {\n          \"jpg\" === e.toLowerCase() && (e = \"jpeg\");\n          var n = t.area || \"viewport\";\n          s.Sd = t, s.Td = n;\n          var o,\n              r = s.getWidth(),\n              d = s.getHeight();\n\n          switch (e.toLowerCase()) {\n            case \"svg\":\n              o = new Abhaas.Svg(r, d);\n              break;\n\n            case \"png\":\n              o = new Abhaas.Canvas(r, d, \"image/png\", i);\n              break;\n\n            case \"jpeg\":\n              o = new Abhaas.Canvas(r, d, \"image/jpeg\", i, t.quality);\n              break;\n\n            default:\n              throw \"Export format not supported: \" + e;\n          }\n\n          var c = s.getRectangles(),\n              h = new Abhaas.StyleReader(a.nav.top).get(\"background-color\"),\n              u = new Abhaas.StyleReader(a.nav.top).get(\"border-top-color\"),\n              f = a.nav.header.firstChild.firstChild,\n              v = new Abhaas.StyleReader(f).get(\"background-color\"),\n              p = new Abhaas.StyleReader(f).getFont(),\n              g = new Abhaas.StyleReader(f).get(\"color\"),\n              m = a.cells[0][0].firstChild,\n              y = (new Abhaas.StyleReader(m).get(\"background-color\"), new Abhaas.StyleReader(m).get(\"border-right-color\")),\n              b = c.grid.w * a.sf() / 100,\n              w = 0;\n          o.fillRect(c.main, \"white\"), o.fillRect(c.main, h), Abhaas.list.for(a.mf()).each(function (e) {\n            var t = a.headerProperties ? a.headerProperties[e] : null,\n                i = e + l.weekStarts();\n\n            if (i > 6 && (i -= 7), !t) {\n              var t = {};\n              t.html = l.locale().dayNames[i];\n            }\n\n            var n = 0,\n                r = b,\n                s = l.headerHeight(),\n                d = t.html,\n                c = {\n              \"x\": w,\n              \"y\": n,\n              \"w\": r + 1,\n              \"h\": s + 1\n            },\n                h = Abhaas.Util.copyProps(c),\n                f = {};\n            f.header = {}, f.header.dayOfWeek = i, f.backColor = v, f.text = d, f.horizontalAlignment = \"center\", f.fontSize = p.size, f.fontFamily = p.family, f.fontStyle = p.style, f.fontColor = g, \"function\" == typeof a.onBeforeHeaderExport && a.onBeforeHeaderExport(f);\n            var m = {\n              \"size\": f.fontSize,\n              \"family\": f.fontFamily,\n              \"style\": f.fontStyle\n            };\n            o.fillRect(c, f.backColor), o.rect(c, u), o.text(h, f.text, m, f.fontColor, f.horizontalAlignment), w += r;\n          });\n          var D = c.grid.y;\n          s.getRows().forEach(function (e) {\n            var t = e.getHeight(),\n                i = 0,\n                n = a.rows.indexOf(e);\n            Abhaas.list.for(a.mf()).each(function (e) {\n              var r = a.cells[e][n],\n                  l = r.props,\n                  s = b,\n                  d = new Abhaas.StyleReader(a.cells[e][n].firstChild).get(\"background-color\"),\n                  c = a.cells[e][n].firstChild.firstChild,\n                  h = new Abhaas.StyleReader(c).getFont(),\n                  u = new Abhaas.StyleReader(c).get(\"color\"),\n                  f = new Abhaas.StyleReader(c).get(\"background-color\"),\n                  v = a.firstDate.addDays(7 * n + e),\n                  p = {};\n              p.cell = {}, p.cell.start = v, p.cell.end = v.addDays(1), p.backColor = d, p.text = l.headerHtml, p.horizontalAlignment = \"right\", \"function\" == typeof a.onBeforeCellExport && a.onBeforeCellExport(p);\n              var g = {\n                \"x\": i,\n                \"y\": D,\n                \"w\": s + 1,\n                \"h\": t + 1\n              };\n              o.fillRect(g, p.backColor), o.rect(g, y);\n              var m = {\n                \"x\": i,\n                \"y\": D,\n                \"w\": s - 2,\n                \"h\": a.cellHeaderHeight\n              };\n              o.fillRect(g, f), o.text(m, p.text, h, u, p.horizontalAlignment), i += s;\n            }), D += t;\n          });\n          var k = 0;\n          return s.getRows().forEach(function (e) {\n            var t = e.getHeight();\n            Abhaas.list(e.lines).each(function (e) {\n              Abhaas.list(e).each(function (e) {\n                var t = e.cache || e.data,\n                    i = s.fakeEvent();\n                i.className += \" \" + t.cssClass;\n                var n = i.firstChild,\n                    r = new Abhaas.StyleReader(n).get(\"border-right-color\"),\n                    d = new Abhaas.StyleReader(n).getFont(),\n                    h = new Abhaas.StyleReader(n).get(\"color\"),\n                    u = new Abhaas.StyleReader(n).getBackColor(),\n                    f = {};\n                f.left = new Abhaas.StyleReader(n).getPx(\"padding-left\"), f.right = new Abhaas.StyleReader(n).getPx(\"padding-right\"), f.top = new Abhaas.StyleReader(n).getPx(\"padding-top\"), f.bottom = new Abhaas.StyleReader(n).getPx(\"padding-bottom\"), Abhaas.de(i);\n                var v = t.backColor || u,\n                    p = {};\n                p.e = e, p.text = e.text ? e.text() : e.client.html(), p.fontSize = d.size, p.fontFamily = d.family, p.fontStyle = d.style, p.fontColor = t.fontColor || h, p.backColor = t.backColor || v, p.borderColor = r, p.horizontalAlignment = \"left\", \"function\" == typeof a.onBeforeEventExport && a.onBeforeEventExport(p);\n                var g = b * e.part.colStart,\n                    m = b * e.part.colWidth,\n                    y = k + a.cellHeaderHeight + e.part.line * l.lineHeight() + c.grid.y + 2,\n                    w = l.eventHeight(),\n                    D = 2,\n                    P = {\n                  \"x\": g + D,\n                  \"y\": y,\n                  \"w\": m + 1 - 4,\n                  \"h\": w\n                },\n                    x = Abhaas.Util.copyProps(P);\n                x.x += f.left, x.w -= f.left + f.right, x.y += f.top, x.h -= f.top + f.bottom, o.fillRect(P, p.backColor), o.text(x, p.text, {\n                  \"size\": p.fontSize,\n                  \"family\": p.fontFamily,\n                  \"style\": p.fontStyle\n                }, p.fontColor, p.horizontalAlignment), o.rect(P, p.borderColor);\n              });\n            }), k += t;\n          }), o.rect(c.main, u), o.line(c.grid.x, 0, c.grid.x, c.main.h, u), o.line(0, c.grid.y, c.main.w, c.grid.y, u), o;\n        }\n      }, s.fakeEvent = function () {\n        var e = document.createElement(\"div\");\n        e.style.position = \"absolute\", e.style.top = \"-2000px\", e.style.left = \"-2000px\", e.style.display = \"none\", e.className = a.t(\"_event\");\n        var t = document.createElement(\"div\");\n        return t.className = a.t(\"_event_inner\"), e.appendChild(t), a.nav.events.appendChild(e), e;\n      }, s.fakeCell = function () {\n        var e = document.createElement(\"div\");\n        e.style.position = \"absolute\", e.style.top = \"-2000px\", e.style.left = \"-2000px\", e.style.display = \"none\", e.className = a.t(\"_cell\");\n        var t = document.createElement(\"div\");\n        return t.className = a.t(\"_cell_inner\"), e.appendChild(t), a.nav.events.appendChild(e), e;\n      }, s.getWidth = function () {\n        var e = s.Td,\n            t = Math.floor(a.nav.top.clientWidth / a.mf()) * a.mf();\n\n        switch (e) {\n          case \"viewport\":\n          case \"full\":\n          case \"range\":\n            return \"number\" == typeof s.Sd.width ? s.Sd.width : t;\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, s.getHeight = function () {\n        var e = s.Td;\n\n        switch (e) {\n          case \"viewport\":\n          case \"full\":\n            return a.nav.top.clientHeight;\n\n          case \"range\":\n            var t = l.headerHeight();\n            return s.getRows().forEach(function (e) {\n              t += e.getHeight();\n            }), t;\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, s.getRows = function () {\n        var e = new Abhaas.Date(s.Sd.dateFrom || a.visibleStart()),\n            t = new Abhaas.Date(s.Sd.dateTo || a.visibleEnd());\n        return a.rows.filter(function (i) {\n          return \"range\" !== s.Td || Abhaas.Util.overlaps(i.start, i.end, e, t);\n        });\n      }, s.getRectangles = function () {\n        var e = l.headerHeight(),\n            t = {};\n        return t.main = {\n          \"x\": 0,\n          \"y\": 0,\n          \"w\": s.getWidth(),\n          \"h\": s.getHeight()\n        }, t.grid = {\n          \"x\": 0,\n          \"y\": e,\n          \"w\": s.getWidth(),\n          \"h\": s.getHeight() - e\n        }, t;\n      }, this.multiselect = {}, this.multiselect.initList = [], this.multiselect.list = [], this.multiselect.divs = [], this.multiselect.previous = [], this.multiselect.Nb = function () {\n        var e = a.multiselect;\n        return JSON.stringify(e.events());\n      }, this.multiselect.events = function () {\n        var e = a.multiselect,\n            t = [];\n        t.ignoreToJSON = !0;\n\n        for (var i = 0; i < e.list.length; i++) t.push(e.list[i]);\n\n        return t;\n      }, this.multiselect.Ob = function () {}, this.multiselect.tb = function (e, t) {\n        var i = a.multiselect;\n        if (i.isSelected(e.event)) {\n          if (a.allowMultiSelect) {\n            if (t) i.remove(e.event, !0);else {\n              var n = i.list.length;\n              i.clear(!0), n > 1 && i.add(e.event, !0);\n            }\n          } else i.clear(!0);\n        } else a.allowMultiSelect && t ? i.add(e.event, !0) : (i.clear(!0), i.add(e.event, !0));\n        i.redraw(), i.Ob();\n      }, this.multiselect.Pb = function (e) {\n        var t = a.multiselect;\n        return t.Qb(e, t.initList);\n      }, this.multiselect.Rb = function () {\n        for (var e = a.multiselect, t = [], i = 0; i < e.list.length; i++) {\n          var n = e.list[i];\n          t.push(n.value());\n        }\n\n        alert(t.join(\"\\n\") + \"abb\");\n      }, this.multiselect.add = function (e, t) {\n        var i = a.multiselect;\n        i.indexOf(e) === -1 && i.list.push(e), t || i.redraw();\n      }, this.multiselect.remove = function (e, t) {\n        var i = a.multiselect,\n            n = i.indexOf(e);\n        n !== -1 && i.list.splice(n, 1);\n      }, this.multiselect.clear = function (e) {\n        var t = a.multiselect;\n        t.list = [], e || t.redraw();\n      }, this.multiselect.redraw = function () {\n        for (var e = a.multiselect, t = 0; t < a.elements.events.length; t++) {\n          var i = a.elements.events[t];\n          e.isSelected(i.event) ? e.Tb(i) : e.Ub(i);\n        }\n      }, this.multiselect.Tb = function (e) {\n        var t = a.multiselect,\n            i = a.t(\"_selected\"),\n            e = t.Vb(e);\n        Abhaas.Util.addClass(e, i), t.divs.push(e);\n      }, this.multiselect.Vb = function (e) {\n        return e;\n      }, this.multiselect.Wb = function () {\n        for (var e = a.multiselect, t = 0; t < e.divs.length; t++) {\n          var i = e.divs[t];\n          e.Ub(i, !0);\n        }\n\n        e.divs = [];\n      }, this.multiselect.Ub = function (e, t) {\n        var i = a.multiselect,\n            n = a.t(\"_selected\"),\n            o = i.Vb(e);\n\n        if (o && o.className && o.className.indexOf(n) !== -1 && (o.className = o.className.replace(n, \"\")), !t) {\n          var r = Abhaas.indexOf(i.divs, e);\n          r !== -1 && i.divs.splice(r, 1);\n        }\n      }, this.multiselect.isSelected = function (e) {\n        return a.multiselect.Qb(e, a.multiselect.list);\n      }, this.multiselect.indexOf = function (e) {\n        return Abhaas.indexOf(a.multiselect.list, e);\n      }, this.multiselect.Qb = function (e, t) {\n        if (!t) return !1;\n\n        for (var i = 0; i < t.length; i++) {\n          var n = t[i];\n          if (e === n) return !0;\n\n          if (\"function\" == typeof n.value) {\n            if (null !== n.value() && null !== e.value() && n.value() === e.value()) return !0;\n            if (null === n.value() && null === e.value() && n.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === n.start()) return !0;\n          } else {\n            if (null !== n.value && null !== e.value() && n.value === e.value()) return !0;\n            if (null === n.value && null === e.value() && n.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === n.start) return !0;\n          }\n        }\n\n        return !1;\n      }, this.events.forRange = function (e, t) {\n        return e = new Abhaas.Date(e), t = new Abhaas.Date(t), Abhaas.list(a.events.list).filter(function (i) {\n          var n = new Abhaas.Date(i.start),\n              a = new Abhaas.Date(i.end);\n          return n === a && n === e || Abhaas.Util.overlaps(e, t, n, a);\n        }).map(function (e) {\n          return new Abhaas.Event(e, a);\n        });\n      }, this.events.find = function (e) {\n        if (!a.events.list || \"undefined\" == typeof a.events.list.length) return null;\n\n        for (var t = a.events.list.length, i = 0; i < t; i++) if (a.events.list[i].id === e) return new Abhaas.Event(a.events.list[i], a);\n\n        return null;\n      }, this.events.findRecurrent = function (e, t) {\n        if (!a.events.list || \"undefined\" == typeof a.events.list.length) return null;\n\n        for (var i = a.events.list.length, n = 0; n < i; n++) if (a.events.list[n].recurrentMasterId === e && a.events.list[n].start.getTime() === t.getTime()) return new Abhaas.Event(a.events.list[n], a);\n\n        return null;\n      }, this.events.update = function (e, t) {\n        var i = {};\n        i.oldEvent = new Abhaas.Event(e.copy(), a), i.newEvent = new Abhaas.Event(e.temp(), a);\n        var n = new Abhaas.Action(a, \"EventUpdate\", i, t);\n        return e.commit(), a.I && a.update(), a.Jd.notify(), n;\n      }, this.events.remove = function (e, t) {\n        var i = {};\n        i.e = new Abhaas.Event(e.data, a);\n        var n = new Abhaas.Action(a, \"EventRemove\", i, t),\n            o = Abhaas.indexOf(a.events.list, e.data);\n        return a.events.list.splice(o, 1), a.I && a.update(), a.Jd.notify(), n;\n      }, this.events.add = function (e, t) {\n        e instanceof Abhaas.Event || (e = new Abhaas.Event(e)), e.calendar = a, a.events.list || (a.events.list = []), a.events.list.push(e.data);\n        var i = {};\n        i.e = e;\n        var n = new Abhaas.Action(a, \"EventAdd\", i, t);\n        return a.I && a.update(), a.Jd.notify(), n;\n      }, this.events.filter = function (e) {\n        a.events.Ed = e, a.$b();\n      }, this.events.load = function (e, t, i) {\n        var n = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            o = function (e) {\n          var i,\n              o = e.request;\n\n          try {\n            i = JSON.parse(o.responseText);\n          } catch (e) {\n            var r = {};\n            return r.exception = e, void n(r);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var l = {};\n            if (l.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, l.data = i, \"function\" == typeof t && t(l), l.preventDefault.value) return;\n            a.events.list = i, a.I && a.update();\n          }\n        };\n\n        if (a.eventsLoadMethod && \"POST\" === a.eventsLoadMethod.toUpperCase()) Abhaas.ajax({\n          \"method\": \"POST\",\n          \"data\": {\n            \"start\": a.visibleStart().toString(),\n            \"end\": a.visibleEnd().toString()\n          },\n          \"url\": e,\n          \"success\": o,\n          \"error\": n\n        });else {\n          var r = e,\n              l = \"start=\" + a.visibleStart().toString() + \"&end=\" + a.visibleEnd().toString();\n          r += r.indexOf(\"?\") > -1 ? \"&\" + l : \"?\" + l, Abhaas.ajax({\n            \"method\": \"GET\",\n            \"url\": r,\n            \"success\": o,\n            \"error\": n\n          });\n        }\n      }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) {\n        if (e) {\n          if (!e.isAction) throw \"Abhaas.Action object required for queue.add()\";\n          a.queue.list.push(e);\n        }\n      }, this.queue.notify = function (e) {\n        var t = {};\n        t.actions = a.queue.list, a.O(\"Notify\", t, e, \"Notify\"), a.queue.list = [];\n      }, this.queue.clear = function () {\n        a.queue.list = [];\n      }, this.queue.pop = function () {\n        return a.queue.list.pop();\n      }, this.Lf = function (e) {\n        return \"DateTime\" === a.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart();\n      }, this.lf = function (e) {\n        return \"DateTime\" === a.eventEndSpec ? e : e.getDatePart().addDays(1);\n      }, this.Nf = function (e) {\n        return \"DateTime\" === a.eventEndSpec ? e : e.getDatePart();\n      }, this.Ca = function (e) {\n        if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.H >= this.autoRefreshMaxCount)) {\n          this.Mf();\n          var t = this.autoRefreshInterval;\n          if (!t || t < 10) throw \"The minimum autoRefreshInterval is 10 seconds\";\n          this.autoRefreshTimeout = window.setTimeout(function () {\n            a.vd();\n          }, 1e3 * this.autoRefreshInterval);\n        }\n      }, this.Mf = function () {\n        this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout);\n      }, this.vd = function () {\n        if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {\n          var e = !1;\n\n          if (\"function\" == typeof this.onAutoRefresh) {\n            var i = {};\n            i.i = this.H, i.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, a.onAutoRefresh(i), i.preventDefault.value && (e = !0);\n          }\n\n          !e && this.z() && this.commandCallBack(this.autoRefreshCommand), this.H++;\n        }\n\n        this.H < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () {\n          a.vd();\n        }, 1e3 * this.autoRefreshInterval));\n      }, this.$b = function (e) {\n        if (this.cells) {\n          var e = e || {},\n              t = !e.eventsOnly;\n          a.cssOnly || (a.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), a.V(), a.gf(), a.la(), t && (a.Nc.clearCache(), a.hf(), a.if()), a.ta(), a.ya(), a.za(), this.visible ? this.show() : this.hide();\n        }\n      }, this.update = function (e) {\n        this.Od(e), this.$b();\n      }, this.dispose = function () {\n        var e = a;\n        e.nav.top && (e.Mf(), e.V(), e.nav.top.removeAttribute(\"style\"), e.nav.top.removeAttribute(\"class\"), e.nav.top.innerHTML = \"\", e.nav.top.dp = null, e.nav.top.onmousemove = null, e.nav.top.ontouchstart = null, e.nav.top.ontouchmove = null, e.nav.top.ontouchend = null, e.nav.top = null, Abhaas.ue(window, \"resize\", e.Y), t.unregister(e));\n      }, this.xd = function () {\n        t.globalHandlers || (t.globalHandlers = !0, Abhaas.re(document, \"mousemove\", t.gMouseMove), Abhaas.re(document, \"mouseup\", t.gMouseUp)), Abhaas.re(window, \"resize\", this.Y);\n      }, this.aa = function () {\n        e();\n      }, this.gb = function () {\n        if (a.todo && a.todo.del) {\n          var e = a.todo.del;\n          e.parentNode.removeChild(e), a.todo.del = null;\n        }\n      }, this.pc = function () {\n        switch (a.J) {\n          case \"aspnet\":\n            if (!this.T()) throw new Abhaas.Exception(\"ASP.NET WebForms environment required. https://doc.Abhaas.org/common/asp-net-webforms-required/\");\n            break;\n\n          case \"netmvc\":\n            if (!this.backendUrl) throw new Abhaas.Exception(\"Abhaas.Scheduler.backendUrl required. https://doc.Abhaas.org/common/backendurl-required-asp-net-mvc/\");\n            break;\n\n          case \"javaxx\":\n            if (!this.backendUrl) throw new Abhaas.Exception(\"Abhaas.Scheduler.backendUrl required. https://doc.Abhaas.org/common/backendurl-required-java/\");\n        }\n      }, this.ya = function () {\n        \"hidden\" === this.nav.top.style.visibility && (this.nav.top.style.visibility = \"visible\");\n      }, this.show = function () {\n        a.visible = !0, a.nav.top.style.display = \"\";\n      }, this.hide = function () {\n        a.visible = !1, a.nav.top.style.display = \"none\";\n      }, this.Vd = function () {\n        if (this.id && this.id.tagName) this.nav.top = this.id;else {\n          if (\"string\" != typeof this.id) throw \"Abhaas.Month() constructor requires the target element or its ID as a parameter\";\n          if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw \"Abhaas.Month: The placeholder element not found: '\" + i + \"'.\";\n        }\n\n        (function (s) {})(\"wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<\");\n      }, this.Wd = function () {\n        this.Vd(), this.gf(), this.sc(), this.if(), this.ta(), this.xd(), this.Ca(), this.O(\"Init\"), t.register(this);\n      }, this.init = function () {\n        if (this.pc(), this.Vd(), !this.nav.top.dp) {\n          var e = l.loadFromServer();\n          return a.cssOnly || (a.cssOnly = !0, window.console && window.console.log && window.console.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), e ? (this.Wd(), void (this.I = !0)) : (this.gf(), this.la(), this.sc(), this.if(), this.ya(), this.za(), this.ta(), this.xd(), this.messageHTML && this.message(this.messageHTML), this.ga(null, !1), a.initEventEnabled && setTimeout(function () {\n            a.O(\"Init\");\n          }), this.Ca(), t.register(this), this.I = !0, this.Xd(), this);\n        }\n      }, this.Yd = null, this.Od = function (e) {\n        if (e) {\n          var t = {\n            \"events\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? a.events.list = e.list : a.events.list = e);\n              }\n            }\n          };\n          this.Yd = t;\n\n          for (var i in e) if (t[i]) {\n            var n = t[i];\n            n.data = e[i], n.preInit && n.preInit();\n          } else a[i] = e[i];\n        }\n      }, this.Xd = function () {\n        var e = this.Yd;\n\n        for (var t in e) {\n          var i = e[t];\n          i.postInit && i.postInit();\n        }\n      }, this.internal = {}, this.internal.initialized = function () {\n        return a.I;\n      }, this.internal.invokeEvent = this.$a, this.internal.eventMenuClick = this.kb, this.internal.timeRangeMenuClick = this.lb, this.internal.bubbleCallBack = this.ib, this.internal.findEventDiv = this.Id, this.internal.adjustEndIn = this.lf, this.internal.touch = a.lc, this.Init = this.init, this.Od(n);\n    }, Abhaas.Month.makeDraggable = function (e) {\n      function i() {\n        var i = e.duration || 60;\n        i instanceof Abhaas.Duration && (i = i.totalSeconds());\n        var n = t.drag = {};\n        n.element = a, n.id = e.id, n.duration = i, n.text = e.text || \"\", n.data = e, n.shadowType = \"Fill\";\n      }\n\n      var n = e.element,\n          a = e.keepElement ? null : n;\n      e.duration || 1;\n      navigator.msPointerEnabled && (n.style.msTouchAction = \"none\", n.style.touchAction = \"none\");\n\n      var o = function (e) {\n        i();\n        var t = e.target || e.srcElement;\n\n        if (t.tagName) {\n          var n = t.tagName.toLowerCase();\n          if (\"textarea\" === n || \"select\" === n || \"input\" === n) return !1;\n        }\n\n        return e.preventDefault && e.preventDefault(), !1;\n      },\n          r = function (e) {\n        if (!Abhaas.Util.isMouseEvent(e)) {\n          window.setTimeout(function () {\n            i(), t.gTouchMove(e), e.preventDefault();\n          }, 0), e.preventDefault();\n        }\n      };\n\n      Abhaas.us(n), Abhaas.re(n, \"mousedown\", o), Abhaas.re(n, Abhaas.touch.start, r), n.cancelDraggable = function () {\n        Abhaas.ue(n, \"mousedown\", o), Abhaas.ue(n, Abhaas.touch.start, r), delete n.cancelDraggable;\n      };\n    }, t.createGShadow = function () {\n      var e = document.createElement(\"div\");\n      return e.setAttribute(\"unselectable\", \"on\"), e.style.position = \"absolute\", e.style.width = \"100px\", e.style.height = \"20px\", e.style.border = \"2px dotted #666666\", e.style.zIndex = 101, e.style.pointerEvents = \"none\", e.style.backgroundColor = \"#aaaaaa\", e.style.opacity = .5, e.style.filter = \"alpha(opacity=50)\", e.style.border = \"2px solid #aaaaaa\", document.body.appendChild(e), e;\n    }, t.gMouseMove = function (e) {\n      if (\"undefined\" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {\n        var i = Abhaas.mc(e);\n\n        if (t.drag) {\n          document.body.style.cursor = \"move\", t.gShadow || (t.gShadow = t.createGShadow());\n          var n = t.gShadow;\n          n.style.left = i.x + \"px\", n.style.top = i.y + \"px\", t.movingEvent = null, Abhaas.de(t.movingShadow), t.movingShadow = null;\n        }\n\n        for (var a = 0; a < t.registered.length; a++) t.registered[a].aa && t.registered[a].aa();\n      }\n    }, t.register = function (e) {\n      t.registered || (t.registered = []);\n\n      for (var i = 0; i < t.registered.length; i++) if (t.registered[i] === e) return;\n\n      t.registered.push(e);\n    }, t.unregister = function (e) {\n      var i = t.registered;\n\n      if (i) {\n        var n = Abhaas.indexOf(i, e);\n        n !== -1 && i.splice(n, 1), 0 === i.length && (i = null);\n      }\n\n      i || (Abhaas.ue(document, \"mouseup\", t.gMouseUp), t.globalHandlers = !1);\n    }, t.gMouseUp = function (e) {\n      function i() {\n        t.drag && (t.drag = null, document.body.style.cursor = \"\"), t.gShadow && (document.body.removeChild(t.gShadow), t.gShadow = null);\n      }\n\n      if (i(), t.movingEvent) {\n        var n = t.movingEvent;\n        if (t.movingEvent = null, !(n.event && n.event.calendar && n.event.calendar.shadow && n.event.calendar.shadow.start)) return;\n        var a = n.event.calendar,\n            o = n.event,\n            r = a.shadow.start,\n            l = a.shadow.position,\n            s = n.offset,\n            d = n.external,\n            c = n.removeElement;\n        c && (a.todo || (a.todo = {}), a.todo.del = c), a.tf();\n        var e = e || window.event;\n        return a.fb(o, r.x, r.y, s, e, l, d), e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), !1;\n      }\n\n      if (t.resizingEvent) {\n        var n = t.resizingEvent;\n        if (t.resizingEvent = null, !(n.event && n.event.calendar && n.event.calendar.shadow && n.event.calendar.shadow.start)) return;\n        var a = n.event.calendar,\n            o = n.event,\n            r = a.shadow.start,\n            h = a.shadow.width;\n        return a.tf(), a.cb(o, r, h), e.cancelBubble = !0, !1;\n      }\n\n      if (t.timeRangeSelecting) {\n        if (t.timeRangeSelecting.moved) {\n          var u = t.timeRangeSelecting,\n              a = u.root,\n              r = new Abhaas.Date(a.uf(u.from.x, u.from.y)),\n              f = r.addDays(u.width);\n          a.mb(r, f);\n        }\n\n        t.timeRangeSelecting = null;\n      }\n    }, \"undefined\" != typeof jQuery && !function (e) {\n      e.fn.AbhaasMonth = function (e) {\n        var t = null,\n            i = this.each(function () {\n          if (!this.Abhaas) {\n            var i = new Abhaas.Month(this.id, e);\n            i.init(), this.Abhaas = i, t || (t = i);\n          }\n        });\n        return 1 === this.length ? t : i;\n      };\n    }(jQuery), function () {\n      var e = Abhaas.am();\n      e && e.directive(\"AbhaasMonth\", [\"$parse\", function (e) {\n        return {\n          \"restrict\": \"E\",\n          \"template\": \"<div id='{{id}}'></div>\",\n          \"compile\": function (t, i) {\n            return t.replaceWith(this[\"template\"].replace(\"{{id}}\", i[\"id\"])), function (t, i, n) {\n              var a = new Abhaas.Month(i[0]);\n              a.Jd.scope = t, a.init();\n              var o = n[\"id\"];\n              o && (t[o] = a);\n              var r = n[\"publishAs\"];\n\n              if (r) {\n                (0, e(r).assign)(t, a);\n              }\n\n              for (var l in n) if (0 === l.indexOf(\"on\")) {\n                var s = Abhaas.Util.shouldApply(l);\n                s ? !function (i) {\n                  a[i] = function (a) {\n                    var o = e(n[i]);\n                    t[\"$apply\"](function () {\n                      o(t, {\n                        \"args\": a\n                      });\n                    });\n                  };\n                }(l) : !function (i) {\n                  a[i] = function (a) {\n                    e(n[i])(t, {\n                      \"args\": a\n                    });\n                  };\n                }(l);\n              }\n\n              var d = t[\"$watch\"],\n                  c = n[\"config\"] || n[\"AbhaasConfig\"],\n                  h = n[\"events\"] || n[\"AbhaasEvents\"];\n              d.call(t, c, function (e, t) {\n                for (var i in e) a[i] = e[i];\n\n                a.update();\n              }, !0), d.call(t, h, function (e) {\n                a.events.list = e, a.$b({\n                  \"eventsOnly\": !0\n                });\n              }, !0);\n            };\n          }\n        };\n      }]);\n    }(), \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  if (\"undefined\" == typeof Abhaas.Navigator) {\n    Abhaas.Navigator = function (e, t) {\n      this.v = \"2019.3.4000\";\n      var i = this;\n      this.id = e, this.api = 2, this.isNavigator = !0, this.autoFocusOnClick = !0, this.weekStarts = \"Auto\", this.selectMode = \"day\", this.titleHeight = 30, this.dayHeaderHeight = 30, this.bound = null, this.cellWidth = 30, this.cellHeight = 30, this.cssOnly = !0, this.cssClassPrefix = \"navigator_default\", this.freeHandSelectionEnabled = !1, this.selectionStart = new Abhaas.Date().getDatePart(), this.selectionEnd = null, this.selectionDay = null, this.showMonths = 1, this.skipMonths = 1, this.command = \"navigate\", this.year = new Abhaas.Date().getYear(), this.month = new Abhaas.Date().getMonth() + 1, this.showWeekNumbers = !1, this.weekNumberAlgorithm = \"Auto\", this.rowsPerMonth = \"Six\", this.orientation = \"Vertical\", this.locale = \"en-us\", this.visible = !0, this.timeRangeSelectedHandling = \"Bind\", this.visibleRangeChangedHandling = \"Enabled\", this.onVisibleRangeChange = null, this.onVisibleRangeChanged = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.nav = {}, this.G = {}, this.Of = function () {\n        this.root.dp = this, this.cssOnly ? this.root.className = this.t(\"_main\") : this.root.className = this.t(\"main\"), \"Horizontal\" === this.orientation ? (this.root.style.width = this.showMonths * (7 * o.cellWidth() + this.Pf()) + \"px\", this.root.style.height = 6 * this.cellHeight + this.titleHeight + this.dayHeaderHeight + \"px\") : this.root.style.width = 7 * o.cellWidth() + this.Pf() + \"px\", this.root.style.position = \"relative\", this.visible || (this.root.style.display = \"none\");\n        var e = document.createElement(\"input\");\n        e.type = \"hidden\", e.name = i.id + \"_state\", e.id = e.name, this.root.appendChild(e), this.state = e, this.startDate ? this.startDate = new Abhaas.Date(this.startDate).firstDayOfMonth() : this.startDate = Abhaas.Date.fromYearMonthDay(this.year, this.month), this.calendars = [], this.selected = [], this.months = [];\n      }, this.Da = function () {\n        return 2 === i.api;\n      }, this.hf = function () {\n        this.root.innerHTML = \"\";\n      }, this.t = function (e) {\n        var t = this.theme || this.cssClassPrefix;\n        return t ? t + e : \"\";\n      }, this.Qf = function (e, t) {\n        var i = this.cssOnly ? this.t(\"_\" + t) : this.t(t);\n        Abhaas.Util.addClass(e, i);\n      }, this.Rf = function (e, t) {\n        var i = this.cssOnly ? this.t(\"_\" + t) : this.t(t);\n        Abhaas.Util.removeClass(e, i);\n      }, this.if = function (e, t) {\n        var n = {};\n        n.cells = [], n.days = [], n.weeks = [];\n        var a = this.startDate.addMonths(e),\n            r = t.before,\n            l = t.after,\n            s = a.firstDayOfMonth(),\n            d = s.firstDayOfWeek(o.weekStarts()),\n            c = s.addMonths(1),\n            h = Abhaas.DateUtil.daysDiff(d, c),\n            u = \"Auto\" === this.rowsPerMonth ? Math.ceil(h / 7) : 6;\n        n.rowCount = u;\n        var f = new Abhaas.Date().getDatePart(),\n            v = 7 * o.cellWidth() + this.Pf();\n        n.width = v;\n        var p = this.cellHeight * u + this.titleHeight + this.dayHeaderHeight;\n        n.height = p;\n        var g = document.createElement(\"div\");\n        if (g.style.width = v + \"px\", g.style.height = p + \"px\", \"Horizontal\" === this.orientation) g.style.position = \"absolute\", g.style.left = v * e + \"px\", g.style.top = \"0px\", n.top = 0, n.left = v * e;else {\n          g.style.position = \"relative\";\n          var m = e > 0 ? i.months[e - 1].top + i.months[e - 1].height : 0;\n          n.top = m, n.left = 0;\n        }\n        this.cssOnly ? g.className = this.t(\"_month\") : g.className = this.t(\"month\"), g.style.cursor = \"default\", g.style.MozUserSelect = \"none\", g.style.KhtmlUserSelect = \"none\", g.style.WebkitUserSelect = \"none\", g.month = n, this.root.appendChild(g);\n        var y = this.titleHeight + this.dayHeaderHeight,\n            b = document.createElement(\"div\");\n        b.style.position = \"absolute\", b.style.left = \"0px\", b.style.top = \"0px\", b.style.width = o.cellWidth() + \"px\", b.style.height = this.titleHeight + \"px\", b.style.lineHeight = this.titleHeight + \"px\", b.setAttribute(\"unselectable\", \"on\"), this.cssOnly ? b.className = this.t(\"_titleleft\") : b.className = this.t(\"titleleft\"), t.left && (b.style.cursor = \"pointer\", b.innerHTML = \"<span>&lt;</span>\", b.onclick = this.Sf), g.appendChild(b), this.tl = b;\n        var w = document.createElement(\"div\");\n        w.style.position = \"absolute\", w.style.left = o.cellWidth() + \"px\", w.style.top = \"0px\", w.style.width = 5 * o.cellWidth() + this.Pf() + \"px\", w.style.height = this.titleHeight + \"px\", w.style.lineHeight = this.titleHeight + \"px\", w.setAttribute(\"unselectable\", \"on\"), this.cssOnly ? w.className = this.t(\"_title\") : w.className = this.t(\"title\"), w.innerHTML = o.locale().monthNames[a.getMonth()] + \" \" + a.getYear(), g.appendChild(w), this.ti = w;\n        var D = document.createElement(\"div\");\n        D.style.position = \"absolute\", D.style.left = 6 * o.cellWidth() + this.Pf() + \"px\", D.style.top = \"0px\", D.style.width = o.cellWidth() + \"px\", D.style.height = this.titleHeight + \"px\", D.style.lineHeight = this.titleHeight + \"px\", D.setAttribute(\"unselectable\", \"on\"), this.cssOnly ? D.className = this.t(\"_titleright\") : D.className = this.t(\"titleright\"), t.right && (D.style.cursor = \"pointer\", D.innerHTML = \"<span>&gt;</span>\", D.onclick = this.Tf), g.appendChild(D), this.tr = D;\n        var k = this.Pf();\n        if (this.showWeekNumbers) for (var P = 0; P < u; P++) {\n          var x = d.addDays(7 * P),\n              C = null;\n\n          switch (this.weekNumberAlgorithm) {\n            case \"Auto\":\n              C = 1 === o.weekStarts() ? x.weekNumberISO() : x.weekNumber();\n              break;\n\n            case \"US\":\n              C = x.weekNumber();\n              break;\n\n            case \"ISO8601\":\n              C = x.weekNumberISO();\n              break;\n\n            default:\n              throw \"Unknown weekNumberAlgorithm value.\";\n          }\n\n          var S = document.createElement(\"div\");\n          S.style.position = \"absolute\", S.style.left = \"0px\", S.style.top = P * this.cellHeight + y + \"px\", S.style.width = o.cellWidth() + \"px\", S.style.height = this.cellHeight + \"px\", S.style.lineHeight = this.cellHeight + \"px\", S.setAttribute(\"unselectable\", \"on\"), this.cssOnly ? S.className = this.t(\"_weeknumber\") : S.className = this.t(\"weeknumber\"), S.innerHTML = \"<span>\" + C + \"</span>\", g.appendChild(S), n.weeks.push(S);\n        }\n\n        for (var E = 0; E < 7; E++) {\n          n.cells[E] = [];\n          var S = document.createElement(\"div\");\n          S.style.position = \"absolute\", S.style.left = E * o.cellWidth() + k + \"px\", S.style.top = this.titleHeight + \"px\", S.style.width = o.cellWidth() + \"px\", S.style.height = this.dayHeaderHeight + \"px\", S.style.lineHeight = this.dayHeaderHeight + \"px\", S.setAttribute(\"unselectable\", \"on\"), this.cssOnly ? S.className = this.t(\"_dayheader\") : S.className = this.t(\"dayheader\"), S.innerHTML = \"<span>\" + this.Uf(E) + \"</span>\", g.appendChild(S), n.days.push(S);\n\n          for (var P = 0; P < u; P++) {\n            var x = d.addDays(7 * P + E),\n                A = this.Vf(x) && \"none\" !== this.Wf(),\n                T = x.firstDayOfMonth() === a,\n                M = x < a,\n                H = x >= a.addMonths(1);\n            if (\"month\" === this.Wf()) A = A && T;else if (\"day\" === this.Wf()) A = A && (T || r && M || l && H);else if (\"week\" === this.Wf()) {\n              var _ = x.firstDayOfMonth() === a;\n\n              A = A && (_ || r && M || l && H);\n            }\n            var R = document.createElement(\"div\");\n            n.cells[E][P] = R;\n            var B = i.Xf(E, P),\n                N = B.x,\n                U = B.y;\n            R.day = x, R.x = E, R.y = P, R.left = N, R.top = U, R.isCurrentMonth = T, R.isNextMonth = H, R.isPrevMonth = M, R.showBefore = r, R.showAfter = l, this.cssOnly ? R.className = this.t(T ? \"_day\" : \"_dayother\") : R.className = this.t(T ? \"day\" : \"dayother\"), i.Qf(R, \"cell\"), x.getTime() === f.getTime() && T && this.Qf(R, \"today\"), 0 !== x.dayOfWeek() && 6 !== x.dayOfWeek() || this.Qf(R, \"weekend\"), R.style.position = \"absolute\", R.style.left = N + \"px\", R.style.top = U + \"px\", R.style.width = o.cellWidth() + \"px\", R.style.height = this.cellHeight + \"px\", R.style.lineHeight = this.cellHeight + \"px\";\n            var L = document.createElement(\"div\");\n            L.style.position = \"absolute\", this.cssOnly ? L.className = x.getTime() === f.getTime() && T ? this.t(\"_todaybox\") : this.t(\"_daybox\") : L.className = x.getTime() === f.getTime() && T ? this.t(\"todaybox\") : this.t(\"daybox\"), i.Qf(L, \"cell_box\"), L.style.left = \"0px\", L.style.top = \"0px\", L.style.right = \"0px\", L.style.bottom = \"0px\", R.appendChild(L);\n            var O = null;\n\n            if (this.cells && this.cells[x.toStringSortable()] && (O = this.cells[x.toStringSortable()]), \"function\" == typeof i.onBeforeCellRender) {\n              var z = {};\n              z.cell = O || {}, z.cell.day = x, z.cell.isCurrentMonth = T, z.cell.isToday = x.getTime() === f.getTime() && T, z.cell.isWeekend = 0 === x.dayOfWeek() || 6 === x.dayOfWeek(), O ? (z.cell.html = O.html || x.getDay(), z.cell.cssClass = O.css) : (z.cell.html = x.getDay(), z.cell.cssClass = null), i.onBeforeCellRender(z), O = z.cell;\n            }\n\n            if (O && Abhaas.Util.addClass(R, O.cssClass || O.css), T || r && M || l && H) {\n              var I = document.createElement(\"div\");\n              I.innerHTML = x.getDay(), I.style.position = \"absolute\", I.style.left = \"0px\", I.style.top = \"0px\", I.style.right = \"0px\", I.style.bottom = \"0px\", i.Qf(I, \"cell_text\"), R.isClickable = !0, O && O.html && (I.innerHTML = O.html), R.appendChild(I);\n            }\n\n            R.setAttribute(\"unselectable\", \"on\"), R.onclick = this.Yf, g.appendChild(R), A && (i.Zf(g, E, P), this.selected.push(R));\n          }\n        }\n\n        var j = document.createElement(\"div\");\n        j.style.position = \"absolute\", j.style.left = \"0px\", j.style.top = y - 2 + \"px\", j.style.width = 7 * o.cellWidth() + this.Pf() + \"px\", j.style.height = \"1px\", j.style.fontSize = \"1px\", j.style.lineHeight = \"1px\", this.cssOnly ? j.className = this.t(\"_line\") : j.className = this.t(\"line\"), g.appendChild(j), this.months.push(n);\n      }, this.Xf = function (e, t) {\n        var i = this.titleHeight + this.dayHeaderHeight,\n            n = this.Pf();\n        return {\n          \"x\": e * o.cellWidth() + n,\n          \"y\": t * this.cellHeight + i\n        };\n      }, this.Zf = function (e, t, n) {\n        var a = e.month.cells[t][n];\n        i.Qf(a, \"select\");\n      }, this.$f = function (e, t, n) {\n        var a = e.month.cells[t][n];\n        i.Rf(a, \"select\");\n      }, this.Pf = function () {\n        return this.showWeekNumbers ? o.cellWidth() : 0;\n      }, this._f = function () {\n        if (this.items) for (var e = 0; e < this.showMonths; e++) for (var t = 0; t < 7; t++) for (var i = 0; i < 6; i++) {\n          var n = this.months[e].cells[t][i];\n          n && (1 === this.items[n.day.toStringSortable()] ? this.Qf(n, \"busy\") : this.Rf(n, \"busy\"));\n        }\n      }, this.ag = function () {\n        var e = {};\n        e.startDate = i.startDate, e.selectionStart = i.selectionStart, e.selectionEnd = i.selectionEnd.addDays(1), i.state.value = JSON.stringify(e);\n      }, this.Wf = function () {\n        return (this.selectMode || \"\").toLowerCase();\n      }, this.bg = function () {\n        var e = this.selectionDay || this.selectionStart;\n        e || (e = Abhaas.Date.today());\n        var e = new Abhaas.Date(e);\n\n        switch (this.Wf()) {\n          case \"day\":\n            this.selectionStart = e, this.selectionDay = e, this.selectionEnd = e;\n            break;\n\n          case \"week\":\n            this.selectionDay = e, this.selectionStart = e.firstDayOfWeek(o.weekStarts()), this.selectionEnd = this.selectionStart.addDays(6);\n            break;\n\n          case \"month\":\n            this.selectionDay = e, this.selectionStart = e.firstDayOfMonth(), this.selectionEnd = this.selectionStart.lastDayOfMonth();\n            break;\n\n          case \"none\":\n            this.selectionEnd = e;\n            break;\n\n          default:\n            throw \"Unknown selectMode value.\";\n        }\n      }, this.cg = null, this.select = function (e, t) {\n        if (!this.I) return void (this.cg = {\n          \"date\": e,\n          \"options\": t\n        });\n        var i = !0,\n            n = !0;\n        \"object\" == typeof t ? (t.dontFocus && (i = !1), t.dontNotify && (n = !1)) : \"boolean\" == typeof t && (i = !t);\n        var a = this.selectionStart,\n            o = this.selectionEnd;\n        this.selectionStart = new Abhaas.Date(e).getDatePart(), this.selectionDay = this.selectionStart;\n        var r = !1;\n\n        if (i) {\n          var l = this.startDate;\n          (this.selectionStart < this.dg() || this.selectionStart >= this.eg()) && (l = this.selectionStart.firstDayOfMonth()), l.toStringSortable() !== this.startDate.toStringSortable() && (r = !0), this.startDate = l;\n        }\n\n        this.bg(), this.hf(), this.Of(), this.fg(), this._f(), this.ag(), !n || a.equals(this.selectionStart) && o.equals(this.selectionEnd) || this.mb(), r && this.gg();\n      }, this.update = function (e) {\n        if (i.Nd) throw new Abhaas.Exception(\"This Abhaas.Navigator instance has been disposed.\");\n        i.hg(), i.Od(e), i.$b();\n      }, this.$b = function () {\n        i.cssOnly || (i.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), this.hf(), this.Of(), this.bg(), this.fg(), this.la(), this._f(), this.ag(), this.visible ? this.show() : this.hide();\n      }, this.hg = function () {\n        i.G = {};\n      }, this.Yd = null, this.Od = function (e) {\n        if (e) {\n          var t = {\n            \"events\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? i.events.list = e.list : i.events.list = e);\n              }\n            }\n          };\n          this.Yd = t;\n\n          for (var n in e) if (t[n]) {\n            var a = t[n];\n            a.data = e[n], a.preInit && a.preInit();\n          } else i[n] = e[n];\n        }\n      }, this.Xd = function () {\n        var e = this.Yd;\n\n        for (var t in e) {\n          var i = e[t];\n          i.postInit && i.postInit();\n        }\n      }, this.O = function (e, t, i) {\n        var n = {};\n        n.action = e, n.parameters = i, n.data = t, n.header = this.N();\n        var a = \"JSON\" + JSON.stringify(n);\n        this.backendUrl ? Abhaas.request(this.backendUrl, this.Q, a, this.R) : WebForm_DoCallback(this.uniqueID, a, this.S, null, this.callbackError, !0);\n      }, this.R = function (e) {\n        if (\"function\" == typeof i.onAjaxError) {\n          var t = {};\n          t.request = e, i.onAjaxError(t);\n        } else \"function\" == typeof i.ajaxError && i.ajaxError(e);\n      }, this.Q = function (e) {\n        i.S(e.responseText);\n      }, this.M = function (e, t, n) {\n        var a = {};\n        a.action = e, a.parameters = n, a.data = t, a.header = this.N();\n        var o = \"JSON\" + JSON.stringify(a);\n\n        __doPostBack(i.uniqueID, o);\n      }, this.N = function () {\n        var e = {};\n        return e.v = this.v, e.startDate = this.startDate, e.selectionStart = this.selectionStart, e.showMonths = this.showMonths, e;\n      }, this.ig = function (e, t) {\n        \"refresh\" === e && this.gg();\n      }, this.Uf = function (e) {\n        var t = e + o.weekStarts();\n        return t > 6 && (t -= 7), o.locale().dayNamesShort[t];\n      }, this.Vf = function (e) {\n        return null !== this.selectionStart && null !== this.selectionEnd && this.selectionStart.getTime() <= e.getTime() && e.getTime() <= this.selectionEnd.getTime();\n      }, this.jg = function (e) {\n        for (var t = 0; t < i.months.length; t++) {\n          var n = i.months[t];\n          if (!n) return null;\n          if (e.x < n.left || n.width < e.x) return null;\n          i.months[t].height;\n          if (n.top <= e.y && e.y < n.top + n.height) return t;\n        }\n\n        return null;\n      }, this.kg = function (e) {\n        var t = Abhaas.mo3(i.nav.top, e),\n            n = i.jg(t);\n        if (null === n) return null;\n        var a = i.months[n],\n            o = this.titleHeight + this.dayHeaderHeight;\n        if (a.top <= t.y && t.y < a.top + o) return {\n          \"month\": n,\n          \"x\": 0,\n          \"y\": 0,\n          \"coords\": t,\n          \"header\": !0\n        };\n\n        for (var r = 0; r < a.cells.length; r++) for (var l = 0; l < a.cells[r].length; l++) {\n          var s = a.cells[r][l],\n              d = s.top + a.top,\n              c = s.left + a.left;\n          if (c <= t.x && t.x < c + i.cellWidth && d <= t.y && t.y < d + i.cellHeight) return {\n            \"month\": n,\n            \"x\": r,\n            \"y\": l,\n            \"coords\": t\n          };\n        }\n\n        return null;\n      }, this.lg = function (e) {\n        if (i.freeHandSelectionEnabled) {\n          var t = i.kg(e);\n          t && !t.header && (n.start = t), i.months[t.month].cells[t.x][t.y], e.preventDefault();\n        }\n      }, this.mg = function (e) {\n        if (n.start) {\n          var t = i.kg(e);\n          if (n.end) n.end = t;else if (t) {\n            var a = 3,\n                o = Abhaas.distance(n.start.coords, t.coords);\n            o > a && (n.end = t);\n          }\n          n.end && (n.clear(), n.draw());\n        }\n      }, this.ng = {};\n      var n = this.ng;\n      n.start = null, n.drawCell = function (e) {\n        var t = i.months[e.month],\n            a = i.Xf(e.x, e.y),\n            o = t.top + a.y,\n            r = t.left + a.x,\n            l = document.createElement(\"div\");\n        l.style.position = \"absolute\", l.style.left = r + \"px\", l.style.top = o + \"px\", l.style.height = i.cellHeight + \"px\", l.style.width = i.cellWidth + \"px\", l.style.backgroundColor = \"#ccc\", l.style.opacity = .5, l.style.cursor = \"default\", i.nav.preselection.appendChild(l), n.cells.push(l);\n      }, n.clear = function () {\n        if (n.cells) {\n          for (var e = 0; e < n.cells.length; e++) i.nav.preselection.removeChild(n.cells[e]);\n\n          n.cells = [];\n        }\n      }, n.draw = function () {\n        var e = n.ordered(),\n            t = new a(e.start),\n            o = e.end;\n\n        if (o) {\n          if (o === n.end && o.header && o.month > 0) {\n            o.month -= 1;\n            var r = i.months[o.month];\n            o.x = 6, o.y = r.rowCount - 1;\n          }\n\n          for (n.cells = []; !t.is(o);) {\n            n.drawCell(t);\n            var l = new a(t).next();\n            if (!l) return;\n            t.month = l.month, t.x = l.x, t.y = l.y;\n          }\n\n          n.drawCell(t);\n        }\n      }, n.ordered = function () {\n        var e = n.start,\n            t = n.end,\n            i = {};\n        return !t || new a(e).before(t) ? (i.start = e, i.end = t) : (i.start = t, i.end = e), i;\n      };\n\n      var a = function (e, t, n) {\n        if (e instanceof a) return e;\n\n        if (\"object\" == typeof e) {\n          var o = e;\n          this.month = o.month, this.x = o.x, this.y = o.y;\n        } else this.month = e, this.x = t, this.y = n;\n\n        this.is = function (e) {\n          return this.month === e.month && this.x === e.x && this.y === e.y;\n        }, this.next = function () {\n          var e = this;\n          if (e.x < 6) return {\n            \"month\": e.month,\n            \"x\": e.x + 1,\n            \"y\": e.y\n          };\n          var t = i.months[e.month];\n          return e.y < t.rowCount - 1 ? {\n            \"month\": e.month,\n            \"x\": 0,\n            \"y\": e.y + 1\n          } : e.month < i.months.length - 1 ? {\n            \"month\": e.month + 1,\n            \"x\": 0,\n            \"y\": 0\n          } : null;\n        }, this.visible = function () {\n          var e = this.cell();\n          return !!e.isCurrentMonth || !(!e.isPrevMonth || !e.showBefore) || !(!e.isNextMonth || !e.showAfter);\n        }, this.nextVisible = function () {\n          for (var e = this; !e.visible();) {\n            var t = e.next();\n            if (!t) return null;\n            e = new a(t);\n          }\n\n          return e;\n        }, this.previous = function () {\n          var e = this;\n          if (e.x > 0) return {\n            \"month\": e.month,\n            \"x\": e.x - 1,\n            \"y\": e.y\n          };\n          i.months[e.month];\n          if (e.y > 0) return {\n            \"month\": e.month,\n            \"x\": 6,\n            \"y\": e.y - 1\n          };\n\n          if (e.month > 0) {\n            var t = i.months[e.month - 1];\n            return {\n              \"month\": e.month - 1,\n              \"x\": 6,\n              \"y\": t.rowCount - 1\n            };\n          }\n\n          return null;\n        }, this.previousVisible = function () {\n          for (var e = this; !e.visible();) {\n            var t = e.previous();\n            if (!t) return null;\n            e = new a(t);\n          }\n\n          return e;\n        }, this.cell = function () {\n          return i.months[this.month].cells[this.x][this.y];\n        }, this.date = function () {\n          return this.cell().day;\n        }, this.before = function (e) {\n          return this.date() < new a(e).date();\n        };\n      };\n\n      this.Yf = function (e) {\n        var t = this.parentNode,\n            n = this.parentNode.month,\n            a = this.x,\n            o = this.y,\n            r = n.cells[a][o].day;\n\n        if (n.cells[a][o].isClickable) {\n          i.clearSelection(), i.selectionDay = r;\n          var r = i.selectionDay;\n\n          switch (i.Wf()) {\n            case \"none\":\n              i.selectionStart = r, i.selectionEnd = r;\n              break;\n\n            case \"day\":\n              if (i.autoFocusOnClick) {\n                var l = r;\n                if (r < i.dg() || r >= i.eg()) return void i.select(r);\n              }\n\n              var s = n.cells[a][o];\n              i.Zf(t, a, o), i.selected.push(s), i.selectionStart = s.day, i.selectionEnd = s.day;\n              break;\n\n            case \"week\":\n              if (i.autoFocusOnClick) {\n                var l = n.cells[0][o].day,\n                    d = n.cells[6][o].day;\n                if (l.firstDayOfMonth() === d.firstDayOfMonth() && (l < i.dg() || d >= i.eg())) return void i.select(r);\n              }\n\n              for (var c = 0; c < 7; c++) i.Zf(t, c, o), i.selected.push(n.cells[c][o]);\n\n              i.selectionStart = n.cells[0][o].day, i.selectionEnd = n.cells[6][o].day;\n              break;\n\n            case \"month\":\n              if (i.autoFocusOnClick) {\n                var l = r;\n                if (r < i.dg() || r >= i.eg()) return void i.select(r);\n              }\n\n              for (var l = null, d = null, o = 0; o < 6; o++) for (var a = 0; a < 7; a++) {\n                var s = n.cells[a][o];\n                s && s.day.getYear() === r.getYear() && s.day.getMonth() === r.getMonth() && (i.Zf(t, a, o), i.selected.push(s), null === l && (l = s.day), d = s.day);\n              }\n\n              i.selectionStart = l, i.selectionEnd = d;\n              break;\n\n            default:\n              throw \"unknown selectMode\";\n          }\n\n          i.ag(), i.mb();\n        }\n      }, this.mb = function (e) {\n        var t = i.selectionStart,\n            n = i.selectionEnd.addDays(1),\n            a = Abhaas.DateUtil.daysDiff(t, n),\n            o = i.selectionDay;\n\n        if (e = e || {}, i.Da()) {\n          var r = {};\n          if (r.start = t, r.end = n, r.day = o, r.days = a, r.mode = e.mode || i.selectMode, r.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof i.onTimeRangeSelect && (i.onTimeRangeSelect(r), r.preventDefault.value)) return;\n\n          switch (i.timeRangeSelectedHandling) {\n            case \"Bind\":\n              var l = Abhaas.Util.evalVariable(i.bound);\n\n              if (l) {\n                var s = {};\n                s.start = t, s.end = n, s.days = a, s.day = o, l.commandCallBack(i.command, s);\n              }\n\n              break;\n\n            case \"None\":\n              break;\n\n            case \"PostBack\":\n              i.timeRangeSelectedPostBack(t, n, o);\n          }\n\n          \"function\" == typeof i.onTimeRangeSelected && i.onTimeRangeSelected(r);\n        } else switch (i.timeRangeSelectedHandling) {\n          case \"Bind\":\n            var l = Abhaas.Util.evalVariable(i.bound);\n\n            if (l) {\n              var s = {};\n              s.start = t, s.end = n, s.days = a, s.day = o, l.commandCallBack(i.command, s);\n            }\n\n            break;\n\n          case \"JavaScript\":\n            i.onTimeRangeSelected(t, n, o);\n            break;\n\n          case \"None\":\n            break;\n\n          case \"PostBack\":\n            i.timeRangeSelectedPostBack(t, n, o);\n        }\n      }, this.timeRangeSelectedPostBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.day = n, this.M(\"TimeRangeSelected\", i, a);\n      }, this.Tf = function (e) {\n        i.og(i.skipMonths);\n      }, this.Sf = function (e) {\n        i.og(-i.skipMonths);\n      }, this.og = function (e) {\n        this.startDate = this.startDate.addMonths(e), this.hf(), this.Of(), this.fg(), this.ag(), this.gg(), this._f();\n      }, this.dg = function () {\n        return i.startDate.firstDayOfMonth();\n      }, this.eg = function () {\n        return i.startDate.firstDayOfMonth().addMonths(this.showMonths);\n      }, this.visibleStart = function () {\n        return i.startDate.firstDayOfMonth().firstDayOfWeek(o.weekStarts());\n      }, this.visibleEnd = function () {\n        return i.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek(o.weekStarts()).addDays(42);\n      }, this.gg = function () {\n        var e = this.visibleStart(),\n            t = this.visibleEnd();\n\n        if (i.Da()) {\n          var n = {};\n          if (n.start = e, n.end = t, n.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof i.onVisibleRangeChange && (i.onVisibleRangeChange(n), n.preventDefault.value)) return;\n\n          switch (this.visibleRangeChangedHandling) {\n            case \"CallBack\":\n              this.visibleRangeChangedCallBack(null);\n              break;\n\n            case \"PostBack\":\n              this.visibleRangeChangedPostBack(null);\n              break;\n\n            case \"Disabled\":\n          }\n\n          \"function\" == typeof i.onVisibleRangeChanged && i.onVisibleRangeChanged(n);\n        } else switch (this.visibleRangeChangedHandling) {\n          case \"CallBack\":\n            this.visibleRangeChangedCallBack(null);\n            break;\n\n          case \"PostBack\":\n            this.visibleRangeChangedPostBack(null);\n            break;\n\n          case \"JavaScript\":\n            this.onVisibleRangeChanged(e, t);\n            break;\n\n          case \"Disabled\":\n        }\n      }, this.visibleRangeChangedCallBack = function (e) {\n        var t = {};\n        this.O(\"Visible\", e, t);\n      }, this.visibleRangeChangedPostBack = function (e) {\n        var t = {};\n        this.M(\"Visible\", e, t);\n      }, this.S = function (e, t) {\n        var e = JSON.parse(e);\n        i.items = e.Items, i.cells = e.Cells, i.cells ? i.update() : i._f();\n      }, this.fg = function () {\n        for (var e = 0; e < this.showMonths; e++) {\n          var t = this.pg(e);\n          this.if(e, t);\n        }\n\n        this.root.style.height = this.Df() + \"px\", this.nav.preselection = document.createElement(\"div\"), this.nav.preselection.style.position = \"absolute\", this.nav.preselection.style.left = \"0px\", this.nav.preselection.style.top = \"0px\", this.root.appendChild(this.nav.preselection);\n      }, this.Df = function () {\n        if (\"Horizontal\" === this.orientation) {\n          for (var e = 0, t = 0; t < this.months.length; t++) {\n            var i = this.months[t];\n            i.height > e && (e = i.height);\n          }\n\n          return e;\n        }\n\n        for (var n = 0, t = 0; t < this.months.length; t++) {\n          var i = this.months[t];\n          n += i.height;\n        }\n\n        return n;\n      }, this.pg = function (e) {\n        if (this.internal.showLinks) return this.internal.showLinks;\n        var t = {};\n        return t.left = 0 === e, t.right = 0 === e, t.before = 0 === e, t.after = e === this.showMonths - 1, \"Horizontal\" === this.orientation && (t.right = e === this.showMonths - 1), t;\n      }, this.Jd = {}, this.Jd.scope = null, this.Jd.notify = function () {\n        i.Jd.scope && i.Jd.scope[\"$apply\"]();\n      }, this.internal = {}, this.internal.initialized = function () {\n        return i.I;\n      }, this.Nc = {};\n      var o = this.Nc;\n      o.locale = function () {\n        return Abhaas.Locale.find(i.locale);\n      }, o.weekStarts = function () {\n        if (\"Auto\" === i.weekStarts) {\n          var e = o.locale();\n          return e ? e.weekStarts : 0;\n        }\n\n        return i.weekStarts;\n      }, o.cellWidth = function () {\n        if (i.G.cellWidth) return i.G.cellWidth;\n        var e = i.Qd(\"_cell_dimensions\").width;\n        return e || (e = i.cellWidth), i.G.cellWidth = e, e;\n      }, this.clearSelection = function () {\n        for (var e = 0; e < this.selected.length; e++) {\n          var t = this.selected[e];\n          i.$f(t.parentNode, t.x, t.y);\n        }\n\n        this.selected = [];\n      }, this.Ud = function () {\n        return !!this.backendUrl && (\"undefined\" == typeof i.items || !i.items);\n      }, this.events = {}, this.la = function () {\n        if (Abhaas.isArray(this.events.list)) {\n          this.items = {};\n\n          for (var e = 0; e < this.events.list.length; e++) {\n            var t = this.events.list[e];\n\n            if (!t.hidden) {\n              var i = this.qg(t);\n\n              for (var n in i) this.items[n] = 1;\n            }\n          }\n        }\n      }, this.Qd = function (e) {\n        var t = document.createElement(\"div\");\n        t.style.position = \"absolute\", t.style.top = \"-2000px\", t.style.left = \"-2000px\", t.className = this.t(e);\n        var n = i.root || document.body;\n        n.appendChild(t);\n        var a = t.offsetHeight,\n            o = t.offsetWidth;\n        n.removeChild(t);\n        var r = {};\n        return r.height = a, r.width = o, r;\n      }, this.qg = function (e) {\n        for (var t = new Abhaas.Date(e.start), i = new Abhaas.Date(e.end), n = {}, a = t.getDatePart(); a.getTime() < i.getTime();) n[a.toStringSortable()] = 1, a = a.addDays(1);\n\n        return n;\n      }, this.show = function () {\n        i.visible = !0, i.root.style.display = \"\";\n      }, this.hide = function () {\n        i.visible = !1, i.root.style.display = \"none\";\n      }, this.Vd = function () {\n        if (this.id && this.id.tagName) this.nav.top = this.id;else {\n          if (\"string\" != typeof this.id) throw \"Abhaas.Navigator() constructor requires the target element or its ID as a parameter\";\n          if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw \"Abhaas.Navigator: The placeholder element not found: '\" + e + \"'.\";\n        }\n        this.root = this.nav.top;\n      }, this.init = function () {\n        if (this.Vd(), !this.root.dp) {\n          i.cssOnly || (i.cssOnly = !0, Abhaas.Util.log(\"Abhaas: cssOnly = false mode is not supported since Abhaas Pro 8.0.\")), this.bg(), this.Of(), this.fg(), this.la(), this._f(), this.Z(), this.rg(), this.xd();\n          return this.Ud() && this.gg(), this.I = !0, this.Xd(), this.cg && (this.select(this.cg.date, this.cg.options), this.cg = null), this;\n        }\n      }, this.rg = function () {\n        i.nav.top.onmousedown = this.lg, i.nav.top.onmousemove = this.mg;\n      }, this.xd = function () {\n        Abhaas.re(document, \"mouseup\", i.ye);\n      }, this.ye = function (e) {\n        if (n.start && n.end) {\n          var t = Abhaas.mo3(i.nav.top, e);\n          if (t.x === n.start.coords.x && t.y === n.start.coords.y) return n.start = null, void n.clear();\n          n.clear();\n          var o = n.ordered();\n          o.start = new a(o.start).nextVisible(), o.end = new a(o.end).previousVisible(), i.selectionDay = new a(o.start).date(), i.selectionStart = i.selectionDay, i.selectionEnd = new a(o.end).date(), n.start = null, n.end = null, i.hf(), i.Of(), i.fg(), i._f(), i.ag();\n          i.mb({\n            \"mode\": \"freehand\"\n          });\n        }\n\n        n.start = null, n.end = null;\n      }, this.dispose = function () {\n        var e = i;\n        e.root && (e.root.removeAttribute(\"style\"), e.root.removeAttribute(\"class\"), e.root.dp = null, e.root.innerHTML = null, e.root = null);\n      }, this.Z = function () {\n        this.root.dispose = this.dispose;\n      }, this.Init = this.init, this.Od(t);\n    }, \"undefined\" != typeof jQuery && !function (e) {\n      e.fn.AbhaasNavigator = function (e) {\n        var t = null,\n            i = this.each(function () {\n          if (!this.Abhaas) {\n            var i = new Abhaas.Navigator(this.id);\n            this.Abhaas = i;\n\n            for (var n in e) i[n] = e[n];\n\n            i.Init(), t || (t = i);\n          }\n        });\n        return 1 === this.length ? t : i;\n      };\n    }(jQuery), function () {\n      var e = Abhaas.am();\n      e && e.directive(\"AbhaasNavigator\", [\"$parse\", function (e) {\n        return {\n          \"restrict\": \"E\",\n          \"template\": \"<div id='{{id}}'></div>\",\n          \"compile\": function (t, i) {\n            return t.replaceWith(this[\"template\"].replace(\"{{id}}\", i[\"id\"])), function (t, i, n) {\n              var a = new Abhaas.Navigator(i[0]);\n              a.Jd.scope = t, a.init();\n              var o = n[\"id\"];\n              o && (t[o] = a);\n              var r = n[\"publishAs\"];\n\n              if (r) {\n                (0, e(r).assign)(t, a);\n              }\n\n              for (var l in n) if (0 === l.indexOf(\"on\")) {\n                var s = Abhaas.Util.shouldApply(l);\n                s ? !function (i) {\n                  a[i] = function (a) {\n                    var o = e(n[i]);\n                    t[\"$apply\"](function () {\n                      o(t, {\n                        \"args\": a\n                      });\n                    });\n                  };\n                }(l) : !function (i) {\n                  a[i] = function (a) {\n                    e(n[i])(t, {\n                      \"args\": a\n                    });\n                  };\n                }(l);\n              }\n\n              var d = t[\"$watch\"],\n                  c = n[\"config\"] || n[\"AbhaasConfig\"],\n                  h = n[\"events\"] || n[\"AbhaasEvents\"];\n              d.call(t, c, function (e, t) {\n                for (var i in e) a[i] = e[i];\n\n                a.update();\n              }, !0), d.call(t, h, function (e) {\n                a.events.list = e, a.la(), a._f();\n              }, !0);\n            };\n          }\n        };\n      }]);\n    }(), \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\nif (\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  function e(e) {\n    for (var t = e.touches[0].clientX, i = e.touches[0].clientY, n = document.elementFromPoint(t, i); n && n.parentNode;) if (n = n.parentNode, n.AbhaasMainD) return n.calendar;\n\n    return !1;\n  }\n\n  function t(e) {\n    var t = e.touches[0].pageX,\n        i = e.touches[0].pageY,\n        n = {};\n    return n.x = t, n.y = i, n;\n  }\n\n  if (\"undefined\" == typeof Abhaas.Scheduler) {\n    var i = function () {\n      var e = navigator.userAgent;\n      return e.indexOf(\"Mozilla/5.0\") > -1 && e.indexOf(\"Android \") > -1 && e.indexOf(\"AppleWebKit\") > -1 && !(e.indexOf(\"Chrome\") > -1);\n    }(),\n        n = {},\n        a = function () {},\n        o = !1;\n\n    Abhaas.Scheduler = function (e, o) {\n      function d(e, t) {\n        return 1 - e / t;\n      }\n\n      this.v = \"2019.3.4000\";\n      var c = this;\n      this.id = e, this.isScheduler = !0, this.allowDefaultContextMenu = !1, this.allowEventOverlap = !0, this.allowMultiMove = !1, this.allowMultiRange = !1, this.allowMultiResize = !1, this.allowMultiSelect = !0, this.api = 2, this.multiSelectRectangle = \"Disabled\", this.autoRefreshCommand = \"refresh\", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = \"Drag\", this.blockOnCallBack = !1, this.navigatorBackSync = null, this.backendUrl = null, this.beforeCellRenderCaching = !0, this.businessBeginsHour = 9, this.businessEndsHour = 18, this.businessWeekends = !1, this.cellDuration = 60, this.cellGroupBy = \"Day\", this.cellSweeping = !0, this.cellSweepingCacheSize = 1e3, this.cellWidth = 40, this.cellWidthMin = 1, this.cellWidthSpec = \"Fixed\", this.cellsMarkBusiness = !0, this.cornerHtml = \"\", this.crosshairTimeHeaderLevel = \"Last\", this.crosshairType = \"Header\", this.cssClassPrefix = \"scheduler_default\", this.days = 1, this.doubleClickTimeout = 300, this.dragOutAllowed = !1, this.drawBlankCells = !0, this.durationBarHeight = 3, this.durationBarVisible = !0, this.durationBarMode = \"Duration\", this.dynamicEventRendering = \"Progressive\", this.dynamicEventRenderingMargin = 50, this.dynamicEventRenderingMarginX = null, this.dynamicEventRenderingMarginY = null, this.dynamicEventRenderingCacheSweeping = !1, this.dynamicEventRenderingCacheSize = 200, this.dynamicLoading = !1, this.eventEditMinWidth = 100, this.eventEndSpec = \"DateTime\", this.eventHeight = 35, this.eventHtmlLeftMargin = 10, this.eventHtmlRightMargin = 10, this.eventMarginLeft = 0, this.eventMarginRight = 0, this.eventMarginBottom = 0, this.eventMinWidth = 1, this.eventMoveMargin = 5, this.eventMoveToPosition = !1, this.eventMoveSkipNonBusiness = !1, this.eventResizeMargin = 5, this.eventStackingLineHeight = 100, this.eventTapAndHoldHandling = \"Move\", this.eventTextWrappingEnabled = !1, this.eventUpdateInplaceOptimization = !1, this.eventsLoadMethod = \"GET\", this.eventVersionsEnabled = !1, this.eventVersionHeight = 25, this.eventVersionMargin = 2, this.eventVersionPosition = \"Above\", this.floatingEvents = !0, this.floatingTimeHeaders = !0, this.groupConcurrentEvents = !1, this.groupConcurrentEventsLimit = 1, this.headerHeight = 30, this.heightSpec = \"Max\", this.height = 600, this.hideBorderFor100PctHeight = !1, this.hideUntilInit = !0, this.infiniteScrollingEnabled = !1, this.infiniteScrollingMargin = 50, this.infiniteScrollingStepDays = 30, this.initEventEnabled = !0, this.jointEventsResize = !0, this.jointEventsMove = !0, this.layout = \"Auto\", this.linkCreateHandling = \"Disabled\", this.linkBottomMargin = 10, this.linkPointSize = 10, this.linksLoadMethod = \"GET\", this.locale = \"en-us\", this.loadingLabelText = \"Loading...\", this.loadingLabelVisible = !0, this.overrideWheelScrolling = !1, this.messageBarPosition = \"Top\", this.messageHideAfter = 5e3, this.messageHideOnMouseOut = !0, this.multiMoveVerticalMode = \"Disabled\", this.moveBy = \"Full\", this.notifyCommit = \"Immediate\", this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rowCreateHeight = null, this.rowCreateHtml = \"New row...\", this.rowHeaderColumnDefaultWidth = 80, this.rowHeaderHideIconEnabled = !1, this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderWidthAutoFit = !0, this.rowHeaderWidthMarginRight = 0, this.rowHeaderColumnsResizable = !0, this.rowHeaderColumnsMode = \"Legacy\", this.rowHeaderColumns = null, this.rowHeaderWidth = 80, this.rowMarginBottom = 0, this.rowMarginTop = 0, this.rowMinHeight = 0, this.rowsLoadMethod = \"GET\", this.scale = \"CellDuration\", this.scrollDelayDynamic = 500, this.scrollDelayEvents = 200, this.scrollDelayCells = 0, this.scrollDelayFloats = 0, this.scrollStep = null, this.scrollX = 0, this.scrollY = 0, this.selectedRows = [], this.separators = [], this.showNonBusiness = !0, this.showNonBusinessForceHours = !1, this.showToolTip = !0, this.snapToGrid = !0, this.snapToGridTimeRangeSelecting = !0, this.snapToGridEventMoving = !0, this.snapToGridEventResizing = !0, this.startDate = Abhaas.Date.today(), this.syncResourceTree = !1, this.tapAndHoldTimeout = 300, this.timeHeaders = [{\n        \"groupBy\": \"Default\"\n      }, {\n        \"groupBy\": \"Cell\"\n      }], this.timeHeaderPosition = \"Top\", this.timeHeaderTextWrappingEnabled = !1, this.treeAnimation = !0, this.treeAutoExpand = !0, this.treeEnabled = !1, this.treeIndent = 20, this.treeImageMarginLeft = 5, this.treeImageMarginTop = 3, this.treeImageMarginRight = 2, this.treeImageWidth = 10, this.treeImageHeight = 10, this.treePreventParentUsage = !1, this.timeFormat = \"Auto\", this.timeline = null, this.useEventBoxes = \"Always\", this.viewType = \"Resources\", this.visible = !0, this.watchWidthChanges = !0, this.weekStarts = \"Auto\", this.width = null, this.zoomLevels = [], this.zoomPosition = \"left\", this.eventClickHandling = \"Enabled\", this.eventDeleteHandling = \"Disabled\", this.eventHoverHandling = \"Bubble\", this.eventDoubleClickHandling = \"Disabled\", this.eventEditHandling = \"Update\", this.eventMoveHandling = \"Update\", this.eventResizeHandling = \"Update\", this.eventRightClickHandling = \"ContextMenu\", this.eventSelectHandling = \"Update\", this.resourceCollapseHandling = \"Enabled\", this.resourceExpandHandling = \"Enabled\", this.rowClickHandling = \"Enabled\", this.rowDoubleClickHandling = \"Disabled\", this.rowRightClickHandling = \"ContextMenu\", this.rowCreateHandling = \"Disabled\", this.rowEditHandling = \"Update\", this.rowHeaderColumnResizedHandling = \"Update\", this.rowSelectHandling = \"Update\", this.rowMoveHandling = \"Disabled\", this.timeHeaderClickHandling = \"Enabled\", this.timeRangeClickHandling = \"Enabled\", this.timeRangeDoubleClickHandling = \"Disabled\", this.timeRangeSelectedHandling = \"Enabled\", this.timeRangeRightClickHandling = \"ContextMenu\", this.timeRangeSelectingStartEndEnabled = !1, this.timeRangeSelectingStartEndFormat = \"MMMM d, yyyy\", this.eventMovingStartEndEnabled = !1, this.eventMovingStartEndFormat = \"MMMM d, yyyy\", this.eventResizingStartEndEnabled = !1, this.eventResizingStartEndFormat = \"MMMM d, yyyy\", \"function\" == typeof Abhaas.Bubble ? this.bubble = new Abhaas.Bubble() : this.bubble = null, this.cellBubble = null, this.resourceBubble = null, Abhaas.browser.ie && (this.scrollDelayCells = 100, this.scrollDelayFloats = 100), 1 === c.api && (this.onEventMove = function () {}, this.onEventResize = function () {}, this.onResourceExpand = function () {}, this.onResourceCollapse = function () {}), this.onEventClick = null, this.onEventClicked = null, this.onEventMove = null, this.onEventMoved = null;\n      this.onEventMoving = null;\n      this.onEventResize = null, this.onEventResized = null, this.onEventResizing = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventMouseOver = null, this.onEventMouseOut = null, this.onIncludeTimeCell = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowMouseOver = null, this.onRowMouseOut = null, this.onRowRightClick = null, this.onRowRightClicked = null, this.onTimeRangeClick = null, this.onTimeRangeClicked = null, this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onRowHeaderResized = null, this.onCellMouseOver = null, this.onCellMouseOut = null, this.onGridMouseDown = null, this.onBeforeCellRender = null, this.onBeforeCornerRender = null, this.onBeforeCornerDomAdd = null, this.onBeforeEventRender = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeTimeHeaderRender = null, this.onBeforeResHeaderRender = null, this.onBeforeRowHeaderRender = null, this.onBeforeRowHeaderDomAdd = null, this.onBeforeRowHeaderDomRemove = null, this.onBeforeCellExport = null, this.onBeforeEventExport = null, this.onBeforeTimeHeaderExport = null, this.onBeforeRowHeaderExport = null, this.onAfterEventRender = null, this.onAfterCellRender = null, this.onEventFilter = null, this.onRowFilter = null, this.onRectangleEventSelecting = null, this.onRectangleEventSelect = null, this.onRectangleEventSelected = null, this.onDimensionsChanged = null, this.onAfterUpdate = null, this.H = 0, this.sg = !0, this.tg = !1, this.ug = !1, this.vg = !1, this.wg = -1, this.xg = -1, this.Nd = !1, this.yg = -1, this.zg = !1, this.Ag = !0, this.rowlist = Abhaas.list(), this.itline = Abhaas.list(), this.events = {}, this.cells = {}, this.elements = {}, this.elements.events = [], this.elements.bars = [], this.elements.text = [], this.elements.cells = [], this.elements.linesVertical = [], this.elements.separators = [], this.elements.range = [], this.elements.breaks = [], this.elements.links = [], this.elements.linkpoints = [], this.elements.rectangle = [], this.elements.hover = [], this.G = {}, this.G.cells = [], this.G.linesVertical = {}, this.G.linesHorizontal = {}, this.G.timeHeaderGroups = [], this.G.timeHeader = {}, this.G.pixels = [], this.G.breaks = [], this.G.events = [], this.clientState = {}, this.members = {}, this.members.obsolete = [\"Init\", \"cleanSelection\", \"cssClassPrefix\", \"getHScrollPosition\", \"setHScrollPosition\", \"getVScrollPosition\", \"setVScrollPosition\", \"showBaseTimeHeader\"], this.members.ignoreFilter = function (e) {\n        return 0 === e.indexOf(\"div\");\n      }, this.members.ignore = [\"internal\", \"nav\", \"debug\", \"temp\", \"elements\", \"members\", \"cellProperties\", \"itline\", \"rowlist\", \"timeHeader\", \"timeouts\", \"rowHeaderCols\"], this.members.noCssOnly = [], this.J = \"javasc\", this.nav = {}, this.S = function (e, t) {\n        var e = JSON.parse(e);\n        if (c.onScrollCalled = !1, e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);\n\n        if (\"function\" == typeof c.onCallBackResult) {\n          var i = {};\n          if (i.result = e, i.preventDefault = function () {\n            i.preventDefault.value = !0;\n          }, c.onCallBackResult(i), i.preventDefault.value) return c.gb(), c.fa(), c.Ca(), e.Message && c.message && c.message(e.Message), c.ga(e.CallBackData, !0), c.Bg(), void c.Cg();\n        }\n\n        if (e.BubbleGuid) {\n          var n = e.BubbleGuid,\n              a = this.bubbles[n];\n          return delete this.bubbles[n], c.fa(), \"undefined\" != typeof e.Result.BubbleHTML && a && a.updateView(e.Result.BubbleHTML, a), void c.Bg();\n        }\n\n        if (\"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), \"undefined\" != typeof e.ClientState && (null === e.ClientState ? c.clientState = {} : c.clientState = e.ClientState), \"None\" === e.UpdateType) return c.fa(), c.Bg(), e.Message && c.message(e.Message), void c.ga(e.CallBackData, !0);\n\n        if (e.VsUpdate) {\n          var o = document.createElement(\"input\");\n          o.type = \"hidden\", o.name = c.id + \"_vsupdate\", o.id = o.name, o.value = e.VsUpdate, c.ef.innerHTML = \"\", c.ef.appendChild(o);\n        }\n\n        \"undefined\" != typeof e.TagFields && (c.tagFields = e.TagFields), \"undefined\" != typeof e.SortDirections && (c.sortDirections = e.SortDirections), c.G.drawArea = null, \"Full\" === e.UpdateType && (c.resources = e.Resources, c.colors = e.Colors, c.palette = e.Palette, c.dirtyColors = e.DirtyColors, c.cellProperties = e.CellProperties, c.cellConfig = e.CellConfig, c.separators = e.Separators, c.timeline = e.Timeline, c.timeHeader = e.TimeHeader, c.timeHeaders = e.TimeHeaders, \"undefined\" != typeof e.Links && (c.links.list = e.Links), \"undefined\" != typeof e.RowHeaderColumns && (c.rowHeaderColumns = e.RowHeaderColumns), c.startDate = e.StartDate ? new Abhaas.Date(e.StartDate) : c.startDate, c.days = e.Days ? e.Days : c.days, c.cellDuration = e.CellDuration ? e.CellDuration : c.cellDuration, c.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : c.cellGroupBy, c.cellWidth = e.CellWidth ? e.CellWidth : c.cellWidth, \"undefined\" != typeof e.Scale && (c.scale = e.Scale), c.viewType = e.ViewType ? e.ViewType : c.viewType, \"undefined\" != typeof e.ShowNonBusiness && (c.showNonBusiness = e.ShowNonBusiness), c.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : c.businessBeginsHour, c.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : c.businessEndsHour, \"undefined\" != typeof e.DynamicLoading && (c.dynamicLoading = e.DynamicLoading), \"undefined\" != typeof e.TreeEnabled && (c.treeEnabled = e.TreeEnabled), c.locale = e.Locale ? e.Locale : c.locale, \"undefined\" != typeof e.TimeZone && (c.timeZone = e.TimeZone), c.timeFormat = e.TimeFormat ? e.TimeFormat : c.timeFormat, c.rowHeaderCols = e.RowHeaderCols ? e.RowHeaderCols : c.rowHeaderCols, \"undefined\" != typeof e.DurationBarMode && (c.durationBarMode = e.DurationBarMode), \"undefined\" != typeof e.CornerHTML && (c.cornerHtml = e.CornerHTML), c.hashes = e.Hashes, c.Dg(), c.Eg(), c.Fg(), c.ka()), \"Scroll\" !== e.Action && c.la(e.Events), \"Full\" === e.UpdateType && (c.Gg(), c.Hg()), c.Ig(), c.ya(), c.Jg(), c.G.drawArea = null, \"Scroll\" !== e.Action ? (c.Kg(), c.ma(), \"Auto\" !== c.heightSpec && \"Max\" !== c.heightSpec || c.ta(), c.Lg(), c.V(), c.Mg(), c.multiselect.clear(!0), c.multiselect.Ng(e.SelectedEvents), c.Og(), c.Pg(), c.za()) : (c.multiselect.clear(!0), c.multiselect.Ng(e.SelectedEvents), c.Qg(e.Events)), \"HoldForever\" !== c.timeRangeSelectedHandling && c.Rg(), \"Full\" === e.UpdateType && (c.setScroll(e.ScrollX, e.ScrollY), c.ag()), c.Sg(), c.gb(), e.SelectedRows && c.Tg(e.SelectedRows), c.fa(), \"Full\" === e.UpdateType && navigator.appVersion.indexOf(\"MSIE 7.\") !== -1 && window.setTimeout(function () {\n          c.Gg(), c.ta();\n        }, 0), c.Ca(), e.Message && c.message && c.message(e.Message), c.ga(e.CallBackData, !0), c.Bg(), c.Cg(), \"Full\" !== e.UpdateType || \"Scroll\" === e.Action || c.onScrollCalled || setTimeout(function () {\n          c.Ug();\n        }, 0);\n      }, this.gb = function () {\n        if (c.todo && c.todo.del) {\n          var e = c.todo.del;\n          e.parentNode.removeChild(e), c.todo.del = null;\n        }\n      }, this.ga = function (e, t) {\n        var i = function (e, t) {\n          return function () {\n            if (c.Da()) {\n              if (\"function\" == typeof c.onAfterRender) {\n                var i = {};\n                i.isCallBack = t, i.isScroll = !1, i.data = e, c.onAfterRender(i);\n              }\n            } else c.afterRender && c.afterRender(e, t);\n          };\n        };\n\n        window.setTimeout(i(e, t), 0);\n      }, this.scrollTo = function (e, t, i) {\n        var n = Abhaas.Util.overlaps(c.visibleStart(), c.visibleEnd(), e, e);\n        return c.infiniteScrollingEnabled && !n ? void c.infinite.scrollTo(e) : void (c.Vg.enabled ? (c.Vg.scrollToRequested = e, setTimeout(function () {\n          var e = c.Vg.scrollToRequested;\n          e && c.Wg(e, t, i);\n        }, 0)) : c.Wg(e, t, i));\n      }, this.Wg = function (e, t, i) {\n        if (e) {\n          if (!c.I) return void (c.Xg = {\n            date: e,\n            animated: t,\n            position: i\n          });\n\n          if (\"Days\" === c.viewType) {\n            var n = c.Yg(new Abhaas.Date(e));\n            if (!n) return;\n            return void setTimeout(function () {\n              var e = n.top;\n              c.nav.scroll.scrollTop = e;\n            }, 100);\n          }\n\n          var a;\n          if (e instanceof Abhaas.Date) a = this.getPixels(e).left;else if (\"string\" == typeof e) a = this.getPixels(new Abhaas.Date(e)).left;else {\n            if (\"number\" != typeof e) throw \"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), Abhaas.Date object\";\n            a = e;\n          }\n          var o = this.Zg.clientWidth,\n              r = this.nav.scroll.clientWidth;\n\n          switch (i = i || \"left\", i.toLowerCase()) {\n            case \"left\":\n              break;\n\n            case \"middle\":\n              a -= r / 2;\n              break;\n\n            case \"right\":\n              a -= r;\n          }\n\n          if (a < 0 && (a = 0), a > o - r && (a = o - r), !t) return void c.$g(a);\n          var l = Math.abs(c.nav.scroll.scrollLeft - a),\n              s = l / o,\n              d = 50;\n          if (\"number\" == typeof t) d = t;else if (\"string\" == typeof t) switch (t) {\n            case \"fast\":\n              d = 30;\n              break;\n\n            case \"normal\":\n              d = 50;\n              break;\n\n            case \"slow\":\n              d = 100;\n              break;\n\n            case \"linear\":\n              d = Math.floor(100 * s);\n          }\n          s > .6 && (d = Math.min(d, 80)), this._g(a, d);\n        }\n      }, this._g = function (e, t) {\n        function i(e) {\n          var t = e.next();\n          return \"undefined\" == typeof t ? void (e.finished && e.finished()) : (c.setScrollX(t), window.clearTimeout(c.refreshTimeout), void setTimeout(function () {\n            i(e);\n          }, e.delay));\n        }\n\n        var n = {};\n        n.steps = [], n.index = 0, n.delay = 10, n.next = function () {\n          var e = n.steps[n.index];\n          return n.index += 1, e;\n        }, n.finished = function () {\n          c.Ug();\n        };\n\n        for (var a = c.getScrollX(), t = t || 100, o = e - a, r = 0; r < t; r++) {\n          var l = r / t,\n              s = 2 * (l - .5) / (Math.pow(2 * (l - .5), 2) + 1) + .5;\n          n.steps.push(a + o * s);\n        }\n\n        n.steps.push(e), i(n);\n      }, this.scrollToResource = function (e) {\n        Abhaas.complete(function () {\n          var t = c.ah(e);\n          t && setTimeout(function () {\n            var e = t.top;\n            c.nav.scroll.scrollTop = e;\n          }, 100);\n        });\n      }, this.bh = function () {\n        if (this.floatingTimeHeaders && this.timeHeader) {\n          var e = this.ch();\n\n          if (e) {\n            this.dh();\n\n            for (var t = e.pixels.left + u.shiftX, i = e.pixels.right + u.shiftX, n = [], a = 0; a < this.timeHeader.length; a++) for (var o = 0; o < this.timeHeader[a].length; o++) {\n              var r = this.timeHeader[a][o],\n                  l = r.left,\n                  s = r.left + r.width,\n                  d = null;\n\n              if (l < t && t < s && (d = {}, d.x = o, d.y = a, d.marginLeft = t - l, d.marginRight = 0, d.div = this.G.timeHeader[o + \"_\" + a], n.push(d)), l < i && i < s) {\n                d || (d = {}, d.x = o, d.y = a, d.marginLeft = 0, d.div = this.G.timeHeader[o + \"_\" + a], n.push(d)), d.marginRight = s - i;\n                break;\n              }\n            }\n\n            for (var c = 0; c < n.length; c++) {\n              var d = n[c];\n              this.eh(d.div, d.marginLeft, d.marginRight);\n            }\n          }\n        }\n      }, this.Sg = function () {\n        this.bh(), this.fh();\n      }, this.gh = {};\n      var h = this.gh;\n      h.eventsInRectangle = function (e, t, i, n) {\n        var a = e,\n            o = e + i,\n            r = t,\n            l = t + n;\n        return Abhaas.list(c.elements.events).filter(function (e) {\n          var t = e.event,\n              i = t.part.left,\n              n = t.part.left + t.part.width,\n              s = c.rowlist[t.part.dayIndex],\n              d = s.top + t.part.top,\n              h = d + t.part.height;\n          if (Abhaas.Util.overlaps(i, n, a, o) && Abhaas.Util.overlaps(d, h, r, l)) return !0;\n        });\n      }, h.events = function (e) {\n        var t = [],\n            e = e || \"All\",\n            i = c.ch();\n        if (!i) return Abhaas.list(t);\n\n        for (var n = i.pixels.left, a = i.pixels.right, o = 0; o < c.elements.events.length; o++) {\n          var r = c.elements.events[o],\n              l = r.event,\n              s = l.part.left,\n              d = l.part.left + l.part.width;\n\n          switch (e) {\n            case \"Left\":\n              s < n && n < d && t.push(r);\n              break;\n\n            case \"All\":\n              Abhaas.Util.overlaps(s, d, n, a) && t.push(r);\n          }\n        }\n\n        return Abhaas.list(t).addProps({\n          \"area\": i\n        });\n      }, this.fh = function () {\n        if (this.floatingEvents) {\n          var e = h.events(\"Left\");\n          this.hh(), e.filter(function (e) {\n            return \"Milestone\" !== e.event.data.type;\n          }).forEach(function (t) {\n            var i = t.event,\n                n = e.area.pixels.left,\n                a = i.part.left,\n                o = n - a;\n            c.ih(t, o, 0);\n          });\n        }\n      }, this.elements.sections = [], this.elements.hsections = [], this.eh = function (e, t, i) {\n        var n = document.createElement(\"div\");\n        n.setAttribute(\"unselectable\", \"on\"), n.className = this.t(\"_timeheader_float\"), n.style.position = \"absolute\", n.style.left = t + \"px\", n.style.right = i + \"px\", n.style.top = \"0px\", n.style.bottom = \"0px\", n.style.overflow = \"hidden\";\n        var a = document.createElement(\"div\");\n        a.className = this.t(\"_timeheader_float_inner\"), a.setAttribute(\"unselectable\", \"on\");\n        var o = e.cell.th;\n        o.innerHTML && (a.innerHTML = o.innerHTML), o.fontColor && (a.style.color = o.fontColor), n.appendChild(a), e.section = n, e.insertBefore(n, e.firstChild.nextSibling), e.firstChild.innerHTML = \"\", this.elements.hsections.push(e);\n      }, this.dh = function () {\n        for (var e = 0; e < this.elements.hsections.length; e++) {\n          var t = this.elements.hsections[e],\n              i = t.cell;\n          i && t.firstChild && (t.firstChild.innerHTML = i.th.innerHTML), Abhaas.de(t.section), t.section = null;\n        }\n\n        this.elements.hsections = [];\n      }, this.ih = function (e, t, i) {\n        var n = document.createElement(\"div\");\n        n.setAttribute(\"unselectable\", \"on\"), n.className = this.t(A.eventFloat), n.style.position = \"absolute\", n.style.left = t + \"px\", n.style.right = i + \"px\", n.style.top = \"0px\", n.style.bottom = \"0px\", n.style.overflow = \"hidden\";\n        var a = document.createElement(\"div\");\n        a.className = this.t(A.eventFloatInner), a.setAttribute(\"unselectable\", \"on\"), a.innerHTML = e.event.client.html(), e.event.data.fontColor && (a.style.color = e.event.data.fontColor), n.appendChild(a), e.section = n, e.insertBefore(n, e.firstChild.nextSibling), e.domArgs && e.domArgs.element ? e.domArgs.element.style.display = \"none\" : e.firstChild.innerHTML = \"\";\n        var o = e.event,\n            r = o.cache ? o.cache.areas : o.data.areas;\n        r = r || [];\n        var l = {\n          \"offsetX\": c.jh(a),\n          \"eventDiv\": e,\n          \"areas\": r.filter(function (e) {\n            return !(e.start || e.end);\n          })\n        };\n        Abhaas.Areas.attach(n, e.event, l), Abhaas.Areas.disable(e), this.elements.sections.push(e);\n      }, this.kh = null, this.jh = function (e) {\n        return null === c.kh && (c.kh = parseInt(new Abhaas.StyleReader(e).get(\"padding-left\"))), c.kh;\n      }, this.hh = function () {\n        for (var e = 0; e < this.elements.sections.length; e++) {\n          var t = this.elements.sections[e],\n              i = t.event;\n          i && (t.domArgs && t.domArgs.element ? t.domArgs.style.display = \"\" : t.firstChild.innerHTML = i.client.html()), Abhaas.de(t.section), Abhaas.Areas.enable(t), t.section = null;\n        }\n\n        this.elements.sections = [];\n      }, this.setScrollX = function (e) {\n        c.Vg.enabled ? (c.Vg.scrollXRequested = e, setTimeout(function () {\n          var e = c.Vg.scrollXRequested;\n          \"number\" == typeof e && c.$g(e);\n        }, 0)) : c.$g(e);\n      }, this.$g = function (e) {\n        var t = c.nav.scroll,\n            i = c.lh();\n        t.clientWidth + e > i && (e = i - t.clientWidth), c.divTimeScroll.scrollLeft = e, t.scrollLeft = e;\n      }, this.setScrollY = function (e) {\n        c.Vg.enabled ? (c.Vg.scrollYRequested = e, setTimeout(function () {\n          var e = c.Vg.scrollYRequested;\n          \"number\" == typeof e && c.mh(e);\n        }, 0)) : c.mh(e);\n      }, this.mh = function (e) {\n        var t = c.nav.scroll,\n            i = c.yg;\n        t.clientHeight + e > i && (e = i - t.clientHeight), c.divResScroll.scrollTop = e, t.scrollTop = e;\n      }, this.setScroll = function (e, t) {\n        c.setScrollX(e), c.setScrollY(t);\n      }, this.nh = function () {\n        return this.oh() + _.splitterWidth() - 1;\n      }, this.message = function (e, t) {\n        if (null !== e && c.I) {\n          var i = {};\n          \"object\" == typeof arguments[1] && (i = arguments[1], t = i.delay);\n          var n,\n              t = t || this.messageHideAfter || 2e3,\n              a = this.ph() + 1,\n              o = c.nh(),\n              r = Abhaas.sw(c.nav.scroll) + 1,\n              l = Abhaas.sh(c.nav.scroll);\n          if (this.nav.message) n = c.nav.message;else {\n            n = document.createElement(\"div\"), n.style.position = \"absolute\", n.style.left = o + \"px\", n.style.right = r + \"px\", n.style.display = \"none\", Abhaas.re(n, Abhaas.touch.start, function (e) {\n              c.nav.message.style.display = \"none\", e.preventDefault(), e.stopPropagation();\n            }), n.onmousemove = function () {\n              c.messageHideOnMouseOut && n.messageTimeout && !n.status && clearTimeout(n.messageTimeout);\n            }, n.onmouseout = function () {\n              c.messageHideOnMouseOut && \"none\" !== c.nav.message.style.display && (n.messageTimeout = setTimeout(c.Oa, 500));\n            };\n            var s = document.createElement(\"div\");\n            s.onclick = function () {\n              c.nav.message.style.display = \"none\";\n            }, s.className = this.t(\"_message\"), n.appendChild(s);\n            var d = document.createElement(\"div\");\n            d.style.position = \"absolute\", d.className = this.t(\"_message_close\"), d.onclick = function () {\n              c.nav.message.style.display = \"none\";\n            }, n.appendChild(d), this.nav.top.appendChild(n), this.nav.message = n;\n          }\n\n          var h = function () {\n            var n = c.nav.message;\n            n.firstChild.className = c.t(\"_message\"), i.cssClass && Abhaas.Util.addClass(n.firstChild, i.cssClass), c.nav.message.firstChild.innerHTML = e;\n            var o = Abhaas.sw(c.nav.scroll);\n            c.nav.message.style.right = o + \"px\";\n            var r = c.messageBarPosition || \"Top\";\n            \"Bottom\" === r ? (c.nav.message.style.bottom = l + \"px\", c.nav.message.style.top = \"\") : \"Top\" === r && (c.nav.message.style.bottom = \"\", c.nav.message.style.top = a + \"px\");\n\n            var s = function () {\n              n.messageTimeout = setTimeout(c.Oa, t);\n            };\n\n            Abhaas.fade(c.nav.message, .2, s);\n          };\n\n          clearTimeout(n.messageTimeout), \"none\" !== this.nav.message.style.display ? Abhaas.fade(c.nav.message, -.2, h) : h();\n        }\n      }, this.Oa = function () {\n        if (c.nav && c.nav.message) {\n          var e = function () {\n            c.nav.message.style.display = \"none\";\n          };\n\n          Abhaas.fade(c.nav.message, -.2, e);\n        }\n      }, this.qh = function () {\n        c.nav && c.nav.message && (c.nav.message.style.display = \"none\");\n      }, this.message.show = function (e) {\n        c.message(e);\n      }, this.message.hide = function () {\n        c.Oa();\n      }, this.rh = null, this.ta = function () {\n        if (this.nav.scroll) {\n          !function () {\n            var e = c.lh();\n            c.Zg.style.height = c.yg + \"px\", c.Zg.style.width = e + \"px\", \"Auto\" !== c.cellWidthSpec || c.uh ? e > c.nav.scroll.clientWidth ? c.nav.scroll.style.overflowX = \"auto\" : c.nav.scroll.style.overflowX = \"hidden\" : (c.nav.scroll.style.overflowX = \"hidden\", c.nav.scroll.scrollLeft = 0);\n          }();\n          var e = 1;\n          null !== this.rh && (this.nav.top.style.border = this.rh, this.rh = null), \"Parent100Pct\" !== this.heightSpec && \"Max100Pct\" !== this.heightSpec || (this.nav.top.style.height = \"100%\", this.hideBorderFor100PctHeight && (this.rh = this.nav.top.style.border, this.nav.top.style.border = \"0 none\"), this.height = parseInt(this.nav.top.clientHeight, 10) - this.ph() - e), this.nav.scroll.style.height = \"30px\";\n          var t = this.rc(),\n              i = t + this.ph() + e;\n          t >= 0 && (this.nav.scroll.style.height = t + \"px\", this.vh.style.height = t + \"px\"), this.nav.divider && ((!i || isNaN(i) || i < 0) && (i = 0), this.nav.divider.style.height = i + \"px\"), \"Parent100Pct\" !== this.heightSpec && (this.nav.top.style.height = i + \"px\"), c.nav.resScrollSpace && (c.nav.resScrollSpace.style.height = t + 20 + \"px\");\n\n          for (var n = 0; n < this.elements.separators.length; n++) this.elements.separators[n].style.height = this.yg + \"px\";\n\n          for (var n = 0; n < this.elements.linesVertical.length; n++) this.elements.linesVertical[n].style.height = this.yg + \"px\";\n\n          c.wh();\n        }\n      }, this.Eg = function () {\n        this.startDate = new Abhaas.Date(this.startDate).getDatePart(), this.G.pixels = [], this.itline = Abhaas.list();\n        var e = \"Auto\" === this.cellWidthSpec;\n\n        if (function () {\n          if (e) {\n            var t = 0;\n            c.z() && c.timeline ? t = c.timeline.length : \"Manual\" === c.scale ? t = c.timeline.length : (c.xh(), t = c.itline.length, c.itline = Abhaas.list());\n            var i = c.yh();\n\n            if (t > 0 && i > 0) {\n              var n = i / t;\n              c.cellWidth = Abhaas.Util.atLeast(n, c.cellWidthMin), c.uh = n < c.cellWidthMin;\n            }\n          }\n        }(), this.z() && this.timeline) {\n          if (this.timeline) {\n            this.itline = Abhaas.list();\n\n            for (var t = null, i = 0, n = 0; n < this.timeline.length; n++) {\n              var a = this.timeline[n],\n                  o = {};\n              if (o.start = new Abhaas.Date(a.start), o.end = a.end ? new Abhaas.Date(a.end) : o.start.addMinutes(this.cellDuration), a.width) o.left = a.left || i, o.width = a.width || this.cellWidth, i += o.width;else {\n                var r = Math.floor(i + this.cellWidth),\n                    l = r - Math.floor(i);\n                o.left = Math.floor(i), o.width = l, i += this.cellWidth;\n              }\n              o.breakBefore = t && t.ticks !== o.start.ticks, t = o.end, this.itline.push(o);\n            }\n          }\n\n          e && this.zh();\n        } else {\n          if (this.timeHeader = [], \"Manual\" === this.scale) {\n            this.itline = Abhaas.list();\n\n            for (var i = 0, t = null, n = 0; n < this.timeline.length; n++) {\n              var a = this.timeline[n],\n                  o = {};\n              if (o.start = new Abhaas.Date(a.start), o.end = a.end ? new Abhaas.Date(a.end) : o.start.addMinutes(this.cellDuration), t && o.start.ticks < t.ticks) throw \"The timeline must be sequential\";\n              var s = a.width || this.cellWidth,\n                  r = Math.floor(i + s),\n                  l = r - Math.floor(i);\n              o.left = Math.floor(i), o.width = l, i += s, o.breakBefore = t && t.ticks !== o.start.ticks, t = o.end, this.itline.push(o);\n            }\n          } else this.xh();\n\n          this.Ah();\n        }\n      }, this.infinite = {}, this.infinite.shiftStart = function (e) {\n        u.shiftStart(e);\n      }, this.infinite.scrollTo = function (e) {\n        u.shiftTo(e);\n      }, this.Bh = {};\n      var u = this.Bh;\n      u.shiftX = 0, u.active = !1, u.updateRowStarts = function () {\n        Abhaas.list(c.rowlist).each(function (e, t) {\n          e.start = c.La(), e.data = null, c.Ch(t);\n        });\n      }, u.isEnabled = function () {\n        return c.infiniteScrollingEnabled && !c.z();\n      }, u.shiftTo = function (e) {\n        var e = new Abhaas.Date(e),\n            t = e.addDays(-c.infiniteScrollingStepDays).getDatePart(),\n            i = new Abhaas.Duration(t.getTime() - c.startDate.getDatePart().getTime()).totalDays();\n        u.shiftStart(i, e);\n      }, u.shiftStart = function (e, t) {\n        var i;\n        u.active = !0;\n        var n = c.startDate,\n            a = c.startDate.addDays(e);\n        e > 0 && (i = -c.getPixels(a).left), c.startDate = c.startDate.addDays(e), c.itline = Abhaas.list(), c.G.pixels = [], c.Dh = {}, c.xh(), u.updateRowStarts(), e < 0 && (i = c.getPixels(n).left), c.timeHeader = [], c.Ah(), c.Hg(), c.cellProperties = {}, c.Lg(), c.Mg(), c.la(), c.V(), c.Ig(), c.Kg(), c.ta(), \"undefined\" != typeof t ? (c.scrollTo(new Abhaas.Date(t)), c.Ug()) : c.nav.scroll.scrollLeft += i, c.Pg(), c.za(), u.active = !1;\n      }, this.xh = function () {\n        for (var e = \"Days\" !== this.viewType ? this.startDate.addDays(this.days) : this.startDate.addDays(1), t = this.startDate, i = this.Eh(t), n = !1, a = 0, o = null; i.ticks <= e.ticks && i.ticks > t.ticks;) {\n          var r = t,\n              l = i;\n          c.showNonBusinessForceHours && \"Day\" == c.scale && (r = t.addHours(c.businessBeginsHour), l = t.addHours(c.businessEndsHour));\n          var s = this.Fh(r, l, !0);\n          if (!s.cell.start || !s.cell.end) throw new Abhaas.Exception(\"Invalid timeline cell start/end: start and/or end not specified\");\n          if (s.cell.start = new Abhaas.Date(s.cell.start), s.cell.end = new Abhaas.Date(s.cell.end), s.cell.start >= s.cell.end) throw new Abhaas.Exception(\"Invalid timeline cell start/end: end before start\");\n          if (o && o.ticks > s.cell.start.ticks) throw new Abhaas.Exception(\"Invalid timeline cell start/end: overlapping cells\");\n          n = !!(o && o.ticks < s.cell.start.ticks);\n          var d = s.cell.width || c.cellWidth;\n\n          if (s.cell.visible) {\n            var h = Math.floor(a + d),\n                u = h - Math.floor(a),\n                f = {};\n            f.start = s.cell.start, f.end = s.cell.end, f.left = Math.floor(a), f.width = u, f.breakBefore = n, this.itline.push(f), a += d, o = s.cell.end;\n          }\n\n          t = i, i = this.Eh(t);\n        }\n      }, this.zh = function () {\n        if (this.timeHeader) for (var e = 0; e < this.timeHeader.length; e++) for (var t = this.timeHeader[e], i = 0; i < t.length; i++) {\n          var n = t[i];\n          n.left = this.getPixels(new Abhaas.Date(n.start)).left;\n          var a = this.getPixels(new Abhaas.Date(n.end)).left,\n              o = a - n.left;\n          n.width = o;\n        }\n      }, this.Ah = function () {\n        var e = this.timeHeaders;\n\n        if (e || (e = [{\n          \"groupBy\": this.cellGroupBy\n        }, {\n          \"groupBy\": \"Cell\"\n        }]), this.itline.isEmpty()) {\n          this.timeHeader = [];\n\n          for (var t = 0; t < e.length; t++) this.timeHeader[t] = [];\n        } else for (var i = c.Gh(), t = 0; t < e.length; t++) {\n          var n = e[t].groupBy,\n              a = e[t].format;\n          \"Default\" === n && (n = this.cellGroupBy);\n\n          for (var o = [], r = this.La(); r.ticks < i.ticks;) {\n            var l = {};\n            if (l.start = r, l.end = this.Hh(l.start, n), l.start.ticks === l.end.ticks) break;\n            l.left = this.getPixels(l.start).left;\n            var s = this.getPixels(l.end).left,\n                d = s - l.left;\n\n            if (l.width = d, l.colspan = Math.ceil(d / (1 * this.cellWidth)), \"string\" == typeof a ? l.innerHTML = l.start.toString(a, _.locale()) : l.innerHTML = this.Ih(l, n), l.text = l.innerHTML, d > 0) {\n              if (\"function\" == typeof this.onBeforeTimeHeaderRender) {\n                var h = {};\n                h.start = l.start, h.end = l.end, h.text = l.innerHTML, h.html = l.innerHTML, h.toolTip = l.innerHTML, h.backColor = null, h.fontColor = null, h.level = this.timeHeader.length, h.cssClass = null;\n                var u = {};\n                u.header = h, this.onBeforeTimeHeaderRender(u), l.text = l.innerHTML, l.innerHTML = h.html, l.backColor = h.backColor, l.fontColor = h.fontColor, l.toolTip = h.toolTip, l.areas = h.areas, l.cssClass = h.cssClass;\n              }\n\n              o.push(l);\n            }\n\n            r = l.end;\n          }\n\n          this.timeHeader.push(o);\n        }\n      }, this.Fh = function (e, t) {\n        var i = {};\n        i.start = e, i.end = t, i.visible = !0, i.width = null;\n        var n = {};\n        if (n.cell = i, \"function\" == typeof this.onIncludeTimeCell) return this.onIncludeTimeCell(n), n;\n        if (this.showNonBusiness) return n;\n        var a = \"Days\" === c.viewType;\n        return n.cell.visible = this.isBusiness({\n          \"start\": e,\n          \"end\": t\n        }, a), n;\n      }, this.getPixels = function (e) {\n        var t = e.ticks,\n            i = this.G.pixels[t];\n        if (i) return i;\n        var n = 2218768416e5;\n\n        if (0 === this.itline.length || t < this.itline[0].start.ticks) {\n          var a = {};\n          return a.cut = !1, a.left = 0, a.boxLeft = a.left, a.boxRight = a.left, a.i = null, a;\n        }\n\n        for (var o = this.Jh(e), r = Abhaas.Util.atLeast(o.i - 1, 0), l = r; l < this.itline.length; l++) {\n          var s = this.itline[l],\n              d = s.start.ticks,\n              c = s.end.ticks;\n\n          if (d < t && t < c) {\n            var h = t - d,\n                a = {};\n            a.cut = !1, a.left = s.left + this.$c(s, h), a.boxLeft = s.left, a.boxRight = s.left + s.width, a.i = l;\n            break;\n          }\n\n          if (d === t) {\n            var a = {};\n            a.cut = !1, a.left = s.left, a.boxLeft = a.left, a.boxRight = a.left + s.width, a.i = l;\n            break;\n          }\n\n          if (c === t) {\n            var a = {};\n            a.cut = !1, a.left = s.left + s.width, a.boxLeft = a.left, a.boxRight = a.left, a.i = l + 1;\n            break;\n          }\n\n          if (t < d && t > n) {\n            var a = {};\n            a.cut = !0, a.left = s.left, a.boxLeft = a.left, a.boxRight = a.left, a.i = l;\n            break;\n          }\n\n          n = c;\n        }\n\n        if (!a) {\n          var u = this.itline[this.itline.length - 1],\n              a = {};\n          a.cut = !0, a.left = u.left + u.width, a.boxLeft = a.left, a.boxRight = a.left, a.i = null;\n        }\n\n        return this.G.pixels[t] = a, a;\n      }, this.getDate = function (e, t, i) {\n        var n = this.Kh(e, i);\n        if (!n) return null;\n        var a = n.x,\n            o = this.itline[a];\n        if (!o) return null;\n        var r = i && !t ? o.end : o.start;\n        return t ? r.addTime(this.Lh(n.cell, n.offset)) : r;\n      }, this.Kh = function (e, t) {\n        if (0 === this.itline.length) return null;\n\n        for (var i = 0, n = 0, a = 0; a < this.itline.length; a++) {\n          var o = this.itline[a];\n\n          if (i += o.width || this.cellWidth, e < i || t && e === i) {\n            var r = {};\n            return r.x = a, r.offset = e - n, r.cell = o, r;\n          }\n\n          n = i;\n        }\n\n        var o = c.itline.last(),\n            r = {};\n        return r.x = this.itline.length - 1, r.offset = o.width || this.cellWidth, r.cell = o, r;\n      }, this.Mh = function (e) {\n        return this.Jh(e);\n      }, this.Jh = function (e) {\n        var t = new Abhaas.Date(e),\n            i = 0,\n            n = this.itline[0];\n\n        if (t.ticks < n.start.ticks) {\n          var a = {};\n          return a.hidden = !0, a.previous = null, a.current = null, a.next = this.itline[0], a.i = -1, a;\n        }\n\n        var o = this.itline.length - 1,\n            r = this.itline[o];\n\n        if (t.ticks > r.end.ticks) {\n          var a = {};\n          return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, a;\n        }\n\n        if (t.ticks === r.end.ticks) {\n          var a = {};\n          return a.past = !1, a.current = this.itline[this.itline.length - 1], a.i = this.itline.length - 1, a;\n        }\n\n        for (var l = function () {\n          for (var e, n = c.itline; i <= o;) if (e = Math.floor((i + o) / 2), n[e].start.ticks > t.ticks) o = e - 1;else {\n            if (!(n[e].end.ticks < t.ticks)) return e;\n            i = e + 1;\n          }\n\n          return i;\n        }(), s = l; s < this.itline.length; s++) {\n          var d = this.itline[s];\n\n          if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {\n            var a = {};\n            return a.hidden = !1, a.current = d, a.i = s, a;\n          }\n\n          if (t.ticks < d.start.ticks) {\n            var a = {};\n            return a.hidden = !0, a.previous = s > 0 ? this.itline[s - 1] : null, a.current = null, a.next = this.itline[s], a.i = s, a;\n          }\n        }\n\n        var a = {};\n        return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, a;\n      }, this.$c = function (e, t) {\n        var i = e.width || this.cellWidth,\n            n = e.end.ticks - e.start.ticks;\n        return Math.floor(i * t / n);\n      }, this.Lh = function (e, t) {\n        var i = e.end.ticks - e.start.ticks,\n            n = e.width || this.cellWidth;\n        return Math.floor(t / n * i);\n      }, this.vf = function (e) {\n        Abhaas.Global.touch.start || n.preventEventClick || (c.Nh = {}, c.Qa(this, e));\n      }, this.eventClickPostBack = function (e, t) {\n        this.M(\"EventClick\", e, t);\n      }, this.eventClickCallBack = function (e, t) {\n        this.O(\"EventClick\", e, t);\n      }, this.Qa = function (e, t) {\n        var i = e.event;\n\n        if (i) {\n          var t = t || window.event;\n          if (\"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), !i.client.doubleClickEnabled()) return void c.Ra(e, t);\n          c.timeouts.click || (c.timeouts.click = []);\n\n          var n = function (e, t) {\n            return function () {\n              c.Ra(e, t);\n            };\n          };\n\n          c.timeouts.click.push(window.setTimeout(n(e, t), c.doubleClickTimeout));\n        }\n      }, this.Oh = function (e) {\n        return c.itline[e];\n      }, this.Ra = function (e, t) {\n        if (\"boolean\" == typeof t) throw \"Invalid _eventClickSingle parameters\";\n        var i = e.event;\n\n        if (i) {\n          var n = t.ctrlKey,\n              a = t.metaKey;\n          if (i.client.clickEnabled()) if (c.Da()) {\n            var o = {};\n            if (o.e = i, o.div = e, o.originalEvent = t, o.ctrl = n, o.meta = a, o.shift = t.shiftKey, o.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, o.control = c, o.toJSON = function () {\n              return Abhaas.Util.copyProps(o, {}, [\"e\", \"ctrl\", \"meta\", \"shift\"]);\n            }, \"function\" == typeof c.onEventClick && (c.onEventClick(o), o.preventDefault.value)) return;\n\n            switch (c.eventClickHandling) {\n              case \"PostBack\":\n                c.eventClickPostBack(i);\n                break;\n\n              case \"CallBack\":\n                c.eventClickCallBack(i);\n                break;\n\n              case \"Edit\":\n                c.Sa(e);\n                break;\n\n              case \"Select\":\n                c.Ta(e, i, n, a);\n                break;\n\n              case \"ContextMenu\":\n                var r = i.client.contextMenu();\n                r ? r.show(i) : c.contextMenu && c.contextMenu.show(i);\n                break;\n\n              case \"Bubble\":\n                c.bubble && c.bubble.showEvent(i);\n                break;\n\n              case \"RectangleSelect\":\n                if (\"Disabled\" !== c.multiSelectRectangle) return T.start(), !1;\n            }\n\n            \"function\" == typeof c.onEventClicked && c.onEventClicked(o);\n          } else switch (c.eventClickHandling) {\n            case \"PostBack\":\n              c.eventClickPostBack(i);\n              break;\n\n            case \"CallBack\":\n              c.eventClickCallBack(i);\n              break;\n\n            case \"JavaScript\":\n              c.onEventClick(i);\n              break;\n\n            case \"Edit\":\n              c.Sa(e);\n              break;\n\n            case \"Select\":\n              c.Ta(e, i, n, a);\n              break;\n\n            case \"ContextMenu\":\n              var r = i.client.contextMenu();\n              r ? r.show(i) : c.contextMenu && c.contextMenu.show(i);\n              break;\n\n            case \"Bubble\":\n              c.bubble && c.bubble.showEvent(i);\n              break;\n\n            case \"RectangleSelect\":\n              if (\"Disabled\" !== c.multiSelectRectangle) return T.start(), !1;\n          }\n        }\n      }, this.Za = function (e) {\n        if (c.Da()) {\n          var t = {};\n          if (t.e = e, t.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, t.control = c, t.toJSON = function () {\n            return Abhaas.Util.copyProps(t, {}, [\"e\"]);\n          }, \"function\" == typeof c.onEventDelete && (c.onEventDelete(t), t.preventDefault.value)) return;\n\n          switch (c.eventDeleteHandling) {\n            case \"PostBack\":\n              c.eventDeletePostBack(e);\n              break;\n\n            case \"CallBack\":\n              c.eventDeleteCallBack(e);\n              break;\n\n            case \"Update\":\n              c.events.remove(e);\n          }\n\n          \"function\" == typeof c.onEventDeleted && c.onEventDeleted(t);\n        } else switch (c.eventDeleteHandling) {\n          case \"PostBack\":\n            c.eventDeletePostBack(e);\n            break;\n\n          case \"CallBack\":\n            c.eventDeleteCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            c.onEventDelete(e);\n        }\n      }, this.eventDeletePostBack = function (e, t) {\n        this.M(\"EventDelete\", e, t);\n      }, this.eventDeleteCallBack = function (e, t) {\n        this.O(\"EventDelete\", e, t);\n      }, this.setHScrollPosition = function (e) {\n        this.nav.scroll.scrollLeft = e;\n      }, this.getScrollX = function () {\n        return this.nav.scroll.scrollLeft;\n      }, this.getHScrollPosition = this.getScrollX, this.getScrollY = function () {\n        return this.nav.scroll.scrollTop;\n      }, this.Ta = function (e, t, i, n) {\n        c.pb(e, t, i, n);\n      }, this.eventSelectPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.change = t, this.M(\"EventSelect\", n, i);\n      }, this.eventSelectCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.change = t, this.O(\"EventSelect\", n, i);\n      }, this.pb = function (e, t, i, n) {\n        var a = c.multiselect,\n            o = a.isSelected(t);\n        if (i || n || !o || 1 !== a.qb.length) if (c.Da()) {\n          a.Mb = a.events();\n          var r = {};\n          if (r.e = t, r.selected = o, r.ctrl = i, r.meta = n, r.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onEventSelect && (c.onEventSelect(r), r.preventDefault.value)) return;\n\n          switch (c.eventSelectHandling) {\n            case \"PostBack\":\n              c.eventSelectPostBack(t, l);\n              break;\n\n            case \"CallBack\":\n              \"undefined\" != typeof WebForm_InitCallback && (window.rb = \"\", window.sb = [], WebForm_InitCallback()), c.eventSelectCallBack(t, l);\n              break;\n\n            case \"Update\":\n              a.tb(e, i, n);\n          }\n\n          \"function\" == typeof c.onEventSelected && (r.change = a.isSelected(t) ? \"selected\" : \"deselected\", r.selected = a.isSelected(t), c.onEventSelected(r));\n        } else {\n          a.Mb = a.events(), a.tb(e, i, n);\n          var l = a.isSelected(t) ? \"selected\" : \"deselected\";\n\n          switch (c.eventSelectHandling) {\n            case \"PostBack\":\n              c.eventSelectPostBack(t, l);\n              break;\n\n            case \"CallBack\":\n              \"undefined\" != typeof WebForm_InitCallback && (window.rb = \"\", window.sb = [], WebForm_InitCallback()), c.eventSelectCallBack(t, l);\n              break;\n\n            case \"JavaScript\":\n              c.onEventSelect(t, l);\n          }\n        }\n      }, this.eventRightClickPostBack = function (e, t) {\n        this.M(\"EventRightClick\", e, t);\n      }, this.eventRightClickCallBack = function (e, t) {\n        this.O(\"EventRightClick\", e, t);\n      }, this.Va = function (e) {\n        if (!Abhaas.Global.touch.active && !Abhaas.Global.touch.start) {\n          var t = this.event;\n          if (e = e || window.event, e.cancelBubble = !0, !this.event.client.rightClickEnabled()) return !1;\n\n          if (c.Da()) {\n            var i = {};\n            if (i.e = t, i.div = this, i.originalEvent = e, i.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof c.onEventRightClick && (c.onEventRightClick(i), i.preventDefault.value)) return !1;\n\n            switch (c.eventRightClickHandling) {\n              case \"PostBack\":\n                c.eventRightClickPostBack(t);\n                break;\n\n              case \"CallBack\":\n                c.eventRightClickCallBack(t);\n                break;\n\n              case \"ContextMenu\":\n                var n = t.client.contextMenu();\n                n ? n.show(t) : c.contextMenu && c.contextMenu.show(this.event);\n                break;\n\n              case \"Bubble\":\n                c.bubble && c.bubble.showEvent(t);\n            }\n\n            \"function\" == typeof c.onEventRightClicked && c.onEventRightClicked(i);\n          } else switch (c.eventRightClickHandling) {\n            case \"PostBack\":\n              c.eventRightClickPostBack(t);\n              break;\n\n            case \"CallBack\":\n              c.eventRightClickCallBack(t);\n              break;\n\n            case \"JavaScript\":\n              c.onEventRightClick(t);\n              break;\n\n            case \"ContextMenu\":\n              var n = t.client.contextMenu();\n              n ? n.show(t) : c.contextMenu && c.contextMenu.show(this.event);\n              break;\n\n            case \"Bubble\":\n              c.bubble && c.bubble.showEvent(t);\n          }\n\n          return !1;\n        }\n      }, this.eventDoubleClickPostBack = function (e, t) {\n        this.M(\"EventDoubleClick\", e, t);\n      }, this.eventDoubleClickCallBack = function (e, t) {\n        this.O(\"EventDoubleClick\", e, t);\n      }, this.Ua = function (e) {\n        if (\"undefined\" != typeof Abhaas.Bubble && Abhaas.Bubble.hideActive(), c.timeouts.click) {\n          for (var t in c.timeouts.click) window.clearTimeout(c.timeouts.click[t]);\n\n          c.timeouts.click = null;\n        }\n\n        var e = e || window.event,\n            i = this.event;\n\n        if (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, c.Da()) {\n          var n = {};\n          if (n.e = i, n.originalEvent = e, n.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onEventDoubleClick && (c.onEventDoubleClick(n), n.preventDefault.value)) return;\n\n          switch (c.eventDoubleClickHandling) {\n            case \"PostBack\":\n              c.eventDoubleClickPostBack(i);\n              break;\n\n            case \"CallBack\":\n              c.eventDoubleClickCallBack(i);\n              break;\n\n            case \"Edit\":\n              c.Sa(this);\n              break;\n\n            case \"Select\":\n              c.Ta(div, i, e.ctrlKey, e.metaKey);\n              break;\n\n            case \"Bubble\":\n              c.bubble && c.bubble.showEvent(i);\n              break;\n\n            case \"ContextMenu\":\n              var a = i.client.contextMenu();\n              a ? a.show(i) : c.contextMenu && c.contextMenu.show(i);\n          }\n\n          \"function\" == typeof c.onEventDoubleClicked && c.onEventDoubleClicked(n);\n        } else switch (c.eventDoubleClickHandling) {\n          case \"PostBack\":\n            c.eventDoubleClickPostBack(i);\n            break;\n\n          case \"CallBack\":\n            c.eventDoubleClickCallBack(i);\n            break;\n\n          case \"JavaScript\":\n            c.onEventDoubleClick(i);\n            break;\n\n          case \"Edit\":\n            c.Sa(this);\n            break;\n\n          case \"Select\":\n            c.Ta(div, i, e.ctrlKey, e.metaKey);\n            break;\n\n          case \"Bubble\":\n            c.bubble && c.bubble.showEvent(i);\n            break;\n\n          case \"ContextMenu\":\n            var a = i.client.contextMenu();\n            a ? a.show(i) : c.contextMenu && c.contextMenu.show(i);\n        }\n      }, this.eventResizePostBack = function (e, t, i, n) {\n        this.db(\"PostBack\", e, t, i, n);\n      }, this.eventResizeCallBack = function (e, t, i, n) {\n        this.db(\"CallBack\", e, t, i, n);\n      }, this.db = function (e, t, i, n, a) {\n        var o = {};\n        o.e = t, o.newStart = i, o.newEnd = n, this.$a(e, \"EventResize\", o, a);\n      }, this.cb = function (e, t, i, n) {\n        if (\"Disabled\" !== this.eventResizeHandling) if (i = c.Lf(i), c.Da()) {\n          var a = {},\n              o = function () {\n            if (C.hide(), !a.preventDefault.value) {\n              switch (t = a.newStart, i = a.newEnd, c.eventResizeHandling) {\n                case \"PostBack\":\n                  c.eventResizePostBack(e, t, i);\n                  break;\n\n                case \"CallBack\":\n                  c.eventResizeCallBack(e, t, i);\n                  break;\n\n                case \"Notify\":\n                  c.eventResizeNotify(e, t, i);\n                  break;\n\n                case \"Update\":\n                  c.Ph(a);\n              }\n\n              \"function\" == typeof c.onEventResized && c.onEventResized(a);\n            }\n          };\n\n          a.e = e, a.async = !1, a.loaded = function () {\n            o();\n          }, a.newStart = t, a.newEnd = i, a.what = n, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, a.multiresize = Abhaas.list(b.list), a.control = c, a.toJSON = function () {\n            return Abhaas.Util.copyProps(a, {}, [\"e\", \"async\", \"newStart\", \"newEnd\", \"multiresize\"]);\n          };\n          var r = {};\n          r.event = e, r.start = t, r.end = i, a.multiresize.splice(0, 0, r), \"function\" == typeof c.onEventResize && c.onEventResize(a), a.async ? c.blockOnCallBack && C.show() : o();\n        } else switch (c.eventResizeHandling) {\n          case \"PostBack\":\n            c.eventResizePostBack(e, t, i);\n            break;\n\n          case \"CallBack\":\n            c.eventResizeCallBack(e, t, i);\n            break;\n\n          case \"JavaScript\":\n            c.onEventResize(e, t, i);\n            break;\n\n          case \"Notify\":\n            c.eventResizeNotify(e, t, i);\n            break;\n\n          case \"Update\":\n            c.Ph(a);\n        }\n      }, this.eventMovePostBack = function (e, t, i, n, a, o) {\n        this.hb(\"PostBack\", e, t, i, n, a, o);\n      }, this.eventMoveCallBack = function (e, t, i, n, a, o) {\n        this.hb(\"CallBack\", e, t, i, n, a, o);\n      }, this.hb = function (e, t, i, n, a, o, r) {\n        var l = t && !!t.preventDefault,\n            s = {};\n\n        if (l) {\n          var d = t;\n          s.e = d.e, s.newStart = d.newStart, s.newEnd = d.newEnd, s.newResource = d.newResource, s.position = d.position, s.multimove = [], d.multimove.each(function (e) {\n            var t = {};\n            if (t.e = e.event, t.newStart = e.start, t.newEnd = e.end, t.newResource = e.event.resource(), t.e === d.e || t.e.data.id == d.e.data.id) t.newResource = d.newResource;else if (w.rowoffset) {\n              var i = e.event.part.dayIndex + w.rowoffset;\n              t.newResource = c.rowlist[i].id;\n            }\n            s.multimove.push(t);\n          });\n        } else s.e = t, s.newStart = i, s.newEnd = n, s.newResource = a, s.position = r;\n\n        this.$a(e, \"EventMove\", s, o);\n      }, this.Qh = function (e, t, i) {\n        var n = {};\n        n.start = t.start, n.end = t.end, n.resource = t.resource, n.multirange = [], t.multirange.each(function (e) {\n          var t = {};\n          t.start = e.start, t.end = e.end, t.resource = e.resource, n.multirange.push(t);\n        }), this.$a(e, \"TimeRangeSelected\", n, i);\n      }, this.$a = function (e, t, i, n) {\n        if (\"PostBack\" === e) c.M(t, i, n);else if (\"CallBack\" === e) c.O(t, i, n, \"CallBack\");else if (\"Immediate\" === e) c.O(t, i, n, \"Notify\");else if (\"Queue\" === e) c.queue.add(new Abhaas.Action(this, t, i, n));else {\n          if (\"Notify\" !== e) throw \"Invalid event invocation type\";\n          \"Notify\" === _.notifyType() ? c.O(t, i, n, \"Notify\") : c.queue.add(new Abhaas.Action(c, t, i, n));\n        }\n      }, this.eventMoveNotify = function (e, t, i, n, a, o) {\n        if (e && !!e.preventDefault) {\n          var r = e;\n          r.old = new Abhaas.Event(r.e.copy(), c), r.multimove.each(function (e) {\n            e.old = new Abhaas.Event(e.event.copy(), c);\n          }), c.Ph(r), r.e = r.old, delete r.old, r.multimove.each(function (e) {\n            e.event = e.old, delete e.old;\n          });\n        } else {\n          e = new Abhaas.Event(e.copy(), c);\n          var l = c.events.Rh(e.data);\n          e.start(t), e.end(i), e.resource(n), e.commit(), l = l.concat(c.events.Sh(e.data)), c.Th(l), c.Uh(), c.Vh(l);\n        }\n\n        this.hb(\"Notify\", e, t, i, n, a, o);\n      }, this.eventResizeNotify = function (e, t, i, n) {\n        var a = new Abhaas.Event(e.copy(), this),\n            o = c.events.Rh(e.data);\n        e.start(t), e.end(i), e.commit(), o = o.concat(c.events.Sh(e.data)), c.Th(o), c.Uh(), c.Vh(o), this.db(\"Notify\", a, t, i, n);\n      }, this.zoom = {}, this.zoom.active = 0, this.zoom.setActive = function (e, t) {\n        if (!c.zoomLevels[e]) throw new Abhaas.Exception(\"Zoom level not found: \" + e);\n        var i = c.zoom.kg(t);\n        c.zoom.Wh(e, i), c.I && c.update(), i && c.scrollTo(i, null, t);\n      }, this.zoom.kg = function (e) {\n        e = e || c.zoomPosition || \"left\";\n        var t = null;\n        if (!c.nav.scroll) return null;\n\n        switch (e) {\n          case \"left\":\n            t = c.getViewPort().start;\n            break;\n\n          case \"middle\":\n            t = c.getViewPort().start.addTime((c.getViewPort().end.getTime() - c.getViewPort().start.getTime()) / 2);\n            break;\n\n          case \"right\":\n            t = c.getViewPort().end;\n        }\n\n        return t;\n      }, this.zoom.Wh = function (e, t) {\n        var i = c.zoomLevels.length - 1;\n        e > i && (e = i), e < 0 && (e = 0), c.zoom.active = e;\n        var n = c.zoomLevels[e],\n            a = {};\n        return a.date = t || new Abhaas.Date(c.startDate), a.level = n, Abhaas.Util.ownPropsAsArray(n.properties).forEach(function (e) {\n          if (!e.key.startsWith(\"on\")) return \"function\" == typeof e.val ? void (c[e.key] = e.val(a)) : void (c[e.key] = e.val);\n        }), a;\n      }, this.multiselect = {}, this.multiselect.qb = [], this.multiselect.Lb = [], this.multiselect.Mb = [], this.multiselect.Ng = function (e) {\n        c.multiselect.qb = Abhaas.list(e).map(function (e) {\n          return new Abhaas.Event(e, c);\n        });\n      }, this.multiselect.Nb = function () {\n        var e = c.multiselect;\n        return JSON.stringify(e.events());\n      }, this.multiselect.events = function () {\n        var e = c.multiselect,\n            t = Abhaas.list();\n        t.ignoreToJSON = !0;\n\n        for (var i = 0; i < e.qb.length; i++) t.push(e.qb[i]);\n\n        return t;\n      }, this.multiselect.Ob = function () {}, this.multiselect.tb = function (e, t, i) {\n        var n = c.multiselect;\n        if (n.isSelected(e.event)) {\n          if (c.allowMultiSelect) {\n            if (t || i) n.remove(e.event, !0);else {\n              var a = n.qb.length;\n              n.clear(), a > 1 && n.add(e.event, !0);\n            }\n          } else n.clear();\n        } else c.allowMultiSelect && (t || i) ? n.add(e.event, !0) : (n.clear(), n.add(e.event, !0));\n        n.$b(e), n.Ob();\n      }, this.multiselect.Pb = function (e) {\n        var t = c.multiselect;\n        return t.Qb(e, t.initList);\n      }, this.multiselect.Rb = function () {\n        for (var e = c.multiselect, t = [], i = 0; i < e.qb.length; i++) {\n          var n = e.qb[i];\n          t.push(n.value());\n        }\n\n        alert(t.join(\"\\n\") + \"ab\");\n      }, this.multiselect.add = function (e, t) {\n        var i = c.multiselect;\n        i.indexOf(e) === -1 && i.qb.push(e), t || i.Xh(e);\n      }, this.multiselect.remove = function (e, t) {\n        var i = c.multiselect,\n            n = i.indexOf(e);\n        n !== -1 && i.qb.splice(n, 1), t || i.Xh(e);\n      }, this.multiselect.clear = function (e) {\n        var t = c.multiselect;\n        t.qb = [], e || t.redraw();\n      }, this.multiselect.redraw = function () {\n        var e = c.multiselect;\n        e.Lb = [];\n\n        for (var t = 0; t < c.elements.events.length; t++) {\n          var i = c.elements.events[t];\n          i.event && i.event.isEvent && (e.isSelected(i.event) ? e.Tb(i) : e.Ub(i));\n        }\n      }, this.multiselect.$b = function (e) {\n        if (e) {\n          var t = c.multiselect;\n          t.isSelected(e.event) ? t.Tb(e) : t.Ub(e);\n        }\n      }, this.multiselect.Xh = function (e) {\n        var t = c.multiselect,\n            i = c.Id(e);\n        t.$b(i);\n      }, this.multiselect.Tb = function (e) {\n        var t = c.multiselect,\n            i = c.t(\"_selected\"),\n            e = t.Vb(e);\n        Abhaas.Util.addClass(e, i), t.Lb.push(e);\n      }, this.multiselect.Vb = function (e) {\n        return e;\n      }, this.multiselect.Wb = function () {\n        for (var e = c.multiselect, t = 0; t < e.Lb.length; t++) {\n          var i = e.Lb[t];\n          e.Ub(i, !0);\n        }\n\n        e.Lb = [];\n      }, this.multiselect.Ub = function (e, t) {\n        var i = c.multiselect,\n            n = c.t(\"_selected\");\n\n        if (Abhaas.Util.removeClass(e, n), !t) {\n          var a = Abhaas.indexOf(i.Lb, e);\n          a !== -1 && i.Lb.splice(a, 1);\n        }\n      }, this.multiselect.isSelected = function (e) {\n        return !!e && !!e.isEvent && c.multiselect.Qb(e, c.multiselect.qb);\n      }, this.multiselect.indexOf = function (e) {\n        for (var t = e.data, i = 0; i < c.multiselect.qb.length; i++) {\n          var n = c.multiselect.qb[i];\n          if (c.Kd(n.data, t)) return i;\n        }\n\n        return -1;\n      }, this.multiselect.Qb = function (e, t) {\n        if (!t) return !1;\n\n        for (var i = 0; i < t.length; i++) {\n          var n = t[i];\n          if (e === n) return !0;\n\n          if (\"function\" == typeof n.id) {\n            if (null !== n.id() && null !== e.id() && n.id() === e.id()) return !0;\n            if (null === n.id() && null === e.id() && n.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === n.start().toStringSortable()) return !0;\n          } else {\n            if (null !== n.id && null !== e.id() && n.id === e.id()) return !0;\n            if (null === n.id && null === e.id() && n.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === n.start) return !0;\n          }\n        }\n\n        return !1;\n      }, this.multiselect.startRectangle = function () {\n        T.start();\n      }, this.Yh = function () {\n        this.Mg(), this.Pg();\n      }, this.Zh = function () {\n        c.Gg(), c.Kg(), c.$h(), c.progressiveRowRendering && c._h();\n      }, this.$b = function (e) {\n        var e = e || {},\n            t = !e.eventsOnly;\n        window.clearTimeout(c.ai), t && (c.bi !== c.timeHeaderPosition && c.ci(), this.z() || (c.timeHeader = null, c.cellProperties = {}), c.Dh = {}, c.Dg(), c.Eg(), e && e.dontLoadResources || c.Fg(), c.events.di(), c.Nc.clearCache(), c.clearSelection()), this.la(), this.ei(), c.Gg(), t && (c.Md(), c.fi(), c.Hg(), c.Tg(c.selectedRows), c.gi()), c.Ig(), c.Kg(), c.$h(), c.ma(), v.hideLinkpoints(), this.V(), this.Lg(), this.Cg(), this.ka(), this.Og(), this.Yh(), c.ta(), e.immediateEvents || e.eventsOnly ? c.za() : setTimeout(function () {\n          c.za();\n        }, 100), this.visible ? c.Ag != c.visible && this.show() : this.hide(), this.Ag = this.visible, this.Sg(), (c.Jd.scope || c.Vg.enabled) && !c.I || this.Ug(), this.hi(), this.Ca();\n      }, this.hi = function () {\n        if (\"function\" == typeof c.onAfterUpdate) {\n          var e = {};\n          c.onAfterUpdate(e);\n        }\n      }, this.update = function (e) {\n        if (c.Nd) throw new Abhaas.Exception(\"You are trying to update a Abhaas.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.\");\n        f.request(e);\n      };\n      var f = {};\n      f.timeout = null, f.options = null, f.enabled = !1, f.request = function (e) {\n        f.enabled ? (clearTimeout(f.timeout), f.mergeOptions(e), f.timeout = setTimeout(f.doit)) : (f.mergeOptions(e), f.doit());\n      }, f.mergeOptions = function (e) {\n        if (e) {\n          f.options || (f.options = {});\n\n          for (var t in e) f.options[t] = e[t];\n        }\n      }, f.doit = function () {\n        var e = f.options;\n        return f.options = null, c.I ? Abhaas.Util.isOnlyProperty(e, \"events\") ? (c.events.list = e.events, void c.$b({\n          \"eventsOnly\": !0\n        })) : Abhaas.Util.isOnlyProperty(e, \"separators\") ? (c.separators = e.separators, void c.Yh()) : Abhaas.Util.isOnlyProperty(e, \"rowHeaderColumns\") ? (c.rowHeaderColumns = e.rowHeaderColumns, void c.Zh()) : (c.Od(e), c.$b({\n          \"immediateEvents\": !0\n        }), c.Xd(), void c.ga(null, !1)) : void c.Od(e);\n      }, this.ii = function (e) {\n        for (var t = 0; t < e.length; t++) {\n          var i = e[t];\n          c.ji(i);\n        }\n      }, this.Vh = function (e, t, i) {\n        if (e = Abhaas.ua(e), c.ii(e), this.ki) {\n          this.Ig(), this.Kg(), this.Lg(), this.Mg();\n\n          for (var n = 0; n < e.length; n++) {\n            var a = e[n];\n            this.li(a);\n          }\n\n          for (var n = 0; n < e.length; n++) {\n            var a = e[n];\n            this.mi(a);\n          }\n\n          this.Og(), this.Pg(), this.ni();\n        } else {\n          for (var n = 0; n < e.length; n++) {\n            var a = e[n];\n            t || this.li(a), this.mi(a);\n          }\n\n          Abhaas.list(e).each(function (e) {\n            c.oi(e);\n          }), c.Og();\n        }\n\n        c.fh(), v.load(), c.multiselect.redraw(), i && i(), this.Cg();\n      }, this.Lf = function (e) {\n        return \"DateTime\" === c.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart();\n      }, this.lf = function (e) {\n        return \"DateTime\" === c.eventEndSpec ? e : e.getDatePart().addDays(1);\n      }, this.Nf = function (e) {\n        return \"DateTime\" === c.eventEndSpec ? e : e.getDatePart();\n      }, this.fb = function (e, t, i, n, a, o, r) {\n        if (c.dd = null, \"Disabled\" !== c.eventMoveHandling) {\n          i = c.Lf(i);\n          var l = {};\n          l.e = e, l.newStart = t, l.newEnd = i, l.newResource = n, l.external = a, l.ctrl = !1, l.meta = !1, l.shift = !1, o && (l.shift = o.shiftKey, l.ctrl = o.ctrlKey, l.meta = o.metaKey), l.multimove = Abhaas.list(w.list), l.areaData = Abhaas.Global.movingAreaData, l.control = c, l.toJSON = function () {\n            return Abhaas.Util.copyProps(l, {}, [\"e\", \"newStart\", \"newEnd\", \"newResource\", \"external\", \"ctrl\", \"meta\", \"shift\", \"multimove\", \"areaData\"]);\n          };\n          var s = {};\n\n          if (s.event = e, s.start = t, s.end = i, s.overlapping = !1, s.resource = n, l.multimove.splice(0, 0, s), l.position = r, l.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, c.Da()) {\n            var d = function () {\n              if (l.loaded = function () {}, C.hide(), l.preventDefault.value) return void c.pi();\n\n              switch (t = l.newStart, i = l.newEnd, c.eventMoveHandling) {\n                case \"PostBack\":\n                  c.eventMovePostBack(l);\n                  break;\n\n                case \"CallBack\":\n                  c.eventMoveCallBack(l);\n                  break;\n\n                case \"Notify\":\n                  c.eventMoveNotify(l);\n                  break;\n\n                case \"Update\":\n                  c.Ph(l);\n              }\n\n              c.pi(), \"function\" == typeof c.onEventMoved && c.onEventMoved(l);\n            };\n\n            l.async = !1, l.loaded = function () {\n              d();\n            }, \"function\" == typeof c.onEventMove && c.onEventMove(l), l.async ? c.blockOnCallBack && C.show() : d();\n          } else {\n            switch (c.eventMoveHandling) {\n              case \"PostBack\":\n                c.eventMovePostBack(l);\n                break;\n\n              case \"CallBack\":\n                c.eventMoveCallBack(l);\n                break;\n\n              case \"JavaScript\":\n                c.onEventMove(e, t, i, n, a, !!o && o.ctrlKey, !!o && o.shiftKey, r);\n                break;\n\n              case \"Notify\":\n                c.eventMoveNotify(l);\n                break;\n\n              case \"Update\":\n                c.Ph(l);\n            }\n\n            c.pi();\n          }\n        }\n      }, this.Ph = function (e) {\n        var t = e.e,\n            i = e.newStart,\n            n = e.newEnd,\n            a = e.newResource,\n            o = e.external;\n        t.start(i), t.end(n), t.resource(a), o ? (t.commit(), c.events.add(t)) : c.events.update(t), e.multimove && !e.multimove.isEmpty() && e.multimove.each(function (e) {\n          if (e.event !== t) {\n            if (e.event.start(e.start), e.event.end(e.end), w.rowoffset) {\n              var i = e.event.part.dayIndex + w.rowoffset,\n                  n = c.rowlist[i].id;\n              e.event.resource(n);\n            }\n\n            e.event.commit(), c.events.update(e.event);\n          }\n        }), e.multiresize && !e.multiresize.isEmpty() && e.multiresize.each(function (e) {\n          e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.commit(), c.events.update(e.event));\n        }), c.events.immediateRefresh(), c.gb();\n      }, this.ib = function (e, t) {\n        var i = c.jb(t),\n            n = {};\n        n.args = e, n.guid = i, c.O(\"Bubble\", n);\n      }, this.jb = function (e) {\n        var t = Abhaas.guid();\n        return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t;\n      }, this.eventMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.command = t, this.M(\"EventMenuClick\", n, i);\n      }, this.eventMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.command = t, this.O(\"EventMenuClick\", n, i);\n      }, this.kb = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            c.eventMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            c.eventMenuClickCallBack(t, e);\n        }\n      }, this.timeRangeSelectedPostBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.M(\"TimeRangeSelected\", a, n);\n      }, this.timeRangeSelectedCallBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.O(\"TimeRangeSelected\", a, n);\n      }, this.qi = function (e) {\n        if (e) {\n          if (e.disabled) return void c.clearSelection();\n          if (e.args) c.mb(e.args.start, e.args.end, e.args.resource);else {\n            var t = c.ri(e);\n            if (!t) return;\n            c.mb(t.start, t.end, t.resource);\n          }\n        }\n      }, this.mb = function (e, t, i) {\n        if (\"Disabled\" !== c.timeRangeSelectedHandling) {\n          var n = t;\n          t = c.Lf(n);\n          var a = {};\n\n          if (a.control = c, a.start = e, a.end = t, a.resource = i, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, a.multirange = Abhaas.list(M.list).map(function (e) {\n            return c.ri(e);\n          }), a.multirange.isEmpty() && a.multirange.push({\n            \"start\": a.start,\n            \"end\": a.end,\n            \"resource\": a.resource\n          }), a.toJSON = function () {\n            return Abhaas.Util.copyProps(a, {}, [\"start\", \"end\", \"resource\", \"multirange\"]);\n          }, c.Da()) {\n            if (\"function\" == typeof c.onTimeRangeSelect) {\n              if (c.onTimeRangeSelect(a), a.preventDefault.value) return;\n              e = a.start, t = a.end;\n            }\n\n            switch (t = c.lf(t), c.si(c.rangeHold, e, t, a.multirange), c.ui(c.rangeHold), c.timeRangeSelectedHandling) {\n              case \"PostBack\":\n                c.Qh(\"PostBack\", a);\n                break;\n\n              case \"CallBack\":\n                c.Qh(\"CallBack\", a);\n            }\n\n            \"function\" == typeof c.onTimeRangeSelected && c.onTimeRangeSelected(a);\n          } else switch (c.timeRangeSelectedHandling) {\n            case \"PostBack\":\n              c.Qh(\"PostBack\", a);\n              break;\n\n            case \"CallBack\":\n              c.Qh(\"CallBack\", a);\n              break;\n\n            case \"JavaScript\":\n              c.onTimeRangeSelected(e, t, i, a.multirange);\n              break;\n\n            case \"Hold\":\n          }\n        }\n      }, this.si = function (e, t, i, n) {\n        if (e && !(n && n.length > 1)) {\n          var a,\n              o,\n              r = i,\n              l = 0;\n\n          if (\"Days\" === c.viewType) {\n            l = c.Yg(t).start.getTime() - c.La().getTime();\n          }\n\n          t.getTime() < c.itline[0].start.getTime() ? (e.start.x = 0, e.start.time = c.itline[0].start.getTime()) : (a = c.Mh(t.addTime(-l)), o = a.current || a.previous, e.start.x = Abhaas.indexOf(c.itline, o), e.start.time = t), a = c.Mh(r.addMilliseconds(-1).addTime(-l)), a.past ? (e.end.x = c.itline.length - 1, e.end.time = c.itline[c.itline.length - 1].end.getTime()) : (o = a.current || a.next, e.end.x = Abhaas.indexOf(c.itline, o), e.end.time = i);\n        }\n      }, this.Yg = function (e) {\n        var t = e.getDatePart();\n        return Abhaas.list(c.rowlist).find(function (e) {\n          return e.start.getDatePart() === t;\n        });\n      }, this.timeRangeDoubleClickPostBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.M(\"TimeRangeDoubleClick\", a, n);\n      }, this.timeRangeDoubleClickCallBack = function (e, t, i, n) {\n        var a = {};\n        a.start = e, a.end = t, a.resource = i, this.O(\"TimeRangeDoubleClick\", a, n);\n      }, this.nb = function (e, t, i) {\n        if (t = c.Lf(t), c.Da()) {\n          var n = {};\n          if (n.start = e, n.end = t, n.resource = i, n.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onTimeRangeDoubleClick && (c.onTimeRangeDoubleClick(n), n.preventDefault.value)) return;\n\n          switch (c.timeRangeDoubleClickHandling) {\n            case \"PostBack\":\n              c.timeRangeDoubleClickPostBack(e, t, i);\n              break;\n\n            case \"CallBack\":\n              c.timeRangeDoubleClickCallBack(e, t, i);\n          }\n\n          \"function\" == typeof c.onTimeRangeDoubleClicked && c.onTimeRangeDoubleClicked(n);\n        } else switch (c.timeRangeDoubleClickHandling) {\n          case \"PostBack\":\n            c.timeRangeDoubleClickPostBack(e, t, i);\n            break;\n\n          case \"CallBack\":\n            c.timeRangeDoubleClickCallBack(e, t, i);\n            break;\n\n          case \"JavaScript\":\n            c.onTimeRangeDoubleClick(e, t, i);\n        }\n      }, this.timeRangeMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.selection = e, n.command = t, this.M(\"TimeRangeMenuClick\", n, i);\n      }, this.timeRangeMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.selection = e, n.command = t, this.O(\"TimeRangeMenuClick\", n, i);\n      }, this.lb = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            c.timeRangeMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            c.timeRangeMenuClickCallBack(t, e);\n        }\n      }, this.linkMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.link = e, n.command = t, this.M(\"LinkMenuClick\", n, i);\n      }, this.linkMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.link = e, n.command = t, this.O(\"LinkMenuClick\", n, i);\n      }, this.vi = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            c.linkMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            c.linkMenuClickCallBack(t, e);\n        }\n      }, this.rowMenuClickPostBack = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.command = t, this.M(\"RowMenuClick\", n, i);\n      }, this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack, this.rowMenuClickCallBack = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.command = t, this.O(\"RowMenuClick\", n, i);\n      }, this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack, this.wi = function (e, t, i) {\n        switch (i) {\n          case \"PostBack\":\n            c.rowMenuClickPostBack(t, e);\n            break;\n\n          case \"CallBack\":\n            c.rowMenuClickCallBack(t, e);\n        }\n      }, this.xi = function (e, t) {\n        var i = c.yi(e);\n        i.data.name = t, i.data.html && (i.data.html = t), c.rows.update(i);\n      }, this.zi = function (e, t) {\n        if (t) {\n          var i = {};\n\n          if (i.text = t, i.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" != typeof c.onRowCreate || (c.onRowCreate(i), !i.preventDefault.value)) {\n            switch (c.rowCreateHandling) {\n              case \"CallBack\":\n                c.rowCreateCallBack(i.text);\n                break;\n\n              case \"PostBack\":\n                c.rowCreatePostBack(i.text);\n            }\n\n            \"function\" == typeof c.onRowCreated && c.onRowCreated(i);\n          }\n        }\n      }, this.Ai = function (e, t, i) {\n        if (e.isNewRow) return void (i || c.zi(e, t));\n        var n = Abhaas.indexOf(c.rowlist, e),\n            a = c.yi(e, n);\n\n        if (c.Da()) {\n          var o = {};\n          o.resource = a, o.row = a, o.newText = t, o.canceled = i, o.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, o.async = !1, o.loaded = function () {\n            r();\n          };\n\n          var r = function () {\n            if (!i) {\n              switch (c.rowEditHandling) {\n                case \"PostBack\":\n                  c.rowEditPostBack(a, t);\n                  break;\n\n                case \"CallBack\":\n                  c.rowEditCallBack(a, t);\n                  break;\n\n                case \"Update\":\n                  c.xi(e, t);\n              }\n\n              \"function\" == typeof c.onRowEdited && c.onRowEdited(o);\n            }\n          };\n\n          if (\"function\" == typeof c.onRowEdit && (c.onRowEdit(o), o.preventDefault.value)) return;\n          o.async || r();\n        } else switch (c.rowEditHandling) {\n          case \"PostBack\":\n            c.rowEditPostBack(a, t);\n            break;\n\n          case \"CallBack\":\n            c.rowEditCallBack(a, t);\n            break;\n\n          case \"JavaScript\":\n            c.onrowEdit(a, t);\n        }\n      }, this.rowCreatePostBack = function (e, t) {\n        var i = {};\n        i.text = e, this.M(\"RowCreate\", i, t);\n      }, this.rowCreateCallBack = function (e, t) {\n        var i = {};\n        i.text = e, this.O(\"RowCreate\", i, t);\n      }, this.rowEditPostBack = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.newText = t, this.M(\"RowEdit\", n, i);\n      }, this.rowEditCallBack = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.newText = t, this.O(\"RowEdit\", n, i);\n      }, this.rowMovePostBack = function (e, t, i, n) {\n        var a = {};\n        a.source = e, a.target = t, a.position = i, this.M(\"RowMove\", a, n);\n      }, this.rowMoveCallBack = function (e, t, i, n) {\n        var a = {};\n        a.source = e, a.target = t, a.position = i, this.O(\"RowMove\", a, n);\n      }, this.rowMoveNotify = function (e, t, i, n) {\n        var a = {};\n        a.source = e, a.target = t, a.position = i, this.O(\"RowMove\", a, n, \"Notify\");\n      }, this.rowClickPostBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.M(\"RowClick\", i, t);\n      }, this.resourceHeaderClickPostBack = this.rowClickPostBack, this.rowClickCallBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.O(\"RowClick\", i, t);\n      }, this.resourceHeaderClickCallBack = this.rowClickCallBack, this.Bi = function (e, t, i, n) {\n        if (\"Disabled\" === c.rowDoubleClickHandling) return void c.Ci(e, t, i, n);\n        c.timeouts.resClick || (c.timeouts.resClick = []);\n\n        var a = function (e, t, i, n) {\n          return function () {\n            c.Ci(e, t, i, n);\n          };\n        };\n\n        c.timeouts.resClick.push(window.setTimeout(a(e, t, i, n), c.doubleClickTimeout));\n      }, this.Ci = function (e, t, i, n) {\n        var a = c.resourceHeaderClickHandling || c.rowClickHandling;\n\n        if (c.Da()) {\n          var o = {};\n          if (o.resource = e, o.row = e, o.ctrl = t, o.shift = i, o.meta = n, o.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onRowClick && (c.onRowClick(o), o.preventDefault.value)) return;\n          if (\"function\" == typeof c.onResourceHeaderClick && (c.onResourceHeaderClick(o), o.preventDefault.value)) return;\n\n          switch (a) {\n            case \"PostBack\":\n              c.rowClickPostBack(e);\n              break;\n\n            case \"CallBack\":\n              c.rowClickCallBack(e);\n              break;\n\n            case \"Select\":\n              c.Di(e.$.row, t, i, n);\n              break;\n\n            case \"Edit\":\n              c.Ei.edit(e.$.row);\n          }\n\n          \"function\" == typeof c.onRowClicked && c.onRowClicked(o), \"function\" == typeof c.onResourceHeaderClicked && c.onResourceHeaderClicked(o);\n        } else switch (a) {\n          case \"PostBack\":\n            c.rowClickPostBack(e);\n            break;\n\n          case \"CallBack\":\n            c.rowClickCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            c.onRowClick(e);\n            break;\n\n          case \"Select\":\n            c.Di(e.$.row, t, i);\n            break;\n\n          case \"Edit\":\n            c.Ei.edit(e.$.row);\n        }\n      }, this.timeHeaderClickPostBack = function (e, t) {\n        var i = {};\n        i.header = e, this.M(\"TimeHeaderClick\", i, t);\n      }, this.timeHeaderClickCallBack = function (e, t) {\n        var i = {};\n        i.header = e, this.O(\"TimeHeaderClick\", i, t);\n      }, this.Fi = function (e) {\n        if (c.Da()) {\n          var t = {};\n          if (t.header = e, t.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onTimeHeaderClick && (c.onTimeHeaderClick(t), t.preventDefault.value)) return;\n\n          switch (this.timeHeaderClickHandling) {\n            case \"PostBack\":\n              c.timeHeaderClickPostBack(e);\n              break;\n\n            case \"CallBack\":\n              c.timeHeaderClickCallBack(e);\n          }\n\n          \"function\" == typeof c.onTimeHeaderClicked && c.onTimeHeaderClicked(t);\n        } else switch (this.timeHeaderClickHandling) {\n          case \"PostBack\":\n            c.timeHeaderClickPostBack(e);\n            break;\n\n          case \"CallBack\":\n            c.timeHeaderClickCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            c.onTimeHeaderClick(e);\n        }\n      }, this.resourceCollapsePostBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.M(\"ResourceCollapse\", i, t);\n      }, this.resourceCollapseCallBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.O(\"ResourceCollapse\", i, t);\n      }, this.Gi = function (e) {\n        if (c.Da()) {\n          var t = {};\n          if (t.resource = e, t.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onResourceCollapse && (c.onResourceCollapse(t), t.preventDefault.value)) return;\n\n          switch (this.resourceCollapseHandling) {\n            case \"PostBack\":\n              c.resourceCollapsePostBack(e);\n              break;\n\n            case \"CallBack\":\n              c.resourceCollapseCallBack(e);\n          }\n        } else switch (this.resourceCollapseHandling) {\n          case \"PostBack\":\n            c.resourceCollapsePostBack(e);\n            break;\n\n          case \"CallBack\":\n            c.resourceCollapseCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            c.onResourceCollapse(e);\n        }\n      }, this.resourceExpandPostBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.M(\"ResourceExpand\", i, t);\n      }, this.resourceExpandCallBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.O(\"ResourceExpand\", i, t);\n      }, this.Hi = function (e) {\n        if (c.Da()) {\n          var t = {};\n          if (t.resource = e, t.row = e, t.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onResourceExpand && (c.onResourceExpand(t), t.preventDefault.value)) return;\n\n          switch (this.resourceExpandHandling) {\n            case \"PostBack\":\n              c.resourceExpandPostBack(e);\n              break;\n\n            case \"CallBack\":\n              c.resourceExpandCallBack(e);\n          }\n        } else switch (this.resourceExpandHandling) {\n          case \"PostBack\":\n            c.resourceExpandPostBack(e);\n            break;\n\n          case \"CallBack\":\n            c.resourceExpandCallBack(e);\n            break;\n\n          case \"JavaScript\":\n            c.onResourceExpand(e);\n        }\n      }, this.eventEditPostBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.newText = t, this.M(\"EventEdit\", n, i);\n      }, this.eventEditCallBack = function (e, t, i) {\n        var n = {};\n        n.e = e, n.newText = t, this.O(\"EventEdit\", n, i);\n      }, this.eventEditNotify = function (e, t, i, n) {\n        var a = new Abhaas.Event(e.copy(), this);\n        e.text(t), c.events.update(e, null, n);\n        var o = {};\n        o.e = a, o.newText = t, this.O(\"EventEdit\", o, i, \"Notify\");\n      }, this.ob = function (e, t, i) {\n        if (c.Da()) {\n          var n = {};\n          n.e = e, n.newText = t, n.canceled = i, n.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, n.async = !1, n.loaded = function () {\n            a();\n          };\n\n          var a = function () {\n            if (n.loaded = function () {}, !i) switch (c.eventEditHandling) {\n              case \"PostBack\":\n                c.eventEditPostBack(e, t);\n                break;\n\n              case \"CallBack\":\n                c.eventEditCallBack(e, t);\n                break;\n\n              case \"Update\":\n                e.text(Abhaas.Util.escapeHtml(t)), c.events.update(e, null, {\n                  \"inplace\": !0\n                });\n            }\n            \"function\" == typeof c.onEventEdited && c.onEventEdited(n);\n          };\n\n          if (\"function\" == typeof c.onEventEdit && (c.onEventEdit(n), n.preventDefault.value)) return;\n          n.async || a();\n        } else switch (c.eventEditHandling) {\n          case \"PostBack\":\n            c.eventEditPostBack(e, t);\n            break;\n\n          case \"CallBack\":\n            c.eventEditCallBack(e, t);\n            break;\n\n          case \"Notify\":\n            c.eventEditNotify(e, t, null, {\n              \"inplace\": !0\n            });\n            break;\n\n          case \"JavaScript\":\n            c.onEventEdit(e, t);\n        }\n      }, this.commandCallBack = function (e, t) {\n        this.Ii(\"CallBack\", e, t);\n      }, this.commandPostBack = function (e, t) {\n        this.Ii(\"PostBack\", e, t);\n      }, this.Ii = function (e, t, i) {\n        var n = {};\n        n.command = t, this.$a(e, \"Command\", n, i);\n      }, this.M = function (e, t, i) {\n        var n = {};\n        n.action = e, n.type = \"PostBack\", n.parameters = t, n.data = i, n.header = this.N();\n        var a = \"JSON\" + JSON.stringify(n);\n\n        __doPostBack(c.uniqueID, a);\n      }, this.O = function (e, t, i, n) {\n        if (!c.z()) return void c.debug.message(\"Callback invoked without the server-side backend specified. Callback canceled.\", \"warning\");\n        \"undefined\" == typeof n && (n = \"CallBack\"), this.U(), c.P();\n        var a = {};\n        a.action = e, a.type = n, a.parameters = t, a.data = i, a.header = this.N();\n        var o,\n            r = JSON.stringify(a);\n        o = \"undefined\" != typeof Iuppiter && Iuppiter.compress ? \"LZJB\" + Iuppiter.Base64.encode(Iuppiter.compress(r)) : \"JSON\" + r, this.Ji(a), this.backendUrl ? Abhaas.request(this.backendUrl, this.Q, o, this.R) : \"function\" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, o, this.S, null, this.callbackError, !0);\n      }, this.Ji = function (e) {\n        var t = {};\n        \"function\" == typeof c.onCallBackStart && c.onCallBackStart(t);\n      }, this.Bg = function () {\n        var e = {};\n        \"function\" == typeof c.onCallBackEnd && setTimeout(function () {\n          c.onCallBackEnd(e);\n        }, 0);\n      }, this.z = function () {\n        return \"javasc\" !== c.J && c.J.indexOf(\"DCODE\") === -1 || c.devsb;\n      }, this.T = function () {\n        return !(\"function\" != typeof WebForm_DoCallback || !this.uniqueID);\n      }, this.R = function (e) {\n        if (\"function\" == typeof c.onAjaxError) {\n          var t = {};\n          t.request = e, c.onAjaxError(t);\n        } else \"function\" == typeof c.ajaxError && c.ajaxError(e);\n      }, this.Q = function (e) {\n        c.S(e.responseText);\n      }, this.callbackProps = [], this.N = function () {\n        var e = {};\n        e.v = this.v, e.control = \"dps\", e.id = this.id, e.startDate = c.startDate, e.days = c.days, e.cellDuration = c.cellDuration, e.cellGroupBy = c.cellGroupBy, e.cellWidth = c.cellWidth, e.cellWidthSpec = c.cellWidthSpec, e.viewType = c.viewType, e.showNonBusiness = c.showNonBusiness, e.businessBeginsHour = c.businessBeginsHour, e.businessEndsHour = c.businessEndsHour, e.weekStarts = c.weekStarts, e.treeEnabled = c.treeEnabled, e.locale = c.locale, e.timeZone = c.timeZone, e.tagFields = c.tagFields, e.timeHeaders = c.timeHeaders, e.cssClassPrefix = c.cssClassPrefix, e.durationBarMode = c.durationBarMode, e.rowHeaderColumns = c.rowHeaderColumns, e.rowMarginBottom = c.rowMarginBottom, e.rowMarginTop = c.rowMarginTop, e.rowMinHeight = c.rowMinHeight, e.scale = c.scale, e.clientState = c.clientState, this.nav.scroll && (e.scrollX = Abhaas.Util.atLeast(0, this.nav.scroll.scrollLeft), e.scrollY = Abhaas.Util.atLeast(0, this.nav.scroll.scrollTop)), e.selected = c.multiselect.events(), e.selectedRows = P.Ki(), e.hashes = c.hashes;\n        var t = c.Li(e.scrollX, e.scrollY);\n\n        if (t) {\n          var i = c.Mi(t),\n              n = c.Ni(t);\n          e.rangeStart = i.start, e.rangeEnd = i.end, e.resources = n;\n        } else e.rangeStart = c.startDate, e.rangeEnd = c.startDate, e.resources = [];\n\n        if (e.dynamicLoading = c.dynamicLoading, e.separators = this.separators, this.syncResourceTree && \"Days\" != this.viewType && (e.tree = this._()), this.syncLinks && (e.links = this.Oi()), \"Manual\" === this.scale && (e.timeline = this.Pi()), \"function\" == typeof c.onCallBackHeader) {\n          var a = {};\n          a.header = e, c.onCallBackHeader(a);\n        }\n\n        var o = c.callbackProps;\n        return Abhaas.isArray(o) && (e.props = {}, o.forEach(function (t) {\n          e.props[t] = c[t];\n        })), e;\n      }, this.Pi = function () {\n        var e = [];\n        return Abhaas.list(c.timeline).each(function (t) {\n          var i = {};\n          i.start = t.start, i.end = t.end, i.width = t.width, e.push(i);\n        }), e;\n      }, this.Oi = function () {\n        var e = [],\n            t = function (e) {\n          var t = {};\n          if (e.tags) for (var i in e.tags) t[i] = \"\" + e.tags[i];\n          return t;\n        };\n\n        if (!Abhaas.isArray(c.links.list)) return e;\n\n        for (var i = 0; i < c.links.list.length; i++) {\n          var n = c.links.list[i],\n              a = {};\n          a.id = n.id, a.from = n.from, a.to = n.to, a.type = n.type, a.tags = t(n), e.push(a);\n        }\n\n        return e;\n      }, this.getViewPort = function () {\n        var e = this.nav.scroll.scrollLeft - u.shiftX,\n            t = this.nav.scroll.scrollTop,\n            i = {};\n\n        if (\"Days\" !== c.viewType) {\n          var n = c.Li(e, t),\n              a = c.Mi(n),\n              o = c.Ni(n),\n              r = c.itline[n.start.x],\n              l = c.itline[n.end.x];\n          i.start = c.getDate(e, !0), i.end = c.getDate(e + c.nav.scroll.clientWidth, !0, !0), i.resources = o, i.topLeft = {\n            \"start\": r.start,\n            \"end\": r.end,\n            x: n.start.x,\n            y: n.start.y,\n            \"resource\": o[0]\n          }, i.bottomRight = {\n            \"start\": l.start,\n            \"end\": l.end,\n            x: n.end.x,\n            y: n.end.y,\n            \"resource\": o[o.length - 1]\n          };\n        } else {\n          var n = c.Li(e, t),\n              a = c.Qi(n);\n          i.start = a.start, i.end = a.end, i.resources = [];\n        }\n\n        return i.rows = function () {\n          return i.resources.map(function (e) {\n            return c.rows.find(e);\n          });\n        }, i.events = function () {\n          if (\"Days\" === c.viewType) return c.events.forRange(i.start, i.end);\n          var e = [];\n          return i.rows().forEach(function (t) {\n            e = e.concat(t.events.forRange(i.start, i.end));\n          }), e;\n        }, i;\n      }, this.Li = function (e, t) {\n        var i = {};\n        i.start = {}, i.end = {};\n        var n = c.Kh(e),\n            a = c.Kh(e + c.nav.scroll.clientWidth);\n        if (!n) return null;\n        i.start.x = n.x, i.end.x = a.x, i.start.y = c.Ri(t).i, i.end.y = c.Ri(t + c.nav.scroll.clientHeight).i, i.start.x = Abhaas.Util.atLeast(i.start.x, 0);\n        var o = this.itline.length;\n        return i.end.x >= o && (i.end.x = o - 1), i;\n      }, this.Si = function () {\n        var e = this.nav.scroll.scrollLeft - u.shiftX,\n            t = this.nav.scroll.scrollTop;\n        return c.Li(e, t);\n      }, this.Mi = function (e) {\n        var t = {};\n        if (this.itline.length <= 0) return t.start = this.startDate, t.end = this.startDate, t;\n        if (!this.itline[e.start.x]) throw \"Internal error: area.start.x is null.\";\n        return t.start = this.itline[e.start.x].start, t.end = this.itline[e.end.x].end, t;\n      }, this.Ni = function (e) {\n        if (!e) var e = this.Li(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);\n        var t = [];\n        t.ignoreToJSON = !0;\n\n        for (var i = e.start.y; i <= e.end.y; i++) {\n          var n = c.rowlist[i];\n          n && !n.hidden && t.push(n.id);\n        }\n\n        return t;\n      }, this.Qi = function (e) {\n        if (!e) var e = this.Li(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);\n        var t = {};\n        if (0 === c.rowlist.length) return t;\n        var i = c.itline[c.itline.length - 1].end.getTime() - c.itline[0].start.getTime();\n        return t.start = c.rowlist[e.start.y] && c.rowlist[e.start.y].start, t.end = c.rowlist[e.end.y] && c.rowlist[e.end.y].start.addTime(i), t;\n      }, this._ = function () {\n        var e = [];\n        e.ignoreToJSON = !0;\n\n        for (var t = 0; t < this.rowlist.length; t++) {\n          var i = this.rowlist[t];\n\n          if (!(i.level > 0 || i.isNewRow)) {\n            var n = this.da(t);\n            e.push(n);\n          }\n        }\n\n        return e;\n      }, this.ea = function (e) {\n        var t = [];\n        t.ignoreToJSON = !0;\n\n        for (var i = 0; i < e.length; i++) {\n          var n = e[i];\n          c.rowlist[n].isNewRow || t.push(c.da(n));\n        }\n\n        return t;\n      }, this.da = function (e) {\n        var t = this.rowlist[e];\n\n        if (\"function\" == typeof c.onGetNodeState) {\n          var i = {};\n          if (i.row = t, i.preventDefault = function () {\n            i.preventDefault.value = !0;\n          }, i.result = {}, c.onGetNodeState(i), i.preventDefault.value) return i.result;\n        }\n\n        var n = {};\n        return n.Value = t.id, n.BackColor = t.backColor, n.Name = t.name, n.InnerHTML = t.html, n.ToolTip = t.toolTip, n.Expanded = t.expanded, n.Children = this.ea(t.children), n.Loaded = t.loaded, n.IsParent = t.isParent, n.Columns = this.Ti(t), t.start.getTime() !== c.La().getTime() && (n.Start = t.start), t.minHeight !== c.rowMinHeight && (n.MinHeight = t.minHeight), t.marginBottom !== c.rowMarginBottom && (n.MarginBottom = t.marginBottom), t.marginTop !== c.rowMarginTop && (n.MarginTop = t.marginTop), t.eventHeight !== c.eventHeight && (n.EventHeight = t.eventHeight), n;\n      }, this.Ti = function (e) {\n        if (!e.columns || 0 === e.columns.length) return null;\n        var t = [];\n        t.ignoreToJSON = !0;\n\n        for (var i = 0; i < e.columns.length; i++) {\n          var n = {};\n          n.InnerHTML = e.columns[i].html, t.push(n);\n        }\n\n        return t;\n      }, this.t = function (e) {\n        var t = this.theme || this.cssClassPrefix;\n        return t ? t + e : \"\";\n      }, this.Md = function () {\n        c.nav.top.className !== c.t(\"_main\") && (c.nav.top.className = c.t(\"_main\"), c.nav.dh1.className = c.t(\"_divider_horizontal\"), c.nav.dh2.className = c.t(\"_divider_horizontal\"), c.divResScroll.className = c.t(\"_rowheader_scroll\"), c.nav.divider.className = c.t(\"_divider\") + \" \" + c.t(\"_splitter\"), c.nav.scroll.className = c.t(\"_scrollable\"), c.Zg.className = c.t(\"_matrix\"), c.nav.loading.className = c.t(\"_loading\"));\n      }, this.Z = function () {\n        this.nav.top.dispose = this.dispose, function (s) {}(\"wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<\");\n      }, this.dispose = function () {\n        var e = c;\n\n        if (e.Ui && !e.Nd) {\n          e.Nd = !0, e.U(), clearInterval(e.ud), clearInterval(e.Vi);\n\n          for (var t in e.timeouts) {\n            var i = e.timeouts[t];\n            Abhaas.isArray(i) ? Abhaas.list(i).each(function (e) {\n              clearTimeout(e);\n            }) : clearTimeout(i);\n          }\n\n          e.V(), e.divBreaks = null, e.divCells = null, e.divCorner = null, e.divCrosshair = null, e.divEvents = null, e.divHeader && (e.divHeader.rows = null), e.divHeader = null, e.divLines = null, e.divNorth = null, e.divRange = null, e.divResScroll = null, e.divSeparators = null, e.divSeparatorsAbove = null, e.divStretch = null, e.divTimeScroll = null, e.vh = null, e.ef = null, e.Zg.calendar = null, e.Zg = null, e.nav.loading = null, e.nav.top.onmousemove = null, e.nav.top.onmouseout = null, e.nav.top.dispose = null, e.nav.top.ontouchstart = null, e.nav.top.ontouchmove = null, e.nav.top.ontouchend = null, e.nav.top.removeAttribute(\"style\"), e.nav.top.removeAttribute(\"class\"), e.nav.top.innerHTML = \"\", e.nav.top.dp = null, e.nav.top = null, e.nav.scroll.onscroll = null, e.nav.scroll.root = null, e.nav.scroll = null, e.Wi && (e.Wi.dispose(), e.Wi = null), e.Abhaas && delete e.Abhaas, Abhaas.ue(window, \"resize\", e.Ve), n.unregister(e), D = null, function () {\n            return;\n          }();\n        }\n      }, this.Ea = function (e) {\n        var t = null;\n        t = e.nodeType ? e.event : e;\n        var i = (c.Zg, c.Xi(t)),\n            a = t;\n\n        if (!c.Yi(i.rowIndex)) {\n          var o = t.part.height || c.Nc.eventHeight(),\n              r = t.part && t.part.top && c.rowlist[t.part.dayIndex] ? t.part.top + c.rowlist[t.part.dayIndex].top : i.top,\n              l = i.left,\n              s = i.width,\n              d = a.cache && \"undefined\" != typeof a.cache.moveVDisabled ? !a.cache.moveVDisabled : !a.data.moveVDisabled,\n              h = a.cache && \"undefined\" != typeof a.cache.moveHDisabled ? !a.cache.moveHDisabled : !a.data.moveHDisabled;\n\n          if (!d && n.moving && (r = c.rowlist[a.part.dayIndex].top), !h && n.moving && (l = t.part.left, \"undefined\" == typeof l)) {\n            var u = Abhaas.DateUtil.diff(t.start(), t.end());\n            u = Abhaas.Util.atLeast(u, 1), l = _.useBox(u) ? c.getPixels(t.start()).boxLeft : c.getPixels(t.start()).left;\n            s = (_.useBox(u) ? c.getPixels(t.end()).boxRight : c.getPixels(t.end()).left) - l;\n          }\n\n          var f = document.createElement(\"div\");\n          f.setAttribute(\"unselectable\", \"on\"), f.style.position = \"absolute\", f.style.width = s + \"px\", f.style.height = o + \"px\", f.style.left = l + \"px\", f.style.top = r + \"px\", f.style.zIndex = 101, f.style.overflow = \"hidden\";\n          var v = document.createElement(\"div\");\n          return f.appendChild(v), f.className = this.t(\"_shadow\"), v.className = this.t(\"_shadow_inner\"), c.divShadow.appendChild(f), f.calendar = c, f;\n        }\n      }, this.Ri = function (e) {\n        for (var t, i = {}, n = 0, a = 0, o = this.rowlist.length, r = 0; r < o; r++) {\n          var l = this.rowlist[r];\n\n          if (!l.hidden && (a += l.height, e < a || r === o - 1)) {\n            n = a - l.height, t = l;\n            break;\n          }\n        }\n\n        return i.top = n, i.bottom = a, i.i = r, i.element = t, i;\n      }, this.links = {}, this.links.list = [], this.links.add = function (e) {\n        if (e) {\n          var t = e;\n          e instanceof Abhaas.Link && (t = e.data), c.links.list.push(e), v.load();\n        }\n      }, this.links.remove = function (e) {\n        var t = e.data;\n        e.isLink || (t = e), v.remove(t);\n      }, this.links.find = function (e) {\n        if (!Abhaas.isArray(c.links.list)) return null;\n        var t = c.link.list.find(function (t) {\n          return t.id === e;\n        });\n        return t ? new Abhaas.Link(t, c) : null;\n      }, this.links.findByFromTo = function (e, t) {\n        if (!Abhaas.isArray(c.links.list)) return null;\n        var i = c.link.list.find(function (i) {\n          return i.from === e && i.to === t;\n        });\n        return i ? new Abhaas.Link(i, c) : null;\n      }, this.links.load = function (e, t, i, n) {\n        if (!e) throw new Abhaas.Exception(\"links.load(): 'url' parameter required\");\n        n = n || {};\n\n        var a = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            o = function (e) {\n          var i,\n              n = e.request;\n\n          try {\n            i = JSON.parse(n.responseText);\n          } catch (e) {\n            var o = {};\n            return o.exception = e, void a(o);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var r = {};\n            if (r.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, r.data = i, \"function\" == typeof t && t(r), r.preventDefault.value) return;\n            c.links.list = i, c.I && c.update();\n          }\n        };\n\n        if (c.linksLoadMethod && \"POST\" === c.linksLoadMethod.toUpperCase()) Abhaas.ajax({\n          \"method\": \"POST\",\n          \"contentType\": \"application/json\",\n          \"data\": {\n            \"start\": c.visibleStart().toString(),\n            \"end\": c.visibleEnd().toString()\n          },\n          \"url\": e,\n          \"success\": o,\n          \"error\": a\n        });else {\n          var r = e;\n\n          if (!n.dontAddStartEnd) {\n            var l = \"start=\" + c.visibleStart().toString() + \"&end=\" + c.visibleEnd().toString();\n            r += r.indexOf(\"?\") > -1 ? \"&\" + l : \"?\" + l;\n          }\n\n          Abhaas.ajax({\n            \"method\": \"GET\",\n            \"url\": r,\n            \"success\": o,\n            \"error\": a\n          });\n        }\n      };\n      var v = {};\n      this.Zi = v, v.items = [], v.clear = function () {\n        c.divLinksAbove.innerHTML = \"\", c.divLinksBelow.innerHTML = \"\", c.elements.links = [], v.items = [];\n      }, v.remove = function (e) {\n        var t = v.findItem(e);\n        Abhaas.rfa(c.links.list, e), t && (t.clear(), Abhaas.rfa(v.items, t));\n      }, v.findItem = function (e) {\n        for (var t = 0; t < v.items.length; t++) {\n          var i = v.items[t];\n          if (i.props === e) return i;\n        }\n\n        return null;\n      }, v.showLinkpoints = function () {\n        h.events().each(function (e) {\n          v.showLinkpoint(e);\n        });\n      }, v.showLinkpoint = function (e) {\n        var t = c.linkPointSize,\n            i = t / 2,\n            n = e.event.part.left,\n            a = c.rowlist[e.event.part.dayIndex].top + e.event.part.top,\n            o = e.event.part.height,\n            r = e.event.part.right,\n            l = Abhaas.Util.div(c.divLinkpoints, n - i, a - i + o / 2, t, t);\n        l.className = c.t(\"_linkpoint\"), l.style.boxSizing = \"border-box\", l.coords = {\n          x: n,\n          y: a + o / 2\n        }, l.type = \"Start\", l.event = e.event, v.activateLinkpoint(l), c.elements.linkpoints.push(l);\n        var s = Abhaas.Util.div(c.divLinkpoints, r - i, a - i + o / 2, t, t);\n        s.className = c.t(\"_linkpoint\"), s.style.boxSizing = \"border-box\", s.coords = {\n          x: r,\n          y: a + o / 2\n        }, s.type = \"Finish\", s.event = e.event, v.activateLinkpoint(s), c.elements.linkpoints.push(s);\n      }, v.activateLinkpoint = function (e) {\n        e.onmousedown = function (t) {\n          var t = t || window.event;\n          return s.source = e, s.calendar = c, v.showLinkpoints(), t.preventDefault && t.preventDefault(), t.stopPropagation && t.stopPropagation(), !1;\n        }, e.onmousemove = function (t) {\n          Abhaas.Util.addClass(e, c.t(\"_linkpoint_hover\")), v.clearHideTimeout();\n        }, e.onmouseout = function (t) {\n          s.source && s.source.event === e.event || Abhaas.Util.removeClass(e, c.t(\"_linkpoint_hover\"));\n        }, e.onmouseup = function (t) {\n          if (s.source) {\n            var i = s.source.type + \"To\" + e.type,\n                n = s.source.event.id(),\n                a = e.event.id(),\n                o = {};\n            if (o.from = n, o.to = a, o.type = i, o.id = null, o.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof c.onLinkCreate && (c.onLinkCreate(o), o.preventDefault.value)) return;\n\n            var r = function () {\n              Abhaas.isArray(c.links.list) || (c.links.list = []), c.links.list.push({\n                \"from\": n,\n                \"to\": a,\n                \"type\": i,\n                \"id\": o.id\n              }), v.load();\n            };\n\n            switch (c.linkCreateHandling) {\n              case \"Update\":\n                r();\n                break;\n\n              case \"CallBack\":\n                c.$i(o);\n                break;\n\n              case \"PostBack\":\n                c._i(o);\n\n                break;\n\n              case \"Notify\":\n                r(), c.aj(o);\n            }\n\n            \"function\" == typeof c.onLinkCreated && c.onLinkCreated(o);\n          }\n        };\n      }, v.hideLinkpoints = function () {\n        c.divLinkpoints.innerHTML = \"\", c.elements.linkpoints = [];\n      }, v.hideTimeout = null, v.hideLinkpointsWithDelay = function () {\n        v.hideTimeout = setTimeout(function () {\n          v.hideLinkpoints();\n        }, 100);\n      }, v.clearHideTimeout = function () {\n        v.hideTimeout && (clearTimeout(v.hideTimeout), v.hideTimeout = null);\n      }, v.load = function () {\n        if (v.clear(), Abhaas.isArray(c.links.list)) for (var e = 0; e < c.links.list.length; e++) {\n          var t = c.links.list[e];\n          v.drawLinkId(t.from, t.to, t);\n        }\n      }, v.drawLinkId = function (e, t, i) {\n        var n = c.events.find(e),\n            a = c.events.bj(n && n.data),\n            o = c.events.find(t),\n            r = c.events.bj(o && o.data);\n        v.drawLink2(a, r, i);\n      }, v.getEventRect = function (e) {\n        if (e && e.tagName && \"div\" === e.tagName.toLowerCase()) {\n          var t = e;\n          return {\n            \"top\": t.offsetTop,\n            \"right\": t.offsetLeft + t.offsetWidth,\n            \"left\": t.offsetLeft,\n            \"height\": t.offsetHeight\n          };\n        }\n\n        if (e instanceof Abhaas.Event) {\n          var i = e;\n          return {\n            \"top\": c.rowlist[i.part.dayIndex].top + (i.part.top || 0),\n            \"right\": i.part.left + i.part.width,\n            \"left\": i.part.left,\n            \"height\": i.part.height\n          };\n        }\n\n        return null;\n      }, v.drawLink2 = function (e, t, i) {\n        var n = v.getSegments(e, t, i);\n        if (!n) return null;\n        var a = v.drawLinkSegments(n, i);\n        return a ? (v.items.push(a), a) : null;\n      }, v.drawLinkSegments = function (e, t) {\n        if (!e) return null;\n\n        var i = {\n          \"divs\": [],\n          \"props\": t,\n          \"clear\": function () {\n            var e = this;\n            Abhaas.de(e.divs), e.divs.forEach(function (e) {\n              Abhaas.rfa(c.elements.links, e);\n            });\n          }\n        },\n            n = (c.eventHeight / 2, t.width || 1),\n            a = t.color,\n            o = t.style,\n            r = t.layer || \"Above\",\n            l = \"Above\" === r,\n            s = l ? c.divLinksAbove : c.divLinksBelow,\n            d = function (e, t) {\n          a && (e.style[\"border\" + t + \"Color\"] = a), o && (e.style[\"border\" + t + \"Style\"] = o);\n        },\n            h = [],\n            u = function (e, t) {\n          c.elements.links.push(e), v(e), f(e), e.divs = h, t || h.push(e), i.divs.push(e);\n        },\n            f = function (e) {\n          e.onmousedown = function (e) {\n            e.cancelBubble = !0;\n          }, e.oncontextmenu = function (e) {\n            if (e = e || window.event, c.contextMenuLink) {\n              var i = new Abhaas.Link(t, c);\n              c.contextMenuLink.show(i);\n            }\n\n            e.cancelBubble = !0, e.preventDefault ? e.preventDefault() : null;\n          };\n        },\n            v = function (e) {\n          e.onmouseenter = function () {\n            Abhaas.Util.addClass(e.divs, c.t(\"_link_hover\"));\n          }, e.onmouseleave = function () {\n            Abhaas.Util.removeClass(e.divs, c.t(\"_link_hover\"));\n          };\n        };\n\n        return e.forEach(function (e) {\n          switch (e.type) {\n            case \"Dot\":\n              var i,\n                  o = 10;\n              a ? (i = Abhaas.Util.div(s, e.endX - 5, e.endY - 5, o, o), i.style.borderRadius = \"10px\", i.style.backgroundColor = a) : (i = Abhaas.Util.div(s, e.endX - 5, e.endY - 5, o, o), i.className = c.t(\"_link_dot\"), Abhaas.Util.addClass(i, t.cssClass)), u(i, !0);\n              break;\n\n            case \"HorizontalLine\":\n              var r = Abhaas.Util.div(s, e.startX, e.startY, e.endX - e.startX, n);\n              r.style.boxSizing = \"border-box\", r.style.borderBottomWidth = n + \"px\", r.className = c.t(\"_link_horizontal\"), Abhaas.Util.addClass(r, t.cssClass), d(r, \"Bottom\"), u(r);\n              break;\n\n            case \"VerticalLine\":\n              var l = Abhaas.Util.div(s, e.startX, e.startY, n, e.endY - e.startY);\n              l.style.boxSizing = \"border-box\", l.style.borderRightWidth = n + \"px\", l.className = c.t(\"_link_vertical\"), Abhaas.Util.addClass(l, t.cssClass), d(l, \"Right\"), u(l);\n              break;\n\n            case \"ArrowUp\":\n              var i;\n              a ? (i = Abhaas.Util.div(s, e.endX - 5 + Math.floor(n / 2), e.endY - 5, 0, 0), i.style.borderColor = \"transparent transparent \" + a + \" transparent\", i.style.borderStyle = \"solid\", i.style.borderWidth = \"5px\") : (i = Abhaas.Util.div(s, e.endX - 6 + Math.floor(n / 2), e.endY - 6, 6, 6), i.className = c.t(\"_link_arrow_up\"), Abhaas.Util.addClass(i, t.cssClass)), u(i, !0);\n              break;\n\n            case \"ArrowDown\":\n              var i;\n              a ? (i = Abhaas.Util.div(s, e.endX - 5 + Math.floor(n / 2), e.endY - 5, 0, 0), i.style.borderColor = a + \" transparent transparent transparent\", i.style.borderStyle = \"solid\", i.style.borderWidth = \"5px\") : (i = Abhaas.Util.div(s, e.endX - 5 + Math.floor(n / 2), e.endY - 6, 6, 6), i.className = c.t(\"_link_arrow_down\"), Abhaas.Util.addClass(i, t.cssClass)), u(i, !0);\n              break;\n\n            case \"ArrowRight\":\n              var i;\n              a ? (i = Abhaas.Util.div(s, e.endX - 6, e.endY - 5, 0, 0), i.style.borderWidth = \"6px\", i.style.borderColor = \"transparent transparent transparent \" + a, i.style.borderStyle = \"solid\") : (i = Abhaas.Util.div(s, e.endX - 6, e.endY - 5, 6, 6), i.className = c.t(\"_link_arrow_right\"), Abhaas.Util.addClass(i, t.cssClass)), u(i, !0);\n              break;\n\n            case \"ArrowLeft\":\n              var i;\n              a ? (i = Abhaas.Util.div(s, e.endX - 6, e.endY - 5, 0, 0), i.style.borderColor = \"transparent \" + a + \" transparent transparent\", i.style.borderStyle = \"solid\", i.style.borderWidth = \"6px\") : (i = Abhaas.Util.div(s, e.endX - 6, e.endY - 5, 6, 6), i.className = c.t(\"_link_arrow_left\"), Abhaas.Util.addClass(i, t.cssClass)), u(i, !0);\n              break;\n\n            default:\n              throw new Abhaas.Exception(\"Invalid segment type\");\n          }\n        }), i;\n      }, v.getSegments = function (e, t, i) {\n        var n = v.getEventRect(e),\n            a = v.getEventRect(t);\n        if (!n) return null;\n        if (!a) return null;\n        var o,\n            r,\n            l = i.type || \"FinishToStart\",\n            s = i.width || 1,\n            d = c.eventHeight,\n            h = c.linkBottomMargin,\n            u = c.eventHeight / 2;\n\n        switch (l) {\n          case \"FinishToStart\":\n            o = {\n              x: n.right,\n              y: n.top\n            }, r = {\n              x: a.left,\n              y: a.top\n            }, o.y > r.y && (a.top + a.height > n.top ? r.y = o.y : o.x <= r.x && (r.y += a.height, r.bottom = !0));\n            break;\n\n          case \"StartToFinish\":\n            o = {\n              x: n.left,\n              y: n.top\n            }, r = {\n              x: a.right,\n              y: a.top\n            };\n            break;\n\n          case \"StartToStart\":\n            o = {\n              x: n.left,\n              y: n.top\n            }, r = {\n              x: a.left,\n              y: a.top\n            };\n            break;\n\n          case \"FinishToFinish\":\n            o = {\n              x: n.right,\n              y: n.top\n            }, r = {\n              x: a.right,\n              y: a.top\n            };\n        }\n\n        var f = [];\n        if (\"FinishToStart\" === l) {\n          if (o.y !== r.y || o.x !== r.x || r.bottom) {\n            if (o.y > r.y || o.y == r.y && r.bottom) {\n              if (o.x <= r.x) {\n                var p = o.x,\n                    g = o.y + d - h,\n                    m = r.x + u,\n                    y = r.y;\n                f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": p,\n                  \"startY\": g,\n                  \"endX\": m,\n                  \"endY\": g\n                }), f.push({\n                  \"type\": \"VerticalLine\",\n                  \"startX\": m,\n                  \"startY\": g,\n                  \"endX\": m,\n                  \"endY\": y\n                }), f.push({\n                  \"type\": o.y < r.y ? \"ArrowDown\" : \"ArrowUp\",\n                  \"startX\": m,\n                  \"startY\": y,\n                  \"endX\": m,\n                  \"endY\": y\n                });\n              } else {\n                var b = 5,\n                    w = r.y + d + b;\n                f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": o.x,\n                  \"startY\": o.y + d - h,\n                  \"endX\": o.x + u + s,\n                  \"endY\": o.y + d - h\n                }), f.push({\n                  \"type\": \"VerticalLine\",\n                  \"startX\": o.x + u,\n                  \"startY\": o.y + d - h,\n                  \"endX\": o.x + u,\n                  \"endY\": w\n                }), f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": r.x - u,\n                  \"startY\": w,\n                  \"endX\": o.x + u + s,\n                  \"endY\": w\n                }), f.push({\n                  \"type\": \"VerticalLine\",\n                  \"startX\": r.x - u,\n                  \"startY\": w,\n                  \"endX\": r.x - u,\n                  \"endY\": r.y + d - h\n                }), f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": r.x - u,\n                  \"startY\": r.y + d - h,\n                  \"endX\": r.x - u + u,\n                  \"endY\": r.y + d - h\n                }), f.push({\n                  \"type\": \"ArrowRight\",\n                  \"startX\": r.x,\n                  \"startY\": r.y + d - h,\n                  \"endX\": r.x,\n                  \"endY\": r.y + d - h\n                });\n              }\n            } else if (o.y === r.y) {\n              if (o.x < r.x) {\n                var p = o.x,\n                    g = o.y + d - h,\n                    m = r.x;\n                f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": p,\n                  \"startY\": g,\n                  \"endX\": m,\n                  \"endY\": g\n                }), f.push({\n                  \"type\": \"ArrowRight\",\n                  \"startX\": r.x,\n                  \"startY\": r.y + d - h,\n                  \"endX\": r.x,\n                  \"endY\": r.y + d - h\n                });\n              } else {\n                var b = 5,\n                    w = r.y + d + b;\n                f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": o.x,\n                  \"startY\": o.y + d - h,\n                  \"endX\": o.x + u + s,\n                  \"endY\": o.y + d - h\n                }), f.push({\n                  \"type\": \"VerticalLine\",\n                  \"startX\": o.x + u,\n                  \"startY\": o.y + d - h,\n                  \"endX\": o.x + u,\n                  \"endY\": w\n                }), f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": r.x - u,\n                  \"startY\": w,\n                  \"endX\": o.x + u + s,\n                  \"endY\": w\n                }), f.push({\n                  \"type\": \"VerticalLine\",\n                  \"startX\": r.x - u,\n                  \"startY\": w,\n                  \"endX\": r.x - u,\n                  \"endY\": r.y + d - h\n                }), f.push({\n                  \"type\": \"HorizontalLine\",\n                  \"startX\": r.x - u,\n                  \"startY\": r.y + d - h,\n                  \"endX\": r.x,\n                  \"endY\": r.y + d - h\n                }), f.push({\n                  \"type\": \"ArrowRight\",\n                  \"startX\": r.x,\n                  \"startY\": r.y + d - h,\n                  \"endX\": r.x,\n                  \"endY\": r.y + d - h\n                });\n              }\n            } else if (o.x > r.x) {\n              var D = 5,\n                  w = r.y - D;\n              f.push({\n                \"type\": \"HorizontalLine\",\n                \"startX\": o.x,\n                \"startY\": o.y + d - h,\n                \"endX\": o.x + u,\n                \"endY\": o.y + d - h\n              }), f.push({\n                \"type\": \"VerticalLine\",\n                \"startX\": o.x + u,\n                \"startY\": o.y + d - h,\n                \"endX\": o.x + u,\n                \"endY\": w\n              }), f.push({\n                \"type\": \"HorizontalLine\",\n                \"startX\": r.x - u,\n                \"startY\": w,\n                \"endX\": o.x + u,\n                \"endY\": w\n              }), f.push({\n                \"type\": \"VerticalLine\",\n                \"startX\": r.x - u,\n                \"startY\": w,\n                \"endX\": r.x - u,\n                \"endY\": r.y + d - h\n              }), f.push({\n                \"type\": \"HorizontalLine\",\n                \"startX\": r.x - u,\n                \"startY\": r.y + d - h,\n                \"endX\": r.x - u + u,\n                \"endY\": r.y + d - h\n              }), f.push({\n                \"type\": \"ArrowRight\",\n                \"startX\": r.x,\n                \"startY\": r.y + d - h,\n                \"endX\": r.x,\n                \"endY\": r.y + d - h\n              });\n            } else {\n              var p = o.x,\n                  g = o.y + d - h,\n                  m = r.x + u,\n                  y = r.y;\n              f.push({\n                \"type\": \"HorizontalLine\",\n                \"startX\": p,\n                \"startY\": g,\n                \"endX\": m,\n                \"endY\": g\n              }), f.push({\n                \"type\": \"VerticalLine\",\n                \"startX\": m,\n                \"startY\": g,\n                \"endX\": m,\n                \"endY\": y\n              }), f.push({\n                \"type\": o.y < r.y ? \"ArrowDown\" : \"ArrowUp\",\n                \"startX\": m,\n                \"startY\": y,\n                \"endX\": m,\n                \"endY\": y\n              });\n            }\n          } else {\n            var m = o.x,\n                y = o.y + d - h;\n            f.push({\n              \"type\": \"Dot\",\n              \"startX\": m,\n              \"startY\": y,\n              \"endX\": m,\n              \"endY\": y\n            });\n          }\n        } else if (\"StartToFinish\" === l) {\n          var D = 5,\n              w = r.y - D;\n          f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": r.x,\n            \"startY\": r.y + d - h,\n            \"endX\": r.x + u + s,\n            \"endY\": r.y + d - h\n          }), f.push({\n            \"type\": \"VerticalLine\",\n            \"startX\": r.x + u,\n            \"startY\": r.y + d - h,\n            \"endX\": r.x + u,\n            \"endY\": w\n          }), f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": o.x - u,\n            \"startY\": w,\n            \"endX\": r.x + u + s,\n            \"endY\": w\n          }), f.push({\n            \"type\": \"VerticalLine\",\n            \"startX\": o.x - u,\n            \"startY\": w,\n            \"endX\": o.x - u,\n            \"endY\": o.y + d - h\n          }), f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": o.x - u,\n            \"startY\": o.y + d - h,\n            \"endX\": o.x,\n            \"endY\": o.y + d - h\n          }), f.push({\n            \"type\": \"ArrowLeft\",\n            \"startX\": r.x,\n            \"startY\": r.y + d - h,\n            \"endX\": r.x,\n            \"endY\": r.y + d - h\n          });\n        } else if (\"StartToStart\" === l) {\n          var k = Math.min(o.x, r.x) - u;\n          f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": k,\n            \"startY\": o.y + d - h,\n            \"endX\": o.x,\n            \"endY\": o.y + d - h\n          }), f.push({\n            \"type\": \"VerticalLine\",\n            \"startX\": k,\n            \"startY\": o.y + d - h,\n            \"endX\": k,\n            \"endY\": r.y + d - h\n          }), f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": k,\n            \"startY\": r.y + d - h,\n            \"endX\": r.x,\n            \"endY\": r.y + d - h\n          }), f.push({\n            \"type\": \"ArrowRight\",\n            \"startX\": r.x,\n            \"startY\": r.y + d - h,\n            \"endX\": r.x,\n            \"endY\": r.y + d - h\n          });\n        } else if (\"FinishToFinish\" === l) {\n          var P = Math.max(r.x, o.x) + u;\n          f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": o.x,\n            \"startY\": o.y + d - h,\n            \"endX\": P,\n            \"endY\": o.y + d - h\n          }), f.push({\n            \"type\": \"VerticalLine\",\n            \"startX\": P,\n            \"startY\": o.y + d - h,\n            \"endX\": P,\n            \"endY\": d - h + r.y\n          }), f.push({\n            \"type\": \"HorizontalLine\",\n            \"startX\": r.x,\n            \"startY\": r.y + d - h,\n            \"endX\": P,\n            \"endY\": r.y + d - h\n          }), f.push({\n            \"type\": \"ArrowLeft\",\n            \"startX\": r.x,\n            \"startY\": r.y + d - h,\n            \"endX\": r.x,\n            \"endY\": r.y + d - h\n          });\n        }\n        return f;\n      }, v.clearShadow = function () {\n        c.divLinkShadow.innerHTML = \"\", c.elements.linkshadow = [];\n      }, v.drawShadow = function (e, t) {\n        v.clearShadow();\n        var i = c.divLinkShadow,\n            n = Abhaas.line(e.x, e.y, t.x, t.y, {\n          \"arrow\": !0,\n          \"cssClass\": c.t(\"_link_shadow\")\n        });\n        i.appendChild(n), c.elements.linkshadow.push(n);\n      }, this.$i = function (e, t) {\n        var i = {};\n        i.from = e.from, i.to = e.to, i.type = e.type, c.O(\"LinkCreate\", i, t);\n      }, this.aj = function (e, t) {\n        var i = {};\n        i.from = e.from, i.to = e.to, i.type = e.type, c.O(\"LinkCreate\", i, t, \"Notify\");\n      }, this._i = function (e, t) {\n        var i = {};\n        i.from = e.from, i.to = e.to, i.type = e.type, c.M(\"LinkCreate\", i, t);\n      }, this.cj = function (e) {\n        var t = 0,\n            i = 0,\n            n = 0;\n        if (e > this.rowlist.length - 1) throw \"Row index too high (AbhaasScheduler._getRowByIndex)\";\n\n        for (var a = 0; a <= e; a++) {\n          var o = this.rowlist[a];\n          o.hidden || (i += o.height, n++);\n        }\n\n        t = i - o.height;\n        var r = {};\n        return r.top = t, r.height = o.height, r.bottom = i, r.i = n - 1, r.data = o, r;\n      }, this.Ud = function () {\n        return !!this.backendUrl;\n      }, this.events.find = function (e) {\n        if (!c.events.list || \"undefined\" == typeof c.events.list.length) return null;\n        if (\"function\" == typeof e) return c.dj(e);\n\n        for (var t = c.events.list.length, i = 0; i < t; i++) if (c.events.list[i].id === e) return new Abhaas.Event(c.events.list[i], c);\n\n        return null;\n      }, this.dj = function (e) {\n        for (var t = c.events.list.length, i = 0; i < t; i++) {\n          var n = new Abhaas.Event(c.events.list[i], c);\n          if (e(n)) return n;\n        }\n\n        return null;\n      }, this.events.focus = function (e) {\n        var t = c.ej(e);\n        t && t.focus();\n      }, this.events.scrollIntoView = function (e) {\n        if (c.ej(e)) {\n          var t = e.start();\n          (t < c.La() || c.Gh() < t) && c.scrollTo(t, \"fast\", \"middle\");\n          var i = e.resource();\n          c.getViewPort().resources.indexOf(i) === -1 && c.scrollToResource(i);\n        }\n      }, this.events.all = function () {\n        for (var e = [], t = 0; t < c.events.list.length; t++) {\n          var i = new Abhaas.Event(c.events.list[t], c);\n          e.push(i);\n        }\n\n        return Abhaas.list(e);\n      }, this.events.forRange = function (e, t) {\n        e = e ? new Abhaas.Date(e) : c.visibleStart(), t = t ? new Abhaas.Date(t) : c.visibleEnd();\n\n        for (var i = Abhaas.list(), n = 0; n < c.events.list.length; n++) {\n          var a = new Abhaas.Event(c.events.list[n], c);\n          Abhaas.Util.overlaps(a.start(), a.end(), e, t) && i.push(a);\n        }\n\n        return i;\n      }, this.events.filter = function (e, t) {\n        c.events.Ed = e, t || c.$b({\n          \"eventsOnly\": !0\n        });\n      }, this.events.edit = function (e) {\n        var t = c.Id(e);\n        return t || Abhaas.list(c.events.fj.rows).isEmpty() ? void c.Sa(t) : void setTimeout(function () {\n          c.Sa(c.Id(e));\n        });\n      }, this.events.load = function (e, t, i) {\n        if (!e) throw new Abhaas.Exception(\"events.load(): 'url' parameter required\");\n\n        var n = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            a = function (e) {\n          var i,\n              a = e.request;\n\n          try {\n            i = JSON.parse(a.responseText);\n          } catch (e) {\n            var o = {};\n            return o.exception = e, void n(o);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var r = {};\n            if (r.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, r.data = i, \"function\" == typeof t && t(r), r.preventDefault.value) return;\n            c.events.list = i, c.I && c.update();\n          }\n        };\n\n        if (c.eventsLoadMethod && \"POST\" === c.eventsLoadMethod.toUpperCase()) Abhaas.ajax({\n          \"method\": \"POST\",\n          \"contentType\": \"application/json\",\n          \"data\": {\n            \"start\": c.visibleStart().toString(),\n            \"end\": c.visibleEnd().toString()\n          },\n          \"url\": e,\n          \"success\": a,\n          \"error\": n\n        });else {\n          var o = e,\n              r = \"start=\" + c.visibleStart().toString() + \"&end=\" + c.visibleEnd().toString();\n          o += o.indexOf(\"?\") > -1 ? \"&\" + r : \"?\" + r, Abhaas.ajax({\n            \"method\": \"GET\",\n            \"url\": o,\n            \"success\": a,\n            \"error\": n\n          });\n        }\n      }, this.events.findRecurrent = function (e, t) {\n        if (!c.events.list || \"undefined\" == typeof c.events.list.length) return null;\n\n        for (var i = c.events.list.length, n = 0; n < i; n++) if (c.events.list[n].recurrentMasterId === e && c.events.list[n].start.getTime() === t.getTime()) return new Abhaas.Event(c.events.list[n], c);\n\n        return null;\n      }, this.events.Rh = function (e) {\n        for (var t = [], i = 0; i < c.rowlist.length; i++) {\n          var n = c.rowlist[i];\n\n          if (!n.isNewRow) {\n            c.Ch(i);\n\n            for (var a = 0; a < n.events.length; a++) {\n              var o = n.events[a].data;\n\n              if (c.Kd(o, e)) {\n                t.push(i), n.events.splice(a, 1);\n                break;\n              }\n            }\n          }\n        }\n\n        return t;\n      }, this.events.bj = function (e) {\n        if (!e) return null;\n\n        for (var t = 0; t < c.rowlist.length; t++) {\n          var i = c.rowlist[t];\n\n          if (!i.hidden && !i.isNewRow) {\n            c.Ch(t);\n\n            for (var n = 0; n < i.events.length; n++) {\n              var a = i.events[n];\n              if (c.Kd(a.data, e)) return i.events[n];\n            }\n          }\n        }\n\n        return null;\n      }, this.events.Sh = function (e) {\n        var t = [],\n            i = c.gj() || \"Days\" === c.viewType,\n            n = Abhaas.indexOf(c.events.list, e);\n        c.yd(n);\n\n        for (var a = 0; a < c.rowlist.length; a++) {\n          var o = c.rowlist[a];\n\n          if (!o.isNewRow) {\n            c.Ch(a);\n            var r = c.hj(e, o);\n            if (r && (\"function\" == typeof c.onBeforeEventRender && (r.cache = c.G.events[n]), t.push(a), !i)) break;\n          }\n        }\n\n        return t;\n      }, this.Kd = function (e, t) {\n        return Abhaas.Util.isSameEvent(e, t);\n      }, this.events.update = function (e, t, i) {\n        var n = {};\n        n.oldEvent = new Abhaas.Event(e.copy(), c), n.newEvent = new Abhaas.Event(e.temp(), c);\n        var i = i || {},\n            o = new Abhaas.Action(c, \"EventUpdate\", n, t);\n\n        if (Abhaas.list(c.events.list).find(function (t) {\n          return c.Kd(t, e.data);\n        })) {\n          if (c.Jd.scope) c.Jd.notify(function () {\n            e.commit();\n          });else if (c.Vg.skip = !0, (c.eventUpdateInplaceOptimization || i.inplace) && n.oldEvent.resource() === n.newEvent.resource() && n.oldEvent.start() === n.newEvent.start() && n.oldEvent.end() === n.newEvent.end()) {\n            e.commit();\n            var r = c.Id(e);\n\n            if (r) {\n              var l = r.event.part;\n              c.ij(r), Abhaas.rfa(c.elements.events, r), e.part = l;\n            } else a(\"Old div not found\");\n\n            var s = c.events.Rh(e.data);\n            s = s.concat(c.events.Sh(e.data)), c.Th(s);\n            var d = c.events.bj(e.data);\n            d && c.hc(d);\n          } else {\n            var s = c.events.Rh(e.data);\n            e.commit(), s = s.concat(c.events.Sh(e.data)), c.events.jj(s);\n          }\n          return o;\n        }\n      }, this.events.remove = function (e, t) {\n        var i = {};\n        i.e = new Abhaas.Event(e.data, c);\n        var n = new Abhaas.Action(c, \"EventRemove\", i, t),\n            a = c.kj(e.data);\n        if (a && c.events.list.splice(a.index, 1), c.Jd.scope) c.Jd.notify();else {\n          c.Vg.skip = !0;\n          var o = c.events.Rh(e.data);\n\n          if (c.eventUpdateInplaceOptimization && 1 === o.length && !c.events.wb(e)) {\n            c.lj(c.rowlist[o[0]]);\n            var r = c.Id(e);\n\n            if (r) {\n              var l = c.elements.events.indexOf(r);\n              c.elements.events.splice(l, 1), c.ij(r);\n            }\n          } else c.events.jj(o);\n        }\n        return n;\n      }, this.events.add = function (e, t, i) {\n        var i = i || {},\n            n = i.renderOnly;\n        e instanceof Abhaas.Event || (e = new Abhaas.Event(e)), e.calendar = c, c.events.list || (c.events.list = []);\n        var a = c.kj(e);\n\n        if (n) {\n          if (!a) throw new Abhaas.Exception(\"Unexpected: event not found in list\");\n        } else {\n          if (a && !c.temp.allowDuplicateEventIds) throw new Abhaas.Exception(\"The event you are trying to add using Abhaas.Scheduler.events.add() is already loaded. A unique ID is required.\");\n          a || c.events.list.push(e.data);\n        }\n\n        var o = new Abhaas.Action(c, \"EventAdd\", r, t);\n        if (!c.I) return o;\n        if (c.Jd.scope) c.Jd.notify();else {\n          c.Vg.skip = !0;\n          var r = {};\n          r.e = e;\n          var l = c.events.Sh(e.data),\n              s = e.data.height || c.eventHeight;\n\n          if (c.eventUpdateInplaceOptimization && 1 === l.length && !c.events.wb(e) && s <= c.eventHeight && !c.eventVersionsEnabled) {\n            var d = c.rowlist[l[0]];\n            c.lj(d);\n            var h = d.events.find(function (t) {\n              return t.data === e.data;\n            });\n            h.part.top = 0, h.part.height = s, h.part.line = 0, c.hc(h);\n          } else c.events.jj(l);\n        }\n        return o;\n      }, this.events.wb = function (e) {\n        var t = e instanceof Abhaas.Event ? e.data : e,\n            i = new Abhaas.Date(t.start),\n            n = new Abhaas.Date(t.end);\n        return !!Abhaas.list(c.events.list).find(function (e) {\n          if (c.Kd(t, e)) return !1;\n          if (t.resource !== e.resource) return !1;\n          var a = new Abhaas.Date(e.start),\n              o = new Abhaas.Date(e.end);\n          return Abhaas.Util.overlaps(i, n, a, o);\n        });\n      }, this.events.addByData = function (e) {\n        c.events.add(new Abhaas.Event(e));\n      }, this.events.removeByData = function (e) {\n        var t = c.events.find(e.id);\n        if (!t) throw new Abhaas.Exception(\"The event to be removed was not found\");\n        c.events.remove(t);\n      }, this.events.updateByData = function (e) {\n        var t = c.events.find(e.id);\n        if (!t) throw new Abhaas.Exception(\"The event to be updated was not found\");\n        c.events.remove(t), c.events.add(new Abhaas.Event(e));\n      }, this.events.removeById = function (e) {\n        var t = c.events.find(e);\n        if (!t) throw new Abhaas.Exception(\"The event to be removed was not found\");\n        c.events.remove(t);\n      }, this.events.fj = {\n        \"rows\": []\n      }, this.events.mj = null, this.events.di = function () {\n        clearTimeout(c.events.mj), c.events.mj = null, c.events.fj.rows = [];\n      }, this.events.nj = 0, this.events.jj = function (e) {\n        var t = c.events.fj.rows;\n        Abhaas.list(e).each(function (e) {\n          t.push(e);\n        }), c.events.fj.rows = Abhaas.ua(t);\n        var i = c.events.immediateRefresh;\n        c.events.mj || (c.events.mj = setTimeout(i, c.events.nj));\n      }, this.events.immediateRefresh = function () {\n        clearTimeout(c.events.mj), c.events.mj = null;\n        var e = c.events.fj.rows;\n        c.events.fj.rows = [], c.Th(e), c.Uh(), c.I && (\"Gantt\" === c.viewType ? c.update() : (c.Vh(e), c.ta(), c.oj()));\n      }, this.Vg = {}, this.Vg.enabled = !1, this.Vg.skip = !1, this.Vg.skipUpdate = function () {\n        return c.Vg.skip;\n      }, this.Vg.skipped = function () {\n        c.Vg.skip = !1;\n      }, this.pj = {}, this.pj.reactDOM = null, this.pj.react = null, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) {\n        if (e) {\n          if (!e.isAction) throw \"Abhaas.Action object required for queue.add()\";\n          c.queue.list.push(e);\n        }\n      }, this.queue.notify = function (e) {\n        var t = {};\n        t.actions = c.queue.list, c.O(\"Notify\", t, e, \"Notify\"), c.queue.list = [];\n      }, this.queue.clear = function () {\n        c.queue.list = [];\n      }, this.queue.pop = function () {\n        return c.queue.list.pop();\n      }, this.cells.find = function (e, t) {\n        var i = c.getPixels(new Abhaas.Date(e));\n        if (!i) return g();\n        var n = i.i,\n            a = c.ah(t);\n        if (!a) return g();\n        var o = a.index;\n        return this.findXy(n, o);\n      }, this.cells.findByPixels = function (e, t) {\n        var i = c.Kh(e);\n        if (!i) return g();\n        var e = i.x,\n            n = c.Ri(t);\n        if (!n) return g();\n        var t = n.i;\n        return this.findXy(e, t);\n      }, this.cells.all = function () {\n        for (var e = [], t = c.itline.length, i = c.rowlist.length, n = 0; n < t; n++) for (var a = 0; a < i; a++) {\n          var o = c.cells.findXy(n, a);\n          e.push(o[0]);\n        }\n\n        return g(e);\n      }, this.cells.qj = function (e, t) {\n        var i = c.Oh(e),\n            n = c.rowlist[t],\n            a = n.start.getTime() - c.La().getTime(),\n            o = i.start.addTime(a),\n            r = i.end.addTime(a),\n            l = {};\n        l.x = e, l.y = t, l.displayY = n.displayY, l.i = e + \"_\" + t, !n.id, l.resource = n.id, l.start = o, l.end = r, l.calendar = c, l.isParent = !(!n.children || !n.children.length), l.update = function () {\n          if (!c.rowlist[l.y].hidden) {\n            var e = c.G.cells[l.i];\n            c.rj(e);\n            var t = c.ch();\n            t.xStart <= l.x && l.x <= t.xEnd && t.yStart <= l.y && l.y <= t.yEnd && c.Hf(l.x, l.y);\n          }\n        }, l.utilization = function (e) {\n          return n.isNewRow ? 0 : (n.sections || n.calculateUtilization(), n.sections.forRange(o, r).maxSum(e));\n        }, l.events = function () {\n          return n.events.forRange(o, r);\n        }, l.div = c.G.cells[l.i];\n        var s = c.sj(e, t);\n        return l.properties = s, l;\n      }, this.cells.findXy = function (e, t) {\n        if (Abhaas.isArray(e)) {\n          for (var i = [], n = 0; n < e.length; n++) {\n            var a = e[n];\n            i.push(c.cells.qj(a.x, a.y));\n          }\n\n          return g(i);\n        }\n\n        return null === e || null === t ? g() : g(c.cells.qj(e, t));\n      };\n\n      var p = function (e) {\n        var t = Abhaas.list();\n        if (Abhaas.isArray(e)) for (var i = 0; i < e.length; i++) t.push(e[i]);else \"object\" == typeof e && t.push(e);\n        return t;\n      };\n\n      this.tj = function (e) {\n        var t = Abhaas.list();\n        if (Abhaas.isArray(e)) for (var i = 0; i < e.length; i++) t.push(e[i]);else \"object\" == typeof e && t.push(e);\n        return t.cssClass = function (e) {\n          return this.each(function (t) {\n            t.properties.cssClass = Abhaas.Util.addClassToString(t.properties.cssClass, e), t.update();\n          }), this;\n        }, t.removeClass = function (e) {\n          return this.each(function (t) {\n            t.properties.cssClass = Abhaas.Util.removeClassFromString(t.properties.cssClass, e), t.update();\n          }), this;\n        }, t.addClass = t.cssClass, t.html = function (e) {\n          return this.each(function (t) {\n            t.properties.html = e, t.update();\n          }), this;\n        }, t.invalidate = function () {\n          return this.each(function (e) {\n            delete c.Dh[e.i];\n          }), this;\n        }, t;\n      };\n\n      var g = this.tj;\n      this.Jd = {}, this.Jd.scope = null, this.Jd.notify = function (e) {\n        c.Jd.scope && Abhaas.Util.safeApply(c.Jd.scope, e);\n      }, this.debug = new Abhaas.Debug(this), this.uj = function (e) {\n        if (\"Days\" !== c.viewType) throw \"Checking row start when viewType !== 'Days'\";\n\n        for (var t = 0; t < c.rowlist.length; t++) {\n          var i = c.rowlist[t],\n              n = i.element ? i.element.data : i.data,\n              a = n.start;\n          if (e.getTime() >= a.getTime() && e.getTime() < a.addDays(1).getTime()) return a;\n        }\n\n        return null;\n      }, this.vj = function (e) {\n        var t = c.La();\n        if (e.ticks === t.ticks) return e;\n        var i = t;\n\n        if (e.ticks < t.ticks) {\n          for (var n = this.itline[0].end.ticks - this.itline[0].start.ticks; i.ticks > e.ticks;) i = i.addTime(-n);\n\n          return i;\n        }\n\n        if (\"Days\" === c.viewType) {\n          var a = this.uj(e),\n              o = a.getTime() - c.La().getTime(),\n              r = this.Mh(e.addTime(-o));\n          if (r.current) return r.current.start.addTime(o);\n          if (r.past) return r.previous.end.addTime(o);\n          throw \"getBoxStart(): time not found\";\n        }\n\n        var r = this.Mh(e);\n        if (r.current) return r.current.start;\n        if (r.past) return r.previous.end;\n\n        if (r.hidden) {\n          var l = r.next.start.getTime() - e.getTime(),\n              s = r.next.end.getTime() - r.next.start.getTime(),\n              d = Math.ceil(l / s) * s;\n          return r.next.start.addTime(-d);\n        }\n\n        throw \"getBoxStart(): time not found\";\n      }, this.Xi = function (e) {\n        var t = this.Ri(c.coords.y);\n        if (\"function\" != typeof e.end) throw \"e.end function is not defined\";\n        if (!e.end()) throw \"e.end() returns null\";\n        var i = Abhaas.DateUtil.diff(e.rawend(), e.start());\n        i = Abhaas.Util.atLeast(i, 1);\n\n        var a = _.useBox(i),\n            o = e.data && \"Milestone\" === e.data.type,\n            r = c.eventHeight,\n            l = 0,\n            s = c.coords.x;\n\n        if (o && (s += r / 2), \"Manual\" === c.scale && !c.eventMoveSkipNonBusiness) {\n          var d = function () {\n            var e = c.getDate(c.coords.x, !0, !0),\n                t = e.addTime(-i),\n                n = c.getPixels(t).boxLeft,\n                a = c.getPixels(e).boxRight,\n                e = Math.min(a, c.coords.x);\n            return e - n;\n          }(),\n              h = Math.min(n.moveOffsetX ? n.moveOffsetX : 0, d);\n\n          s = c.coords.x - h;\n        }\n\n        var u = n.movingEvent ? n.movingEvent.calendar : c,\n            f = 0,\n            v = \"Days\" === this.viewType || this.wj(),\n            p = !e.part.external && u === c;\n\n        if (v && p && (f = this.rowlist[e.part.dayIndex].start.getTime() - this.La().getTime()), a && !o && u === c) {\n          var g = c.Mh(e.start()),\n              m = !g.hidden && !g.past;\n          l = e.start().getTime() - this.vj(e.start().addTime(-f)).addTime(f).getTime(), m && (l = function (e, t) {\n            var i = c.xj(c.Mh(e).current),\n                n = c.xj(c.Kh(s).cell);\n\n            if (i > 1.2 * n) {\n              for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= n;) t -= n;\n\n              t *= a;\n            }\n\n            return t;\n          }(e.start(), l));\n        }\n\n        u && u !== c && u.yj() !== c.yj() && (l = 0);\n        var y = 0;\n        if (n.moveDragStart && \"Manual\" !== c.scale && u === c) {\n          if (a) {\n            var b = e.start().addTime(-f),\n                w = this.vj(b);\n            y = n.moveDragStart.getTime() - w.getTime();\n            var D = 60 * c.yj() * 1e3;\n            y = Math.floor(y / D) * D;\n          } else y = n.moveDragStart.getTime() - e.start().addTime(-f).getTime();\n        } else y = 0;\n        this.eventMoveToPosition && (y = 0);\n        var k = this.getDate(s, !0).addTime(-y).addTime(f);\n        n.resizing && (k = e.start());\n        var P = c.snapToGrid;\n        n.moving ? P = P && c.snapToGridEventMoving : n.resizing ? P = P && c.snapToGridEventResizing : n.range && (P = P && c.snapToGridTimeRangeSelecting), P && (k = this.vj(k.addTime(-f)).addTime(f)), k = k.addTime(l);\n        var x = k.addTime(i),\n            C = k,\n            S = x;\n\n        if (v) {\n          C = k.addTime(-f), S = C.addTime(i);\n          var E = t.element.data.start.getTime() - this.La().getTime();\n          k = C.addTime(E), x = k.addTime(i);\n        }\n\n        if (n.moving && c.eventMoveSkipNonBusiness) {\n          var A = t.i,\n              T = 0;\n          n.moveDragStart && (T = n.moveDragStart.addTime(f), P && (T = this.vj(T.addTime(-f)).addTime(f)));\n          var M = !e.part.dayIndex,\n              H = 0;\n          M || (H = c.zj(e.start(), T, e.part.dayIndex));\n          var i = c.Aj(e),\n              R = c.getDate(s, !0);\n          P && (R = c.getDate(s));\n          var h = c.Bj(R, H, A);\n          k = R.addTime(-h).addTime(f), P && (k = this.vj(k.addTime(-f)).addTime(f)), l = M ? 0 : c.zj(this.vj(e.start().addTime(-f)).addTime(f), e.start(), A), k = k.addTime(l), k <= c.visibleStart() && (k = c.Cj(c.visibleStart(), A).start), x = c.Dj(k, i, A), x >= c.visibleEnd() && (x = c.Ej(c.visibleEnd(), A).end, k = x.addTime(-c.Bj(x, i, A))), C = k.addTime(-f), S = x.addTime(-f);\n        }\n\n        var B = this.getPixels(C),\n            N = this.getPixels(S),\n            U = a ? B.boxLeft : B.left,\n            L = a ? N.boxRight - U : N.left - U;\n        o && (L = r, U -= L / 2);\n        var O = {};\n        return O.top = t.top, O.left = U, O.row = t.element, O.rowIndex = t.i, O.width = L, O.start = k, O.end = x, O.relativeY = c.coords.y - t.top, O;\n      }, this.Fj = function (e, t) {\n        var i = c.Mh(e),\n            n = c.Mh(t),\n            a = null,\n            o = 0;\n        i.hidden && (a = e);\n\n        for (var r = i.i; r <= n.i; r++) {\n          var l = c.itline[r];\n          a && a < l.start && (o += l.start.getTime() - a.getTime()), a = l.end;\n        }\n\n        return o;\n      }, this.Dj = function (e, t, i) {\n        var n = t,\n            a = c.rowlist[i],\n            o = a.data.start.getTime() - c.La().getTime(),\n            r = e.addTime(-o),\n            l = c.Cj(r, i);\n        if (!l) throw new Abhaas.Exception(\"No next cell found\");\n        var s = Abhaas.indexOf(c.itline, l);\n        if (l.start > e) ;else {\n          if (n -= l.end.getTime() - r.getTime(), n <= 0) return e.addTime(t);\n          s += 1;\n        }\n\n        for (var d = s; d < c.itline.length; d++) {\n          var h = c.sj(d, i),\n              u = c.itline[d];\n\n          if (h.business) {\n            var f = u.start.addTime(o),\n                v = u.end.addTime(o),\n                p = v.getTime() - f.getTime();\n            if (n <= p) return f.addTime(n);\n            n -= p;\n          }\n        }\n\n        return c.itline[c.itline.length - 1].end.addTime(n);\n      }, this.zj = function (e, t, i) {\n        var n = c.rowlist[i],\n            a = n.data.start.getTime() - c.La().getTime(),\n            o = (c.Mh(e), e.addTime(-a)),\n            r = t.addTime(-a),\n            l = c.Cj(o, i);\n        if (!l) throw new Abhaas.Exception(\"No next cell found\");\n        var s = 0,\n            d = Abhaas.indexOf(c.itline, l);\n\n        if (l.start <= r) {\n          if (t < l.end.addTime(a)) return l.start > o ? t.getTime() - l.start.addTime(a).getTime() : t.getTime() - e.getTime();\n          s += o > l.start ? l.end.getTime() - o.getTime() : l.end.getTime() - l.start.getTime(), d += 1;\n        }\n\n        for (var h = d; h < c.itline.length; h++) {\n          if (c.sj(h, i).business) {\n            var u = c.itline[h],\n                f = u.start.addTime(a),\n                v = u.end.addTime(a),\n                p = v.getTime() - f.getTime();\n            if (t < f) return s;\n            if (t <= v) return s += t.getTime() - f.getTime();\n            s += p;\n          }\n        }\n\n        var g = t.getTime() - c.itline.last().end.addTime(a).getTime();\n        return s += Abhaas.Util.atLeast(0, g);\n      }, this.Aj = function (e) {\n        if (e.part.duration) {\n          if (isNaN(e.part.duration)) throw new Abhaas.Exception(\"Unable to get calculated duration\");\n          return e.part.duration;\n        }\n\n        var t = e.part.dayIndex;\n        return c.zj(e.start(), e.rawend(), t);\n      }, this.Bj = function (e, t, i) {\n        var n = 0,\n            a = t,\n            o = c.Mh(e);\n        if (!o.current) throw new Abhaas.Exception(\"Current cell not found.\");\n        var r = Abhaas.indexOf(c.itline, o.current);\n\n        if (c.sj(r, i).business) {\n          if (e.addTime(-t) >= o.current.start) return t;\n        } else if (0 === t || e.addTime(-t) >= o.current.start) {\n          var l = c.Cj(e, i);\n          if (l) return e.getTime() - l.start.getTime();\n          var s = c.Ej(e, i);\n          return e.getTime() - s.start.getTime();\n        }\n\n        n += e.getTime() - o.current.start.getTime(), a -= e.getTime() - o.current.start.getTime(), r -= 1;\n\n        for (var d = o.current.start; r >= 0;) {\n          var o = c.itline[r];\n          d > o.end && (n += d.getTime() - o.end.getTime()), d = o.start;\n          var h = o.end.getTime() - o.start.getTime();\n\n          if (c.sj(r, i).business) {\n            if (a <= h) return n += a;\n            n += h, a -= h;\n          } else n += h;\n\n          r -= 1;\n        }\n\n        return n + a;\n      }, this.Ej = function (e, t) {\n        var i = c.Mh(e),\n            n = 0;\n        if (i.past) return null;\n        if (i.current) n = i.i;else {\n          if (!i.previous) return null;\n          n = Abhaas.indexOf(c.itline, i.previous);\n        }\n\n        for (var a = n; a >= 0; a--) {\n          if (c.Xc(a, t)) return c.itline[a];\n        }\n\n        return null;\n      }, this.Cj = function (e, t) {\n        var i = c.Mh(e),\n            n = 0;\n        if (i.past) return null;\n        if (i.current) n = i.i;else {\n          if (!i.next) return null;\n          n = Abhaas.indexOf(c.itline, i.next);\n        }\n\n        for (var a = n; a < c.itline.length; a++) {\n          if (c.Xc(a, t)) return c.itline[a];\n        }\n\n        return null;\n      }, this.Xc = function (e, t) {\n        return c.sj(e, t).business;\n      }, this.yj = function () {\n        switch (this.scale) {\n          case \"CellDuration\":\n            return this.cellDuration;\n\n          case \"Minute\":\n            return 1;\n\n          case \"Hour\":\n            return 60;\n\n          case \"Day\":\n            return 1440;\n\n          case \"Week\":\n            return 10080;\n\n          case \"Month\":\n            return 43200;\n\n          case \"Year\":\n            return 525600;\n\n          case \"Manual\":\n            if (c.itline.length > 0) {\n              var e = c.itline[0];\n              return (e.end.getTime() - e.start.getTime()) / 6e4;\n            }\n\n            return c.cellDuration;\n        }\n\n        throw \"can't guess cellDuration value\";\n      }, this.xj = function (e) {\n        return e.end.ticks - e.start.ticks;\n      }, this.Yi = function (e) {\n        return this.treePreventParentUsage && this.Gj(e);\n      }, this.Gj = function (e) {\n        var t = this.rowlist[e];\n        return !!t.isParent || !!(this.treeEnabled && t.children && t.children.length > 0);\n      }, this.Hj = {}, this.Ij = function () {\n        if (c.treeAutoExpand) {\n          var e = this.Xi(n.movingEvent),\n              t = e.rowIndex,\n              i = this.Gj(t),\n              a = this.Hj;\n\n          if (a.timeout && a.y !== t && (clearTimeout(a.timeout), a.timeout = null), i) {\n            a.y = t;\n            var o = !c.rowlist[a.y].expanded;\n            !a.timeout && o && (a.timeout = setTimeout(function () {\n              !c.rowlist[a.y].expanded && (c.Jj(a.y), c.Kj()), a.timeout = null;\n            }, 500));\n          }\n        }\n      }, this.Lj = function () {\n        clearTimeout(c.Hj.timeout);\n      }, this.cd = function () {\n        var e = n.resizingShadow.width,\n            t = n.resizingShadow.left,\n            i = n.resizingEvent,\n            a = n.resizing.dpBorder,\n            o = c.rowlist[i.part.dayIndex],\n            r = 0;\n        r = o.start.getTime() - c.La().getTime();\n        var l = null,\n            s = null,\n            d = c.snapToGrid && c.snapToGridEventResizing,\n            h = !d;\n        \"left\" === a ? (l = c.getDate(t, h).addTime(r), s = i.rawend()) : \"right\" === a && (l = i.start(), s = c.getDate(t + e, h, !0).addTime(r)), n.resizingShadow.start = l, n.resizingShadow.end = s, b.update();\n      }, this.exportAs = function (e, t) {\n        if (!c.sd()) throw new Abhaas.Exception(\"Abhaas.Scheduler.exportAs(): The instance must be visible during export.\");\n        var i = m.generate(e, t);\n        return new Abhaas.Export(i);\n      }, this[\"export\"] = this.exportAs, this.Rd = {};\n      var m = this.Rd;\n      m.getWidth = function () {\n        var e = m.Td;\n\n        switch (e) {\n          case \"viewport\":\n            return c.nav.top.offsetWidth;\n\n          case \"full\":\n            return c.lh() + m.getRowHeaderWidth();\n\n          case \"range\":\n            return c.getPixels(m.getRangeEnd()).boxRight - c.getPixels(m.getRangeStart()).boxLeft + m.getRowHeaderWidth();\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, m.getHeight = function () {\n        var e = m.Td;\n\n        switch (e) {\n          case \"viewport\":\n            return c.nav.top.offsetHeight - Abhaas.sh(c.nav.scroll) - 1;\n\n          case \"full\":\n            return c.Mj() + c.ph() - Abhaas.sh(c.nav.scroll);\n\n          case \"range\":\n            var t = m.getRows();\n            if (0 === t.length) return c.ph();\n            var i = t.first(),\n                n = t.last();\n            return n.top - i.top + n.height + c.ph();\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, m.getRangeStart = function () {\n        var e = m.Sd.dateFrom || c.La();\n        return new Abhaas.Date(e);\n      }, m.getRangeEnd = function () {\n        var e = m.Sd.dateTo || c.Gh();\n        return new Abhaas.Date(e);\n      }, m.getRangeResStart = function () {\n        return m.Sd.resourceFrom ? c.ah(m.Sd.resourceFrom) : c.rowlist.find(function (e) {\n          return !e.hidden;\n        });\n      }, m.getRangeResEnd = function () {\n        return m.Sd.resourceTo ? c.ah(m.Sd.resourceTo) : c.rowlist.last();\n      }, m.getRowHeaderWidth = function () {\n        return c.oh();\n      }, m.getTimeHeaderHeight = function () {\n        return c.ph();\n      }, m.getCanvas = function () {\n        return m.canvas();\n      }, m.getRectangles = function () {\n        var e = m.getRowHeaderWidth(),\n            t = m.getTimeHeaderHeight(),\n            i = {};\n        i.main = {\n          \"x\": 0,\n          \"y\": 0,\n          \"w\": m.getWidth(),\n          \"h\": m.getHeight()\n        }, i.corner = {\n          \"x\": 0,\n          \"y\": 0,\n          \"w\": e,\n          \"h\": t\n        }, i.grid = {\n          \"x\": e,\n          \"y\": t,\n          \"w\": m.getWidth() - e,\n          \"h\": m.getHeight() - t\n        };\n        var n = i.grid.w,\n            a = c.itline.last();\n        a && a.left + a.width < i.grid.w && (n = a.left + a.width);\n        var o = i.grid.h,\n            r = c.rowlist.last();\n        return r && r.top + r.height < i.grid.h && (o = r.top + r.height), i.gridContent = {\n          \"x\": e,\n          \"y\": t,\n          \"w\": n,\n          \"h\": o\n        }, i;\n      }, m.getRows = function () {\n        var e,\n            t,\n            i,\n            n,\n            a = m.Td,\n            o = Abhaas.list();\n\n        switch (a) {\n          case \"viewport\":\n            e = c.Nj, t = e + c.nav.scroll.offsetHeight, i = c.Ri(e).i, n = c.Ri(t).i;\n            break;\n\n          case \"full\":\n            e = 0, i = 0, n = c.rowlist.length;\n            break;\n\n          case \"range\":\n            var r = m.getRangeResStart(),\n                l = m.getRangeResEnd();\n            if (!r) throw \"Resource specified using resourceFrom option not found during export.\";\n            if (!l) throw \"Resource specified using resourceTo option not found during export.\";\n            i = r.index, n = l.index;\n        }\n\n        n < c.rowlist.length && (n += 1);\n\n        for (var s = i; s < n; s++) {\n          var d = c.rowlist[s];\n          d.hidden || o.push(d);\n        }\n\n        return o.offset = i, o;\n      }, m.getEvents = function () {\n        var e = m.Td;\n\n        switch (e) {\n          case \"full\":\n            var t = Abhaas.list();\n            return Abhaas.list(c.rowlist).each(function (e) {\n              e.hidden || Abhaas.list(e.events).each(function (e) {\n                t.push(e);\n              });\n            }), t;\n\n          case \"viewport\":\n            return h.events().map(function (e) {\n              return e.event;\n            });\n\n          case \"range\":\n            var t = Abhaas.list(),\n                i = m.getRangeStart(),\n                n = m.getRangeEnd();\n            return m.getRows().each(function (e) {\n              Abhaas.list(e.events).filter(function (e) {\n                return Abhaas.Util.overlaps(e.start(), e.end(), i, n);\n              }).each(function (e) {\n                t.push(e);\n              });\n            }), t;\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, m.getLinks = function () {\n        if (Abhaas.isArray(c.links.list)) {\n          for (var e = [], t = 0; t < c.links.list.length; t++) {\n            var i = c.links.list[t],\n                n = c.events.find(i.from),\n                a = c.events.bj(n && n.data),\n                o = c.events.find(i.to),\n                r = c.events.bj(o && o.data),\n                l = v.getSegments(a, r, i);\n            e.push(l);\n          }\n\n          return e;\n        }\n      }, m.getTimeline = function () {\n        var e = m.Td;\n\n        switch (e) {\n          case \"full\":\n            return Abhaas.list(c.itline).addProps({\n              \"offset\": 0\n            });\n\n          case \"viewport\":\n            return m.getViewportTimeline();\n\n          case \"range\":\n            return m.getRangeTimeline();\n\n          default:\n            throw \"Unsupported export mode: \" + e;\n        }\n      }, m.getRangeTimeline = function () {\n        var e = Abhaas.list();\n\n        if (c.itline && c.itline.length > 0) {\n          var t = c.Mh(m.getRangeStart()).i,\n              i = c.Mh(m.getRangeEnd()).i,\n              n = c.Oj();\n          i = Math.min(i, n - 1), t = Abhaas.Util.atLeast(t, 0);\n\n          for (var a = t; a <= i; a++) {\n            var o = c.itline[a];\n            e.push(o);\n          }\n\n          e.offset = t;\n        }\n\n        return e;\n      }, m.getViewportTimeline = function () {\n        var e = Abhaas.list();\n\n        if (c.itline && c.itline.length > 0) {\n          var t = c.Pj,\n              i = t + c.Qj,\n              n = c.Kh(t).x,\n              a = c.Kh(i, !0).x,\n              o = c.Oj();\n          a = Math.min(a, o), n = Abhaas.Util.atLeast(n, 0);\n\n          for (var r = n; r <= a; r++) {\n            var l = c.itline[r];\n            e.push(l);\n          }\n\n          e.offset = n;\n        }\n\n        return e;\n      }, m.getTimeHeader = function (e) {\n        if (\"full\" === m.Td) return Abhaas.list(c.timeHeader[e]);\n        var t,\n            i,\n            n = Abhaas.list();\n        t = m.getViewportOffsetStart(), i = t + m.getViewportOffsetWidth();\n        var a = c.Rj(e, t),\n            o = c.Rj(e, i);\n        o || (o = {\n          \"x\": c.timeHeader[e].length - 1\n        });\n\n        for (var r = a.x; r <= o.x; r++) {\n          var l = c.timeHeader[e][r];\n          n.push(l);\n        }\n\n        return n;\n      }, m.getSeparators = function () {\n        return Abhaas.list(c.separators).map(function (e) {\n          var t = new Abhaas.Date(e.location);\n          if (t.getTime() < c.La().getTime()) return null;\n          if (t.getTime() >= c.Gh().getTime()) return null;\n          var i = c.getPixels(t);\n          return i.cut ? null : i.left < 0 ? null : i.left > c.Oj() * c.cellWidth ? null : {\n            \"left\": i.left,\n            \"color\": e.color,\n            \"width\": e.width || 1\n          };\n        }).filter(function (e) {\n          return !!e;\n        });\n      }, m.fakeDurationBar = function () {\n        var e = document.createElement(\"div\");\n        e.style.display = \"none\", e.className = c.t(A.event);\n        var t = document.createElement(\"div\");\n        t.className = c.t(A.eventBar);\n        var i = document.createElement(\"div\");\n        return i.className = c.t(A.eventBarInner), document.body.appendChild(e), t.appendChild(i), e.appendChild(t), e;\n      }, m.fakeEventLeft = function () {\n        var e = document.createElement(\"div\");\n        return e.style.display = \"none\", e.className = c.t(\"_event_left\"), document.body.appendChild(e), e;\n      }, m.fakeGroup = function () {\n        var e = document.createElement(\"div\");\n        e.style.display = \"none\", e.className = c.t(A.event) + \" \" + c.t(\"_task_group\");\n        var t = document.createElement(\"div\");\n        return t.className = c.t(A.eventInner), e.appendChild(t), c.divEvents.appendChild(e), e;\n      }, m.fakeMilestone = function () {\n        var e = document.createElement(\"div\");\n        e.style.display = \"none\", e.className = c.t(A.event) + \" \" + c.t(\"_task_milestone\");\n        var t = document.createElement(\"div\");\n        return t.className = c.t(A.eventInner), e.appendChild(t), c.divEvents.appendChild(e), e;\n      }, m.fakeCell = function () {\n        var e = document.createElement(\"div\");\n        e.style.display = \"none\", e.className = c.t(\"_cell\"), e.style.position = \"absolute\", e.style.top = \"-2000px\", e.style.left = \"-2000px\";\n        var t = document.createElement(\"div\");\n        return t.className = c.t(\"_cell_inner\"), e.appendChild(t), c.divCells.appendChild(e), e;\n      }, m.fakeRowHeader = function () {\n        var e = document.createElement(\"div\");\n        e.style.display = \"none\", e.className = c.t(\"_rowheader\"), e.style.position = \"absolute\", e.style.top = \"-2000px\", e.style.left = \"-2000px\";\n        var t = document.createElement(\"div\");\n        return t.className = c.t(\"_rowheader_inner\"), e.appendChild(t), c.divResScroll.appendChild(e), e;\n      }, m.fakeExpand = function () {\n        var e = document.createElement(\"div\");\n        return e.style.display = \"none\", e.className = c.t(\"_tree_image_expand\"), document.body.appendChild(e), e;\n      }, m.extractUrl = function (e) {\n        var t = /url\\((\")?([^\"].*[^\"])\\1\\)/.exec(e);\n        return t ? t[2] : null;\n      }, m.getImages = function () {\n        var e = {},\n            t = m.fakeExpand();\n        return e.expand = m.extractUrl(new Abhaas.StyleReader(t).get(\"background-image\")), t.className = c.t(\"_tree_image_collapse\"), e.collapse = m.extractUrl(new Abhaas.StyleReader(t).get(\"background-image\")), t.className = c.t(\"_tree_image_no_children\"), e.nochildren = m.extractUrl(new Abhaas.StyleReader(t).get(\"background-image\")), Abhaas.de(t), e;\n      }, m.getFont = function (e) {\n        return new Abhaas.StyleReader(e).getFont();\n      }, m.getViewportOffsetStart = function () {\n        switch (m.Td) {\n          case \"full\":\n            return 0;\n\n          case \"viewport\":\n            return c.nav.scroll.scrollLeft;\n\n          case \"range\":\n            return c.getPixels(m.getRangeStart()).boxLeft;\n        }\n      }, m.getViewportOffsetTop = function () {\n        switch (m.Td) {\n          case \"full\":\n            return 0;\n\n          case \"viewport\":\n            return c.nav.scroll.scrollTop;\n\n          case \"range\":\n            return m.getRangeResStart().top;\n        }\n      }, m.getViewportOffsetWidth = function () {\n        switch (m.Td) {\n          case \"full\":\n            return c.lh();\n\n          case \"viewport\":\n            return c.nav.scroll.offsetWidth;\n\n          case \"range\":\n            return c.getPixels(m.getRangeEnd()).boxRight - m.getViewportOffsetStart();\n        }\n      }, m.excelBoard = function () {\n        var e = new Abhaas.Excel(),\n            t = e.worksheets.create(\"Scheduler\"),\n            i = new Abhaas.StyleReader(c.nav.corner).get(\"background-color\"),\n            n = new Abhaas.StyleReader(c.nav.top).get(\"border-top-color\"),\n            a = Abhaas.list(c.elements.events).filter(function (e) {\n          return !e.event.data.type;\n        }).map(function (e) {\n          return e.firstChild;\n        }).last(),\n            o = new Abhaas.StyleReader(a).get(\"border-right-color\");\n        e.styles.getDefault().setBackColor(\"#ffaaaa\");\n        var r = e.styles.create();\n        r.setHorizontalAlignment(\"Center\"), r.setBackColor(i), r.setBorderColor(n);\n        var l = e.styles.create();\n        l.setVerticalAlignment(\"Top\"), l.setBackColor(i), l.setBorderColor(n);\n        var s = e.styles.create();\n        s.setVerticalAlignment(\"Top\"), s.setBackColor(\"#ff0000\"), s.setBorderColor(o), t.enableGridlines(!1), t.cell(0, 0).setRowspan(c.timeHeader.length).setStyle(r), t.cell(10, 10).setText(\"hi there\"), Abhaas.list(c.timeHeader).each(function (e, i) {\n          var n = {\n            \"x\": 1,\n            \"y\": 0\n          };\n          m.getTimeHeader(i, \"full\").each(function (e, a) {\n            var o = e.colspan;\n            t.cell(a + n.x, i + n.y).setText(e.innerHTML).setColspan(o).setStyle(r);\n          });\n        }), Abhaas.list(c.rowlist).each(function (e, i) {\n          for (var n = {\n            \"x\": 0,\n            \"y\": 1\n          }, a = \"\", o = 0; o < e.level; o++) a += \"  \";\n\n          t.cell(n.x, i + n.y).setText(a + e.html).setRowspan(e.lines.length).setStyle(l);\n        });\n        var d = {\n          \"x\": 0,\n          \"y\": c.timeHeader.length\n        },\n            h = d.y;\n        return Abhaas.list(c.rowlist).each(function (e, i) {\n          Abhaas.list(e.lines).each(function (e, n) {\n            var a = d.x;\n            Abhaas.list(e).each(function (e) {\n              var n = c.Mh(e.start()).i,\n                  o = c.Mh(e.end()).i,\n                  r = 1 + o - n;\n              t.cell(n + a, i + h).setText(e.client.html()).setColspan(r).setStyle(s), a += r - 1;\n            });\n          }), h += e.lines.length - 1;\n        }), e;\n      }, m.Sd = null, m.Td = null, m.generate = function (e, t) {\n        \"object\" == typeof e && (t = e, e = null);\n        var t = t || {},\n            e = e || t.format || \"svg\",\n            i = t.scale || 1;\n        if (\"xls\" === e) return m.excelBoard();\n        \"jpg\" === e.toLowerCase() && (e = \"jpeg\");\n        var n = t.area || \"viewport\";\n        m.Sd = t, m.Td = n, m.getRows().each(function (e) {\n          c.Sj(e);\n        });\n        var a,\n            o = m.getWidth(),\n            r = m.getHeight();\n\n        switch (e.toLowerCase()) {\n          case \"svg\":\n            a = new Abhaas.Svg(o, r);\n            break;\n\n          case \"png\":\n            a = new Abhaas.Canvas(o, r, \"image/png\", i);\n            break;\n\n          case \"jpeg\":\n            a = new Abhaas.Canvas(o, r, \"image/jpeg\", i, t.quality);\n            break;\n\n          default:\n            throw \"Export format not supported: \" + e;\n        }\n\n        var l = m.getRectangles(),\n            s = m.getImages(),\n            d = new Abhaas.StyleReader(c.nav.top).get(\"background-color\"),\n            h = new Abhaas.StyleReader(c.nav.corner).get(\"background-color\"),\n            u = new Abhaas.StyleReader(c.nav.top).get(\"border-top-color\"),\n            f = new Abhaas.StyleReader(c.nav.divider).get(\"background-color\"),\n            v = Abhaas.list(c.elements.events).filter(function (e) {\n          return !e.event.data.type;\n        }).map(function (e) {\n          return e.firstChild;\n        }).last(),\n            p = new Abhaas.StyleReader(v).get(\"border-right-color\"),\n            g = m.getFont(v),\n            y = new Abhaas.StyleReader(v).get(\"color\"),\n            b = new Abhaas.StyleReader(v).get(\"background-color\");\n        b = Abhaas.Util.isTransparentColor(b) ? \"white\" : b;\n        var w = m.fakeMilestone(),\n            D = new Abhaas.StyleReader(w.firstChild).get(\"background-color\");\n        Abhaas.de(w);\n        var k = m.fakeGroup(),\n            P = new Abhaas.StyleReader(k.firstChild).get(\"background-color\");\n        Abhaas.de(k);\n        var x = m.fakeDurationBar(),\n            C = new Abhaas.StyleReader(x.firstChild).get(\"background-color\"),\n            S = new Abhaas.StyleReader(x.firstChild.firstChild).get(\"background-color\");\n        Abhaas.de(x);\n        var E = m.fakeEventLeft(),\n            A = new Abhaas.StyleReader(E).get(\"color\");\n        Abhaas.de(E);\n        var T = m.fakeCell(),\n            M = new Abhaas.StyleReader(T).get(\"background-color\");\n        Abhaas.Util.addClass(T, c.t(\"_cell_business\"));\n\n        var H = new Abhaas.StyleReader(T).get(\"background-color\"),\n            _ = m.getFont(T),\n            B = new Abhaas.StyleReader(T).get(\"color\");\n\n        Abhaas.de(T);\n        var N = Abhaas.Util.firstPropValue(c.G.linesVertical),\n            U = new Abhaas.StyleReader(N).get(\"background-color\"),\n            L = c.G.timeHeader[\"0_0\"],\n            O = m.getFont(L),\n            z = new Abhaas.StyleReader(L).get(\"color\"),\n            I = new Abhaas.StyleReader(L).get(\"background-color\"),\n            j = m.fakeRowHeader(),\n            F = m.getFont(j),\n            W = new Abhaas.StyleReader(j).get(\"color\"),\n            G = new Abhaas.StyleReader(j).get(\"background-color\");\n        if (Abhaas.de(j), c.rowHeaderColumns && c.Wi && c.Wi.blocks[0]) var Y = c.Wi.blocks[0].section.firstChild,\n            V = new Abhaas.StyleReader(Y).getFont(),\n            J = new Abhaas.StyleReader(Y).get(\"color\");\n        var X = m.getViewportOffsetStart(),\n            q = m.getViewportOffsetTop();\n        a.fillRect(l.main, \"white\"), a.fillRect(l.main, d), a.fillRect(l.corner, h);\n        var K = l.corner.x;\n        Abhaas.list(c.rowHeaderColumns).each(function (e, t) {\n          var i = c.rowHeaderCols[t],\n              n = {};\n          n.x = K, n.w = i + 1, n.y = l.corner.h - c.Wi.height, n.h = c.Wi.height + 1;\n          var o = 3,\n              r = Abhaas.Util.copyProps(n);\n          r.x += o, r.w -= o;\n          var s = e.name || e.title || \"\";\n          a.text(r, s, V, J), a.rect(n, u), K += i;\n        });\n        var Q = \"function\" == typeof c.onBeforeTimeHeaderExport;\n        Abhaas.list(c.timeHeader).each(function (e, t) {\n          m.getTimeHeader(t, n).each(function (e) {\n            var i = l.grid.x + e.left - X,\n                n = e.width,\n                o = R.timeHeader(t),\n                r = o.top,\n                s = o.height,\n                d = e.innerHTML,\n                h = e.backColor;\n\n            if (Q) {\n              var f = {};\n              f.header = {}, f.header.start = e.start, f.header.end = e.end, f.header.level = t, f.header.text = e.text, f.header.html = e.innerHTML, f.text = e.innerHTML, f.backColor = e.backColor, c.onBeforeTimeHeaderExport(f), d = f.text, h = f.backColor;\n            }\n\n            var v = Abhaas.Util.atLeast(0, l.grid.x - i);\n            i += v, n -= v;\n            var v = Abhaas.Util.atLeast(0, i + n - (l.grid.x + l.grid.w));\n            n -= v;\n            var p = {\n              \"x\": i,\n              \"y\": r,\n              \"w\": n + 1,\n              \"h\": s + 1\n            };\n            h = h || I, a.fillRect(p, h), a.rect(p, u), a.text(p, d, O, z, \"center\");\n          });\n        });\n        var $ = \"function\" == typeof c.onBeforeCellExport;\n        m.getRows().each(function (e, t, i) {\n          var t = e.index;\n          m.getTimeline().each(function (i, n, o) {\n            var n = o.offset + n,\n                r = c.sj(n, t),\n                s = r.business,\n                d = c.Tj(n, t),\n                h = r.html,\n                u = r.horizontalAlignment || \"left\",\n                f = r.backColor || (s ? H : M);\n            $ && (d || (d = {}, d.cell = c.cells.findXy(n, t)[0]), d.text = h, d.horizontalAlignment = u, d.backColor = f, c.onBeforeCellExport(d), h = d.text, u = d.horizontalAlignment, f = d.backColor);\n            var v = l.grid.y + e.top - q;\n            v += Abhaas.Util.atLeast(0, l.grid.y - v);\n            var p = l.grid.x + i.left - X;\n            p += Abhaas.Util.atLeast(0, l.grid.x - p);\n            var g = {\n              \"x\": p,\n              \"y\": v,\n              \"w\": i.width,\n              \"h\": e.height\n            };\n            a.fillRect(g, f);\n            var m = {};\n            m.x = g.x + 1, m.y = g.y + 1, m.w = g.w - 2, m.h = g.h - 2, h && a.text(m, h, _, B, u);\n          });\n        }), m.getRows().each(function (e) {\n          var t = l.grid.y + e.top - q;\n          t += Abhaas.Util.atLeast(0, l.grid.y - t), t !== l.grid.y && a.line(l.gridContent.x + 1, t, l.gridContent.x + l.gridContent.w - 1, t, U);\n        }), m.getTimeline().each(function (e) {\n          var t = l.grid.x + e.left - X;\n          t += Abhaas.Util.atLeast(0, l.grid.x - t), t !== l.grid.x && a.line(t, l.grid.y + 1, t, l.grid.y + l.grid.h - 2, U);\n        });\n        var Z = m.getTimeline().last();\n        !function (e) {\n          var t = l.grid.x + e.left - X + e.width;\n          a.line(t, l.grid.y + 1, t, l.grid.y + l.grid.h - 2, U);\n        }(Z), m.getSeparators().forEach(function (e) {\n          var t = l.grid.x + e.left - X;\n          a.line(t, l.grid.y + 1, t, l.grid.y + l.grid.h - 2, e.color);\n        });\n        var ee = \"function\" == typeof c.onBeforeRowHeaderRender,\n            te = \"function\" == typeof c.onBeforeRowHeaderExport;\n        return m.getLinks().forEach(function (e) {\n          e.map(function (e) {\n            return m.shiftableSegment(e).shift(l.grid.x - X, l.grid.y - q);\n          }).forEach(function (e) {\n            switch (e.type) {\n              case \"HorizontalLine\":\n                a.line(e.startX, e.startY, e.endX, e.endY, \"red\");\n                break;\n\n              case \"VerticalLine\":\n                a.line(e.startX, e.startY, e.endX, e.endY, \"red\");\n                break;\n\n              case \"ArrowRight\":\n                a.triangle({\n                  x: e.startX - 10,\n                  y: e.startY - 4.5,\n                  w: 10,\n                  h: 10\n                }, \"red\");\n                break;\n\n              case \"ArrowDown\":\n                a.triangle({\n                  x: e.startX - 4.5,\n                  y: e.startY - 10,\n                  w: 10,\n                  h: 10\n                }, \"red\", 90);\n                break;\n\n              case \"ArrowLeft\":\n                a.triangle({\n                  x: e.startX,\n                  y: e.startY - 4.5,\n                  w: 10,\n                  h: 10\n                }, \"red\", 180);\n                break;\n\n              case \"ArrowUp\":\n                a.triangle({\n                  x: e.startX - 4.5,\n                  y: e.startY,\n                  w: 10,\n                  h: 10\n                }, \"red\", -90);\n            }\n          });\n        }), m.getEvents().each(function (e) {\n          function t() {\n            var e = M.backColor;\n            a.diamond(H, e);\n          }\n\n          function i() {\n            var e = {\n              \"x\": h,\n              \"y\": d,\n              \"w\": r,\n              \"h\": M.barHeight\n            },\n                t = {\n              \"x\": h + x,\n              \"y\": d,\n              \"w\": E,\n              \"h\": M.barHeight\n            },\n                i = P,\n                n = {\n              x: h,\n              y: d + 5,\n              h: H.h - 6 - 5,\n              w: H.w\n            };\n            a.fillRect(n, i), a.upperRightCorner({\n              x: h + H.w - 6,\n              y: n.y + n.h,\n              w: 6,\n              h: 6\n            }, i), a.upperLeftCorner({\n              x: h,\n              y: n.y + n.h,\n              w: 6,\n              h: 6\n            }, i), s && (a.fillRect(e, m), E > 0 && a.fillRect(t, v));\n          }\n\n          function n() {\n            var t = {\n              \"x\": h,\n              \"y\": d,\n              \"w\": r,\n              \"h\": M.barHeight\n            },\n                i = {\n              \"x\": h + x,\n              \"y\": d,\n              \"w\": E,\n              \"h\": M.barHeight\n            };\n            ({\n              \"x\": h + T,\n              \"y\": d + M.barHeight,\n              \"w\": r - T,\n              \"h\": e.part.height - M.barHeight\n            });\n            a.fillRect(H, M.backColor), a.text(H, M.text, {\n              \"size\": M.fontSize,\n              \"family\": M.fontFamily,\n              \"style\": M.fontStyle\n            }, M.fontColor, M.horizontalAlignment, M.textPadding), a.rect(H, M.borderColor), s && (a.fillRect(t, m), E > 0 && a.fillRect(i, v)), Abhaas.list(M.areas).each(function (t) {\n              if (Abhaas.Areas.isAlwaysVisible(t)) {\n                var i = t.left || 0;\n                t.start ? i = c.getPixels(new Abhaas.Date(t.start)).left - e.part.left : \"number\" == typeof t.right && (i = e.part.width - t.right - t.width);\n                var n = t.width || t.w;\n                \"number\" == typeof t.right ? n = e.part.width - t.right - i : t.end && (n = c.getPixels(new Abhaas.Date(t.end)).left - t.left - e.part.left + 1);\n                var o = t.top,\n                    r = t.height || t.h;\n                \"number\" == typeof t.bottom && (r = e.part.height - t.bottom - o);\n                var l = {\n                  \"x\": h + i,\n                  \"y\": d + o,\n                  \"w\": n,\n                  \"h\": r\n                };\n\n                if (t.backColor && a.fillRect(l, t.backColor), t.image) {\n                  var s = new Image();\n                  s.src = t.image, a.image(l, s);\n                } else t.html && a.text(l, t.html, {\n                  \"size\": t.fontSize || M.fontSize,\n                  \"family\": t.fontFamily || M.fontFamily,\n                  \"style\": t.fontStyle || M.fontStyle\n                }, t.fontColor || M.fontColor, null, t.padding);\n              }\n            });\n          }\n\n          var o = c.rowlist[e.part.dayIndex].top,\n              r = e.part.width,\n              s = e.client && e.client.barVisible && e.client.barVisible(),\n              d = l.grid.y + o + e.part.top - q;\n          d += Abhaas.Util.atLeast(0, l.grid.y - d);\n          var h = l.grid.x + e.part.left - X + 1,\n              u = Abhaas.Util.atLeast(0, l.grid.x - h);\n          h += u, r -= u;\n          var f = e.cache || e.data,\n              v = f.barColor || S,\n              m = f.barBackColor || C,\n              w = f.backColor || b,\n              k = f.fontColor || y,\n              x = e.part.barLeft,\n              E = e.part.barWidth;\n          \"PercentComplete\" === c.durationBarMode && (x = 0, E = Abhaas.Util.atLeast(0, Math.floor(e.part.width * (f.complete || 0) / 100))), \"Milestone\" === e.data.type && (w = D);\n          var T = 2,\n              M = {};\n          M.e = e, M.text = e.text ? e.text() : e.client.html(), M.areas = f.areas, M.fontSize = g.size, M.fontFamily = g.family, M.fontStyle = g.style, M.fontColor = k, M.backColor = w, M.borderColor = p, M.horizontalAlignment = \"left\", M.barHeight = 4, M.textPadding = 2, \"function\" == typeof c.onBeforeEventExport && c.onBeforeEventExport(M);\n          var H = {\n            \"x\": h,\n            \"y\": d,\n            \"w\": r,\n            \"h\": e.part.height\n          };\n          \"Milestone\" === e.data.type ? t() : \"Group\" === e.data.type ? i() : n();\n\n          var _ = f.textLeft || f.htmlLeft;\n\n          if (_) {\n            var R = {\n              \"size\": M.fontSize,\n              \"family\": M.fontFamily,\n              \"style\": M.fontStyle\n            },\n                B = a.textWidth(_, R),\n                N = {\n              \"x\": h - (c.eventHtmlLeftMargin + B),\n              \"y\": d,\n              \"w\": B,\n              \"h\": e.part.height\n            };\n            a.text(N, _, R, A);\n          }\n\n          var U = f.textRight || f.htmlRight;\n\n          if (U) {\n            var L = {\n              \"size\": M.fontSize,\n              \"family\": M.fontFamily,\n              \"style\": M.fontStyle\n            },\n                O = a.textWidth(U, L),\n                z = {\n              \"x\": h + r + c.eventHtmlRightMargin,\n              \"y\": d,\n              \"w\": O,\n              \"h\": e.part.height\n            };\n            a.text(z, U, L, A);\n          }\n        }), m.getRows().each(function (e) {\n          var t = l.grid.y + e.top - q;\n          t += Abhaas.Util.atLeast(0, l.grid.y - t);\n          var i = c.treeEnabled && !e.isNewRow,\n              n = 10,\n              o = i ? e.level * c.treeIndent + c.treeImageMarginLeft : 3;\n          \"Disabled\" !== c.rowMoveHandling && (o += 10);\n          var r = {\n            \"x\": 0,\n            \"y\": t,\n            \"w\": l.grid.x + 1,\n            \"h\": e.height + 1\n          },\n              d = e;\n\n          if (ee) {\n            d = c.Uj(e).row;\n          }\n\n          var h = {};\n          h.text = d.html, h.backColor = d.backColor || G, h.fontSize = F.size, h.fontFamily = F.family, h.fontStyle = F.style, h.fontColor = d.fontColor || W, h.borderColor = u, h.horizontalAlignment = \"left\", h.row = c.yi(e), h.row.columns = [], d.columns && d.columns.forEach(function (e) {\n            var t = Abhaas.Util.copyProps(e, {}, [\"text\", \"html\", \"backColor\", \"horizontalAlignment\"]);\n            t.text = e.text || e.html, t.fontSize = h.fontSize, t.fontFamily = h.fontFamily, t.fontStyle = h.fontStyle, t.fontColor = h.fontColor, t.horizontalAlignment = t.horizontalAlignment || h.horizontalAlignment, t.backColor = t.backColor || h.backColor, h.row.columns.push(t);\n          }), e.isNewRow && (h.text = c.rowCreateHtml), te && c.onBeforeRowHeaderExport(h);\n          var f = {\n            \"x\": o,\n            \"y\": t + c.treeImageMarginTop + 2,\n            \"w\": 10,\n            \"h\": 10\n          },\n              v = i ? o + n + 3 : o,\n              p = i ? r.w - v : r.w,\n              g = {\n            \"x\": v,\n            \"y\": t,\n            \"w\": p,\n            \"h\": e.height + 1\n          };\n\n          if (c.rowHeaderCols && (g.w = c.rowHeaderCols[0] - v), a.fillRect(r, h.backColor), a.text(g, h.text, {\n            \"size\": h.fontSize,\n            \"family\": h.fontFamily,\n            \"style\": h.fontStyle\n          }, h.fontColor, h.horizontalAlignment), a.rect(r, h.borderColor), i) {\n            var m = null;\n            m = Abhaas.list(e.children).isEmpty() ? s.nochildren : e.expanded ? s.collapse : s.expand, a.image(f, m);\n          }\n\n          if (c.rowHeaderCols) {\n            var o = r.x;\n            Abhaas.list(c.rowHeaderCols).each(function (e, t) {\n              if (0 !== t) {\n                var i = h.row.columns[t - 1] || {},\n                    n = Abhaas.Util.copyProps(r);\n                n.x = o, n.w = e + 1;\n                var l = 3,\n                    s = Abhaas.Util.copyProps(n);\n                s.x += l, s.w -= l;\n                var d = i.backColor || h.backColor;\n                a.fillRect(n, d), i.text && a.text(s, i.text, {\n                  \"size\": i.fontSize,\n                  \"family\": i.fontFamily,\n                  \"style\": i.fontStyle\n                }, i.fontColor, i.horizontalAlignment), a.rect(n, h.borderColor);\n              }\n\n              o += e;\n            });\n          }\n        }), a.rect(l.main, u), a.line(l.grid.x, 0, l.grid.x, l.main.h, f), a.line(0, l.grid.y, l.main.w, l.grid.y, f), a;\n      }, m.shiftableSegment = function (e) {\n        return {\n          \"startX\": e.startX,\n          \"endX\": e.endX,\n          \"startY\": e.startY,\n          \"endY\": e.endY,\n          \"type\": e.type,\n          \"shift\": function (t, i) {\n            return m.shiftableSegment({\n              \"startX\": e.startX + t,\n              \"endX\": e.endX + t,\n              \"startY\": e.startY + i,\n              \"endY\": e.endY + i,\n              \"type\": e.type\n            });\n          }\n        };\n      }, this.Vj = {};\n      var y = this.Vj;\n      y.findJointDivs = function (e) {\n        var t = e.data.join;\n        return t ? Abhaas.list(c.elements.events).filter(function (i) {\n          return i.event.data.join === t && i.event !== e;\n        }) : Abhaas.list();\n      }, this.Wj = {};\n      var b = this.Wj;\n      b.divs = [], b.list = [], b.forbidden = !1, b.additional = function () {\n        var e = Abhaas.list(),\n            t = c.multiselect.isSelected(n.resizing.event),\n            i = c.allowMultiResize,\n            e = Abhaas.list();\n\n        if (t && i && (e = Abhaas.list(c.multiselect.Lb).filter(function (e) {\n          return e !== n.resizing;\n        })), c.jointEventsResize) {\n          var a = y.findJointDivs(n.resizingEvent);\n          e = e.concat(a);\n        }\n\n        return e;\n      }, b.update = function () {\n        b.clear(), b.draw();\n      }, b.clear = function () {\n        Abhaas.de(b.divs), b.divs = [];\n      }, b.draw = function () {\n        if (n.resizing) {\n          var e = n.resizingEvent,\n              t = n.resizingShadow,\n              i = t.start.getTime() - e.start().getTime(),\n              a = t.end.getTime() - e.end().getTime(),\n              o = 0;\n\n          if (b.list = [], b.forbidden = !1, b.invalid = !1, b.rowoffset = o, b.additional().each(function (e) {\n            if (e.event) {\n              var t = e.event,\n                  n = c.rowlist[t.part.dayIndex + o];\n              if (!n) return void (b.invalid = !0);\n              var r = t.part.top + n.top,\n                  l = t.part.height,\n                  s = t.start().addTime(i),\n                  d = t.end().addTime(a),\n                  h = {};\n              h.event = t, h.start = s, h.end = d, h.overlapping = !1, b.list.push(h);\n              var u = c.getPixels(s),\n                  f = c.getPixels(d),\n                  v = Abhaas.DateUtil.diff(t.rawend(), t.start());\n              v = Abhaas.Util.atLeast(v, 1);\n\n              var p = _.useBox(v),\n                  g = p ? u.boxLeft : u.left,\n                  m = p ? f.boxRight - g : f.left - g,\n                  y = document.createElement(\"div\");\n\n              y.style.position = \"absolute\", y.style.left = g + \"px\", y.style.top = r + \"px\", y.style.height = l + \"px\", y.style.width = m + \"px\", y.style.zIndex = 101, y.style.overflow = \"hidden\", y.className = c.t(\"_shadow\"), y.info = h;\n              var w = document.createElement(\"div\");\n              w.className = c.t(\"_shadow_inner\"), y.appendChild(w), c.Zg.appendChild(y), b.divs.push(y);\n            }\n          }), b.invalid) {\n            var r = c.t(\"_shadow_overlap\");\n            return void Abhaas.list(b.divs).each(function (e) {\n              Abhaas.Util.addClass(e, r);\n            });\n          }\n\n          Abhaas.list(b.divs).each(function (e) {\n            if (e.info) {\n              var t = e,\n                  i = e.info,\n                  a = e.info.event,\n                  r = c.rowlist[a.part.dayIndex + o],\n                  l = c.getPixels(i.start),\n                  s = c.getPixels(i.end),\n                  d = l.left,\n                  h = s.left - d,\n                  u = Abhaas.list(b.list).map(function (e) {\n                return e.event.data;\n              }).add(n.resizing.event.data);\n              c.Xj(t, r, d, h, u), c.Yj(t, i.start, i.end, a.resource()), t.overlapping && (i.overlapping = !0, b.forbidden = !0);\n            }\n          });\n        }\n      }, this.Zj = {}, this.Zj.modifiedProps = function () {\n        var e = new Abhaas.Scheduler(),\n            t = Abhaas.Util.members(c, 2),\n            i = [];\n        return i.push(\"<div id='dp'></div>\"), i.push(\"<script>\"), i.push(\"var dp = new Abhaas.Scheduler('dp');\"), t.properties.each(function (t) {\n          var n,\n              a,\n              o = t.name,\n              r = o.split(\".\");\n\n          if (r.length > 1) {\n            var l = r[0],\n                s = r[1];\n            n = JSON.stringify(e[l][s]), a = JSON.stringify(c[l][s]);\n          } else n = JSON.stringify(e[o]), a = JSON.stringify(c[o]);\n\n          n !== a && i.push(\"dp.\" + o + \" = \" + a + \";\");\n        }), t.events.each(function (e) {\n          var t = e.name;\n          \"function\" == typeof c[t] && i.push(\"dp.\" + t + \" = \" + c[t].toString() + \";\");\n        }), i.push(\"dp.init();\"), i.push(\"</script>\"), i.join(\"\\n\");\n      }, this.$j = {};\n      var w = this.$j;\n      w.divs = [], w.list = [], w.forbidden = !1, w.verticalAll = function () {\n        return \"All\" === c.multiMoveVerticalMode;\n      }, w.additional = function () {\n        var e = Abhaas.list(),\n            t = c.Nh,\n            i = c.multiselect.isSelected(n.movingEvent),\n            a = c.allowMultiMove;\n\n        if (i && a && (e = Abhaas.list(c.multiselect.Lb).filter(function (e) {\n          return e !== n.moving && e !== t.moving;\n        })), c.jointEventsMove) {\n          var o = y.findJointDivs(n.movingEvent);\n          e = e.concat(o);\n        }\n\n        return e;\n      }, w.update = function () {\n        w.clear(), w.draw();\n      }, w.draw = function () {\n        if (n.moving) {\n          var e = n.movingEvent,\n              t = n.movingShadow.start,\n              i = t.getTime() - e.start().getTime(),\n              a = e.part.dayIndex,\n              o = Abhaas.indexOf(c.rowlist, n.movingShadow.row),\n              r = o - a;\n\n          if (w.verticalAll() || (r = 0), w.list = [], w.forbidden = !1, w.invalid = !1, w.rowoffset = r, w.additional().each(function (e) {\n            if (e.event) {\n              var t = e.event,\n                  n = c.rowlist[t.part.dayIndex + r];\n              if (!n) return void (w.invalid = !0);\n              var a = t.part.top + n.top,\n                  o = t.part.height;\n              r && (a = n.top, o = n.height);\n              var l = t.start().addTime(i),\n                  s = t.end().addTime(i),\n                  d = {};\n              d.event = t, d.start = l, d.end = s, d.resource = n.id, d.overlapping = !1, w.list.push(d);\n              var h = c.getPixels(l),\n                  u = c.getPixels(s),\n                  f = Abhaas.DateUtil.diff(t.rawend(), t.start());\n              f = Abhaas.Util.atLeast(f, 1);\n\n              var v = _.useBox(f),\n                  p = v ? h.boxLeft : h.left,\n                  g = v ? u.boxRight - p : u.left - p,\n                  m = document.createElement(\"div\");\n\n              m.style.position = \"absolute\", m.style.left = p + \"px\", m.style.top = a + \"px\", m.style.height = o + \"px\", m.style.width = g + \"px\", m.style.zIndex = 101, m.style.overflow = \"hidden\", m.className = c.t(\"_shadow\"), m.info = d;\n              var y = document.createElement(\"div\");\n              y.className = c.t(\"_shadow_inner\"), m.appendChild(y), c.Zg.appendChild(m), w.divs.push(m);\n            }\n          }), w.invalid) {\n            var l = c.t(\"_shadow_overlap\");\n            return void Abhaas.list(w.divs).each(function (e) {\n              Abhaas.Util.addClass(e, l);\n            });\n          }\n\n          Abhaas.list(w.divs).each(function (e) {\n            if (e.info) {\n              var t = e,\n                  i = e.info,\n                  a = e.info.event,\n                  o = c.rowlist[a.part.dayIndex + r],\n                  l = c.getPixels(i.start),\n                  s = c.getPixels(i.end),\n                  d = l.left,\n                  h = s.left - d,\n                  u = Abhaas.list(w.list).map(function (e) {\n                return e.event.data;\n              }).add(n.movingEvent.data);\n              c.Xj(t, o, d, h, u), c.Yj(t, i.start, i.end, i.resource), t.overlapping && (i.overlapping = !0, w.forbidden = !0);\n            }\n          });\n        }\n      }, w.clear = function () {\n        Abhaas.de(w.divs), w.divs = [];\n      }, this._j = function () {\n        var e = c.coords,\n            t = n.resizing.dpBorder,\n            i = n.resizing.event,\n            a = i.part.left;\n        \"right\" == t && (a += i.part.width);\n        var o,\n            r,\n            l = n.resizing.event.calendar.cellWidth,\n            s = n.resizing.event.part.width,\n            d = n.resizing.event.part.left,\n            h = 0,\n            u = e.x - a,\n            f = c.snapToGrid && c.snapToGridEventResizing;\n\n        if (\"right\" === t) {\n          if (o = d, f) {\n            var v = c.Kh(s + d + u).cell,\n                p = c.Kh(d).cell,\n                g = p.left + p.width - d;\n            r = v.left + v.width - d, r < g && (r = g);\n          } else r = s + u;\n\n          var m = c.lh();\n          d + r > m && (r = m - d), n.resizingShadow.left = d, n.resizingShadow.width = r;\n        } else {\n          if (\"left\" !== t) throw \"Invalid dpBorder.\";\n          f ? (u >= s && (u = s), o = Math.floor((d + u + 0) / l) * l, o < h && (o = h)) : o = d + u, r = s - (o - d);\n          var y = d + s,\n              b = l;\n          f ? \"Never\" === c.useEventBoxes && (b = s < l ? s : 1) : b = 1, r < b && (r = b, o = y - r), n.resizingShadow.left = o, n.resizingShadow.width = r;\n        }\n\n        !function () {\n          n.resizingShadow.overlapping = !1;\n          var e = n.resizing.event,\n              t = c.rowlist[e.part.dayIndex],\n              i = o,\n              a = r;\n          c.Xj(n.resizingShadow, t, i, a, e.data);\n          var l = n.resizingShadow;\n\n          if (l.start) {\n            var s = {\n              \"start\": l.start,\n              \"end\": c.Lf(l.end)\n            };\n            c.Yj(n.resizingShadow, s.start, s.end, t.id);\n          }\n        }(), c.ak();\n      }, this.Kj = function () {\n        this.nav.scroll;\n\n        if (c.coords && n.movingEvent) {\n          c.qh();\n          var e = n.movingShadow,\n              t = this.Xi(n.movingEvent);\n\n          if (!c.Yi(t.rowIndex)) {\n            var i = n.movingEvent,\n                a = 0,\n                o = 0;\n            !function () {\n              if (c.ug) {\n                var e = t.relativeY,\n                    i = c.Kh(t.left).x,\n                    n = t.row,\n                    r = n.evColumns[i],\n                    l = r.events.find(function (t) {\n                  return e < t.part.top + t.part.height + c.eventMarginBottom;\n                });\n                l || (l = r.events.last()), l && (o = l.part.top, a = Abhaas.indexOf(r.events, l), e - l.part.top > l.part.height / 2 && (o = l.part.top + l.part.height + c.eventMarginBottom / 2, a += 1));\n              } else {\n                for (var e = t.relativeY, n = t.row, s = 0, d = c.Nc.eventHeight(), h = n.lines.length, u = 0; u < n.lines.length; u++) {\n                  if (n.lines[u].isFree(t.left, c.cellWidth)) {\n                    h = u;\n                    break;\n                  }\n                }\n\n                var f = Math.floor((e - s + d / 2) / d),\n                    f = Math.min(h, f),\n                    f = Abhaas.Util.atLeast(0, f);\n                a = f, o = c.rowMarginTop + a * (c.Nc.eventHeight() + c.eventMarginBottom) + c.eventMarginBottom / 2;\n              }\n            }(), o > 0 && (o -= 3);\n            var r = i.cache && \"undefined\" != typeof i.cache.moveVDisabled ? !i.cache.moveVDisabled : !i.data.moveVDisabled,\n                l = i.cache && \"undefined\" != typeof i.cache.moveHDisabled ? !i.cache.moveHDisabled : !i.data.moveHDisabled,\n                s = !w.additional().isEmpty();\n            if (s && \"Disabled\" === c.multiMoveVerticalMode && (r = !1), r) {\n              if (this.Yi(t.rowIndex)) {\n                var d = e.row,\n                    h = 1;\n                if (!d) return;\n                h = t.rowIndex < d.index ? 1 : -1;\n\n                for (var u = t.rowIndex; u !== d.index; u += h) {\n                  var f = this.rowlist[u];\n\n                  if (!this.Yi(u) && !f.hidden) {\n                    e.style.top = f.top + \"px\", e.style.height = Abhaas.Util.atLeast(f.height, 0) + \"px\", e.row = f, c.eventMoveToPosition && (a = h > 0 ? 0 : f.lines.length - 1, e.style.top = t.top + o + \"px\", e.style.height = \"3px\", e.line = a);\n                    break;\n                  }\n                }\n              } else e.row = t.row, e.style.height = Abhaas.Util.atLeast(t.row.height, 0) + \"px\", e.style.top = t.top + \"px\", c.eventMoveToPosition && (e.style.top = t.top + o + \"px\", e.style.height = \"3px\", e.line = a);\n            } else {\n              for (var d = c.rowlist[i.part.dayIndex], p = d.lines.length, u = 0; u < d.lines.length; u++) {\n                if (d.lines[u].isFree(t.left, c.cellWidth)) {\n                  p = u;\n                  break;\n                }\n              }\n\n              if (s || (e.style.height = Abhaas.Util.atLeast(d.height, 0) + \"px\", e.style.top = d.top + \"px\"), e.row = d, c.eventMoveToPosition && !s) if (t.row === d) e.style.top = d.top + o + \"px\", e.style.height = \"3px\", e.line = a;else {\n                var g = t.rowIndex > d.index && p > 0 ? p * c.Nc.eventHeight() - 3 : 0;\n                e.style.top = d.top + g + \"px\", e.style.height = \"3px\", e.line = 0;\n              }\n            }\n            l ? (e.style.left = t.left + \"px\", c.eventMoveToPosition ? e.style.width = c.cellWidth + \"px\" : e.style.width = t.width + \"px\", e.start = t.start, e.end = t.end) : (e.style.left = i.part.left + \"px\", e.start = i.start(), e.end = i.rawend(), t.left = i.part.left), function () {\n              e.overlapping = !1;\n              var a = e.row,\n                  o = i.data,\n                  r = t.width,\n                  l = t.left,\n                  s = Abhaas.list(w.list).map(function (e) {\n                return e.event.data;\n              }).add(o);\n              c.Xj(e, a, l, r, s), c.Yj(n.movingShadow, e.start, e.end, e.row.id);\n            }(), function () {\n              var t = c.dd;\n\n              if (!t || t.start.getTime() !== e.start.getTime() || t.end.getTime() !== e.end.getTime() || t.resource !== e.row.id) {\n                t && (Abhaas.Util.removeClass(e, t.cssClass), e.firstChild.innerHTML = \"\"), w.update();\n                var r = !!n.drag && i.part.external,\n                    l = {};\n                l.start = e.start, l.end = c.Lf(e.end), l.duration = new Abhaas.Duration(l.start, l.end), l.e = i, l.external = r, l.resource = e.row.id, l.html = null, l.row = c.yi(e.row), l.position = e.line, l.overlapping = e.overlapping || w.forbidden, l.allowed = !0, l.left = {}, l.left.html = l.start.toString(c.eventMovingStartEndFormat, _.locale()), l.left.enabled = c.eventMovingStartEndEnabled, l.left.space = 5, l.left.width = null, l.right = {}, l.right.html = l.end.toString(c.eventMovingStartEndFormat, _.locale()), l.right.enabled = c.eventMovingStartEndEnabled, l.right.space = 5, l.right.width = null, l.multimove = Abhaas.list(w.list), l.shift = c.coords.shift, l.ctrl = c.coords.ctrl, l.meta = c.coords.meta, l.alt = c.coords.alt, l.areaData = Abhaas.Global.movingAreaData, l.link = null, l.cssClass = null, l.html = null;\n                var s = {};\n                s.event = i, s.start = l.start, s.end = l.end, s.overlapping = l.overlapping, s.resource = l.resource, l.multimove.splice(0, 0, s), c.dd = l;\n                var d = {\n                  \"start\": l.start,\n                  \"end\": l.end,\n                  \"resource\": l.resource\n                };\n\n                if (\"function\" == typeof c.onEventMoving && c.onEventMoving(l), e.allowed = l.allowed, Abhaas.Util.addClass(e, l.cssClass), l.html && (e.firstChild.innerHTML = l.html), l.start !== d.start || l.end !== d.end) {\n                  var h = l.start,\n                      u = c.lf(l.end);\n                  e.start = h, e.end = u;\n                  var f = Abhaas.DateUtil.diff(h, u);\n                  f = Abhaas.Util.atLeast(f, 1);\n\n                  var p = _.useBox(f),\n                      g = p ? c.getPixels(h).boxLeft : c.getPixels(h).left,\n                      m = p ? c.getPixels(u).boxRight : c.getPixels(u).left;\n\n                  e.style.left = g + \"px\", e.style.width = m - g + \"px\";\n                }\n\n                if (l.resource !== d.resource) {\n                  var y = c.ah(l.resource);\n                  y && (e.row = y, e.style.height = Abhaas.Util.atLeast(y.height, 0) + \"px\", e.style.top = y.top + \"px\", c.eventMoveToPosition && (e.style.top = y.top + o + \"px\", e.style.height = \"3px\", e.line = a));\n                }\n\n                l.html ? e.firstChild.innerHTML = l.html : e.firstChild.innerHTML = \"\", c.bk(e, l), c.ck(n.movingShadow, l), l.link && (Abhaas.Global.movingLink && Abhaas.Global.movingLink.clear(), Abhaas.Global.movingLink = v.drawLink2(l.link.from, e, l.link));\n              }\n            }();\n          }\n        }\n      }, this.Xj = function (e, t, i, n, a) {\n        if (!c.allowEventOverlap) {\n          !function () {\n            e.overlapping = !1;\n\n            for (var o = 0; o < t.lines.length; o++) {\n              if (!t.lines[o].isFree(i, n, a)) return void (e.overlapping = !0);\n            }\n\n            if (c.allowMultiRange) {\n              var r = t.index;\n              return Abhaas.list(M.list).some(function (t) {\n                var a = t.div,\n                    o = parseInt(a.style.left),\n                    l = parseInt(a.style.width),\n                    s = t.start.y;\n                return e !== a && s === r && Abhaas.Util.overlaps(i, i + n, o, o + l);\n              }) ? void (e.overlapping = !0) : void 0;\n            }\n          }();\n          var o = e.overlapping,\n              r = c.t(\"_shadow_overlap\");\n          o ? Abhaas.Util.addClass(e, r) : Abhaas.Util.removeClass(e, r);\n        }\n      }, this.Yj = function (e, t, i, n) {\n        if (c.cellConfig && c.cellConfig.hasDisabled || c.Dh.dk) {\n          c.xb(t, i, n) && (e.overlapping = !0);\n          var a = c.t(\"_shadow_overlap\");\n          e.overlapping ? Abhaas.Util.addClass(e, a) : Abhaas.Util.removeClass(e, a);\n        }\n      }, this.xb = function (e, t, i) {\n        var n = c.rows.find(i).cells.forRange(e, t);\n        return !!n && n.some(function (e) {\n          return e.properties.disabled;\n        });\n      }, this.bk = function (e, t) {\n        var i = c.t(\"_shadow_forbidden\");\n        !t.allowed || w.invalid ? Abhaas.Util.addClass(e, i) : Abhaas.Util.removeClass(e, i);\n      }, this.ck = function (e, t) {\n        if (this.ek(), e.calendar === c) {\n          var i = {};\n          i.left = parseInt(e.style.left), i.top = parseInt(e.style.top), i.right = i.left + parseInt(e.style.width);\n          var n = t.left.width || 10,\n              a = document.createElement(\"div\");\n          if (a.style.position = \"absolute\", a.style.left = i.left - n - t.left.space + \"px\", a.style.top = i.top + \"px\", a.style.height = c.eventHeight + \"px\", a.style.overflow = \"hidden\", a.style.boxSizing = \"border-box\", a.innerHTML = t.left.html, a.className = this.t(\"_event_move_left\"), a.onmousemove = c.fk, Abhaas.browser.ie && (a.style.display = \"block\"), t.left.enabled) if (c.divHover.appendChild(a), t.left.width) a.style.width = n + \"px\";else {\n            a.style.whiteSpace = \"nowrap\";\n            var o = a.offsetWidth,\n                r = i.left - o - t.left.space;\n            a.style.width = o + \"px\", a.style.left = r + \"px\";\n            var l = c.nav.scroll.scrollLeft;\n            r < l && c.divHover.removeChild(a);\n            var s = c.gk() + (r - l);\n            s > 0 && (a.style.left = s + \"px\", a.style.top = i.top - c.nav.scroll.scrollTop + c.ph() + \"px\", c.nav.top.appendChild(a), c.elements.hover.push(a));\n          }\n          var n = t.right.width || 10,\n              d = document.createElement(\"div\");\n\n          if (d.style.position = \"absolute\", d.style.left = i.right + t.right.space + \"px\", d.style.top = i.top + \"px\", d.style.height = c.eventHeight + \"px\", d.style.overflow = \"hidden\", d.style.boxSizing = \"border-box\", t.right.width ? d.style.width = t.right.width + \"px\" : d.style.whiteSpace = \"nowrap\", d.innerHTML = t.right.html, d.className = this.t(\"_event_move_right\"), d.onmousemove = c.fk, Abhaas.browser.ie && (d.style.display = \"block\"), t.right.enabled) {\n            c.divHover.appendChild(d);\n            var h = c.nav.scroll.scrollWidth;\n            i.right + t.right.space + d.offsetWidth >= h && c.divHover.removeChild(d);\n          }\n        }\n      }, this.ek = function () {\n        c.divHover.innerHTML = \"\", Abhaas.de(c.elements.hover), c.elements.hover = [];\n      }, this.hk = function () {\n        var e = c.rowHeaderColumnDefaultWidth;\n        this.rowHeaderColumns ? this.rowHeaderCols = Abhaas.Util.propArray(this.rowHeaderColumns, \"width\", e) : this.rowHeaderCols = null;\n      }, this.gk = function () {\n        var e = 0;\n        if (this.hk(), this.rowHeaderCols) for (var t = 0; t < this.rowHeaderCols.length; t++) e += this.rowHeaderCols[t];else e = this.rowHeaderWidth;\n        return e;\n      }, this.ik = function () {\n        return this.jk(c.progressiveRowRenderingPreload);\n      }, this.jk = function (e) {\n        var e = e || 0,\n            t = 0,\n            i = c.rowlist.length;\n\n        if (c.progressiveRowRendering) {\n          var n = c.ch();\n          t = n.yStart, i = n.yEnd + 1, t = Abhaas.Util.atLeast(0, t - e), i = Math.min(c.rowlist.length, i + e);\n        }\n\n        return {\n          \"start\": t,\n          \"end\": i\n        };\n      }, this.kk = function () {\n        if (this.sd()) {\n          var e = !1,\n              t = 0;\n\n          if (this.rowHeaderWidthAutoFit) {\n            var i = this.divHeader;\n            if (!i) return;\n            if (!i.rows) return;\n\n            for (var n = [], a = c.ik(), o = a.start; o < a.end; o++) {\n              var r = i.rows[o];\n\n              if (r && !r.hidden && !r.autofitDone) {\n                r.autofitDone = !0;\n\n                for (var l = 0; l < r.cells.length; l++) {\n                  var s = r.cells[l].firstChild.firstChild;\n\n                  if (s && s.style) {\n                    var d = s.style.width,\n                        h = s.style.right,\n                        u = s.style.display;\n                    s.style.position = \"absolute\", s.style.width = \"auto\", s.style.right = \"auto\", s.style.whiteSpace = \"nowrap\", s.style.display = \"block\";\n                    var f = s.offsetWidth + 2;\n                    s.style.position = \"\", s.style.width = d, s.style.right = h, s.style.display = u, s.style.whiteSpace = \"\", \"undefined\" == typeof n[l] && (n[l] = 0), n[l] = Math.max(n[l], f);\n                  }\n                }\n              }\n            }\n\n            if (this.hk(), this.rowHeaderCols) for (var o = 0; o < n.length; o++) this.rowHeaderCols[o] && (n[o] > this.rowHeaderCols[o] && (this.rowHeaderCols[o] = n[o], e = !0), t += this.rowHeaderCols[o]);else {\n              t = this.rowHeaderWidth;\n\n              var v = _.splitterWidth();\n\n              this.rowHeaderWidth < n[0] + c.rowHeaderWidthMarginRight + v && (t = n[0] + c.rowHeaderWidthMarginRight + v, e = !0);\n            }\n          }\n\n          e && (this.Wi && (this.Wi.widths = this.rowHeaderCols, this.Wi.updateWidths(), Abhaas.Util.updatePropsFromArray(this.rowHeaderColumns, \"width\", this.rowHeaderCols)), this.rowHeaderCols || (this.rowHeaderWidth = t), this.$h(), this.lk());\n        }\n      }, this.Gg = function () {\n        this.mk = !0, this.hk();\n        var e = this.gk(),\n            t = this.divHeader;\n\n        if (t) {\n          if (Abhaas.browser.ie) for (var i = 0; i < t.childNodes.length; i++) Abhaas.de(t.childNodes[i]);\n          t.innerHTML = \"\", Abhaas.puc(t);\n        } else t = document.createElement(\"div\"), t.onmousemove = function () {\n          c.aa();\n        }, this.divHeader = t;\n\n        if (t.style.width = e + \"px\", t.style.height = c.yg + \"px\", t.rows = [], c.progressiveRowRendering) a();else for (var n = this.rowlist.length, i = 0; i < n; i++) c.nk(i);\n        c.ok(), this.divResScroll.appendChild(t), this.rowHeaderWidthAutoFit && this.kk();\n      }, this._h = function () {\n        if (c.progressiveRowRendering) {\n          for (var e = this.ik(), t = 0; t < c.rowlist.length; t++) e.start <= t && t < e.end ? c.nk(t) : c.pk(t);\n\n          if (this.rowHeaderWidthAutoFit) {\n            var i = c.oh();\n            this.kk();\n\n            if (c.oh() !== i) {\n              var n = this.cellWidth;\n              this.Dg();\n              this.cellWidth !== n && (c.Eg(), c.Hg(), c.ta(), c.la(), c.qk());\n            }\n          }\n        }\n      }, this.ok = function () {\n        if (!c.Nc.mobile()) {\n          var e = c.divHeader,\n              t = document.createElement(\"div\");\n          t.style.position = \"absolute\", e.appendChild(t), c.nav.resScrollSpace = t, t.setAttribute(\"unselectable\", \"on\");\n          var i = document.createElement(\"div\");\n          i.style.position = \"relative\", i.style.height = \"100%\", i.className = this.t(\"_rowheader\"), t.appendChild(i);\n          var n = this.gk(),\n              t = c.nav.resScrollSpace;\n          t.style.width = n + \"px\", t.style.top = this.yg + \"px\", t.style.height = c.divResScroll.clientHeight + 20 + \"px\";\n        }\n      }, this.pk = function (e) {\n        var t = c.divHeader.rows[e];\n\n        if (t) {\n          var i = t.cells[0],\n              n = i.domArgs;\n\n          if (i.domArgs = null, \"function\" == typeof c.onBeforeRowHeaderDomRemove && c.onBeforeRowHeaderDomRemove(n), \"function\" == typeof c.onBeforeRowHeaderDomAdd) {\n            var a = n && n.rk;\n\n            if (a) {\n              if (Abhaas.Util.isReactComponent(n.element)) {\n                if (!c.pj.reactDOM) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n                c.pj.reactDOM.unmountComponentAtNode(a);\n              }\n            }\n          }\n\n          Abhaas.de(t.cells), c.divHeader.rows[e] = null;\n        }\n      }, this.ji = function (e) {\n        this.pk(e), this.nk(e);\n      }, this.nk = function (e) {\n        function t() {\n          var t = document.createElement(\"div\");\n\n          if (c.treeEnabled && !s.isNewRow) {\n            var i = s.level * c.treeIndent + c.treeImageMarginLeft;\n            D && (i += k);\n            var n = c.treeImageWidth,\n                a = c.treeImageHeight;\n            t.style.marginLeft = i + \"px\", t.style.position = \"relative\", t.className = c.t(\"_rowheader_inner_indent\");\n            var o = document.createElement(\"div\");\n            o.style.width = n + \"px\", o.style.height = a + \"px\", o.style.backgroundRepeat = \"no-repeat\", o.style.position = \"absolute\", o.style.top = c.treeImageMarginTop + \"px\", s.loaded || 0 !== s.children.length ? s.children.length > 0 ? (s.expanded ? o.className = c.t(\"_tree_image_collapse\") : o.className = c.t(\"_tree_image_expand\"), o.style.cursor = \"pointer\", o.index = e, o.onclick = function (e) {\n              c.Jj(this.index), e = e || window.event, e.cancelBubble = !0;\n            }) : o.className = c.t(\"_tree_image_no_children\") : (o.className = c.t(\"_tree_image_expand\"), o.style.cursor = \"pointer\", o.index = e, o.onclick = function (e) {\n              c.Ak(this.index), e = e || window.event, e.cancelBubble = !0;\n            }), t.appendChild(o);\n          }\n\n          var r = document.createElement(\"div\");\n\n          if (c.treeEnabled) {\n            var l = c.treeImageMarginRight;\n            r.style.marginLeft = n + l + \"px\";\n          }\n\n          r.innerHTML = f.html || f.text || \"\", r.className = c.t(\"_rowheader_inner_text\"), h.textDiv = r, h.cellDiv = g, t.appendChild(r), w.appendChild(t);\n          var d = f.verticalAlignment || u.verticalAlignment;\n          if (d) switch (w.style.display = \"flex\", d) {\n            case \"center\":\n              w.style.alignItems = \"center\";\n              break;\n\n            case \"top\":\n              w.style.alignItems = \"flex-start\";\n              break;\n\n            case \"bottom\":\n              w.style.alignItems = \"flex-end\";\n          }\n        }\n\n        var i = c.divHeader,\n            n = this.divHeader;\n\n        if (!n.rows[e]) {\n          var a = this.rowHeaderCols,\n              o = a ? this.rowHeaderCols.length : 0,\n              r = this.gk(),\n              s = this.rowlist[e];\n\n          if (s && !s.hidden) {\n            var d = this.Uj(s);\n            n.rows[e] = {}, n.rows[e].cells = [];\n            var h = document.createElement(\"div\");\n            h.style.position = \"absolute\", h.style.top = s.top + \"px\", h.row = s, h.index = e;\n            var u = d.row,\n                f = u;\n            \"Standard\" === c.rowHeaderColumnsMode && Abhaas.isArray(c.rowHeaderColumns) && (f = d.row.columns[0] || {});\n            var v = a ? a[0] : this.rowHeaderWidth;\n            h.style.width = v + \"px\", h.style.border = \"0px none\";\n            var p = f.toolTip || u.toolTip;\n            p && (h.title = p), h.setAttribute(\"unselectable\", \"on\"), \"undefined\" != typeof u.ariaLabel ? h.setAttribute(\"aria-label\", u.ariaLabel) : h.setAttribute(\"aria-label\", f.html || f.text || \"\"), h.onmouseenter = c.sk, h.onmouseleave = c.tk, h.onmousemove = c.uk, h.onmouseout = c.vk, h.onmouseup = c.wk, h.oncontextmenu = c.xk, h.onclick = c.yk, h.ondblclick = c.zk;\n            var g = document.createElement(\"div\");\n            g.style.width = v + \"px\", g.setAttribute(\"unselectable\", \"on\"), g.className = this.t(\"_rowheader\"), u.cssClass && Abhaas.Util.addClass(g, u.cssClass), f.cssClass && Abhaas.Util.addClass(g, f.cssClass);\n            var m = f.backColor || u.backColor;\n            m && (g.style.background = m);\n            var y = f.fontColor || u.fontColor;\n            y && (g.style.color = y);\n            var b = f.horizontalAlignment || u.horizontalAlignment;\n            b && (g.style.textAlign = b), g.style.height = s.height + \"px\", g.style.overflow = \"hidden\", g.style.position = \"relative\";\n            var w = document.createElement(\"div\");\n            w.setAttribute(\"unselectable\", \"on\"), w.className = this.t(\"_rowheader_inner\"), g.appendChild(w);\n            var D = \"Disabled\" !== this.rowMoveHandling,\n                k = 10,\n                P = f.areas || [];\n            D && !u.moveDisabled && P.push({\n              \"v\": \"Hover\",\n              \"w\": k,\n              \"bottom\": 0,\n              \"top\": 0,\n              \"left\": 0,\n              \"css\": c.t(\"_rowmove_handle\"),\n              \"action\": \"Move\"\n            });\n            var x = c.yi(s);\n            Abhaas.Areas.attach(g, x, {\n              \"areas\": P,\n              \"allowed\": function () {\n                return !l.row;\n              }\n            });\n            var C = document.createElement(\"div\");\n            if (C.style.position = \"absolute\", C.style.bottom = \"0px\", C.style.width = \"100%\", C.style.height = \"1px\", C.className = this.t(A.resourcedivider), g.appendChild(C), t(), h.appendChild(g), function () {\n              if (\"function\" == typeof c.onBeforeRowHeaderDomAdd) {\n                var e = h,\n                    t = {};\n\n                if (t.row = c.yi(s), t.element = null, t.target = \"Cell\", e.domArgs = t, \"function\" == typeof c.onBeforeRowHeaderDomAdd && c.onBeforeRowHeaderDomAdd(t), t.element) {\n                  var i = null;\n\n                  switch (t.target && t.target.toLowerCase()) {\n                    case \"text\":\n                      i = R;\n                      break;\n\n                    case \"cell\":\n                      i = w;\n                  }\n\n                  if (i) {\n                    t.rk = i, i.innerHTML = \"\";\n\n                    if (Abhaas.Util.isReactComponent(t.element)) {\n                      if (!c.pj.reactDOM) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n                      c.pj.reactDOM.render(t.element, i);\n                    } else i.appendChild(t.element);\n                  }\n                }\n              }\n            }(), i.appendChild(h), n.rows[e].cells.push(h), s.columns && 0 !== s.columns.length) for (var S = v, E = \"Standard\" === c.rowHeaderColumnsMode ? 0 : 1, T = 1; T < o; T++) {\n              var f = u.columns[T - E] || {},\n                  h = document.createElement(\"div\");\n              h.style.position = \"absolute\", h.style.top = s.top + \"px\", h.style.left = S + \"px\", i.appendChild(h), n.rows[e].cells.push(h), h.row = s, h.index = e;\n              var M = f.toolTip || u.toolTip;\n              M && (h.title = M), h.setAttribute(\"unselectable\", \"on\"), h.onmousemove = c.uk, h.onmouseout = c.vk, h.onmouseup = c.wk, h.oncontextmenu = c.xk, h.onclick = c.yk, h.ondblclick = c.zk;\n              var g = document.createElement(\"div\"),\n                  H = a[T];\n              S += H;\n              var m = f.backColor || u.backColor;\n              m && (g.style.backgroundColor = m);\n              var y = f.fontColor || u.fontColor;\n              y && (g.style.color = y), g.style.width = H + \"px\", g.style.height = s.height + \"px\", g.style.overflow = \"hidden\", g.style.position = \"relative\", g.setAttribute(\"unselectable\", \"on\"), Abhaas.Util.addClass(g, this.t(\"_rowheader\")), Abhaas.Util.addClass(g, this.t(\"_rowheadercol\")), Abhaas.Util.addClass(g, this.t(\"_rowheadercol\" + T)), u.cssClass && Abhaas.Util.addClass(g, u.cssClass), f.cssClass && Abhaas.Util.addClass(g, f.cssClass);\n\n              var _ = f.horizontalAlignment || u.horizontalAlignment;\n\n              _ && (g.style.textAlign = _);\n              var w = document.createElement(\"div\");\n              w.setAttribute(\"unselectable\", \"on\"), w.className = this.t(\"_rowheader_inner\"), g.appendChild(w);\n              var C = document.createElement(\"div\");\n              C.style.position = \"absolute\", C.style.bottom = \"0px\", C.style.width = \"100%\", C.style.height = \"1px\", C.className = this.t(\"_resourcedivider\"), g.appendChild(C);\n              var R = document.createElement(\"div\"),\n                  B = f.html || f.text || \"\";\n              R.innerHTML = B, h.textDiv = R, h.cellDiv = g, w.appendChild(R), Abhaas.Areas.attach(g, x, {\n                \"areas\": f.areas,\n                \"allowed\": function () {\n                  return !l.row;\n                }\n              }), h.appendChild(g);\n            } else h.colSpan = o > 0 ? o : 1, g.style.width = r + \"px\";\n          }\n        }\n      }, this.xk = function (e) {\n        if (\"Disabled\" === c.rowRightClickHandling) return !1;\n        var t = this.row,\n            i = c.yi(t),\n            n = {};\n\n        if (n.ctrl = e.ctrlKey, n.shift = e.shiftKey, n.meta = e.metaKey, n.originalEvent = e, n.row = i, n.preventDefault = function () {\n          this.preventDefault.value = !0;\n        }, \"function\" != typeof c.onRowRightClick || (c.onRowRightClick(n), !n.preventDefault.value)) {\n          switch (c.rowRightClickHandling) {\n            case \"ContextMenu\":\n              t.contextMenu && t.contextMenu.show(i);\n          }\n\n          return \"function\" == typeof c.onRowRightClicked && c.onRowRightClicked(n), !1;\n        }\n      }, this.yk = function (e) {\n        if (!P.cancelClick) {\n          var t = this.row,\n              i = c.yi(t, this.index);\n          return t.isNewRow ? void c.Ei.edit(t) : void c.Bi(i, e.ctrlKey, e.shiftKey, e.metaKey);\n        }\n      }, this.zk = function (e) {\n        if (c.timeouts.resClick) {\n          for (var t in c.timeouts.resClick) window.clearTimeout(c.timeouts.resClick[t]);\n\n          c.timeouts.resClick = null;\n        }\n\n        var i = this.row,\n            n = c.yi(i, this.index);\n\n        if (c.Da()) {\n          var a = {};\n          if (a.resource = n, a.row = n, a.ctrl = e.ctrlKey, a.shift = e.shiftKey, a.meta = e.metaKey, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onRowDoubleClick && (c.onRowDoubleClick(a), a.preventDefault.value)) return;\n\n          switch (c.rowDoubleClickHandling) {\n            case \"PostBack\":\n              c.rowDoubleClickPostBack(n);\n              break;\n\n            case \"CallBack\":\n              c.rowDoubleClickCallBack(n);\n              break;\n\n            case \"Select\":\n              c.Di(i, e.ctrlKey, e.shiftKey, e.metaKey);\n              break;\n\n            case \"Edit\":\n              c.Ei.edit(i);\n          }\n\n          \"function\" == typeof c.onRowDoubleClicked && c.onRowDoubleClicked(a);\n        } else switch (c.rowDoubleClickHandling) {\n          case \"PostBack\":\n            c.rowDoubleClickPostBack(n);\n            break;\n\n          case \"CallBack\":\n            c.rowDoubleClickCallBack(n);\n            break;\n\n          case \"JavaScript\":\n            c.onRowDoubleClick(n);\n            break;\n\n          case \"Select\":\n            c.Di(i, e.ctrlKey, e.shiftKey, e.metaKey);\n            break;\n\n          case \"Edit\":\n            c.Ei.edit(i);\n        }\n      }, this.rowDoubleClickPostBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.M(\"RowDoubleClick\", i, t);\n      }, this.rowDoubleClickCallBack = function (e, t) {\n        var i = {};\n        i.resource = e, this.O(\"RowDoubleClick\", i, t);\n      }, this.Bk = function (e) {\n        if (\"Disabled\" !== c.timeHeaderClickHandling) {\n          var t = {};\n          t.start = this.cell.start, t.level = this.cell.level, t.end = this.cell.end, t.end || (t.end = new Abhaas.Date(t.start).addMinutes(c.cellDuration)), c.Fi(t);\n        }\n      }, this.Ck = function (e) {\n        var t = c.rowlist[e];\n        if (t.hidden) return 0;\n        var i = t.height;\n        return \"number\" == typeof t.forcedHeight && (i = t.forcedHeight), i;\n      }, this.Dk = function (e, t, i) {\n        function n(e) {\n          var i = c.Ck(e),\n              n = t;\n          \"hide\" === t ? n = 0 : \"show\" === t && (n = c.rowlist[e].height);\n          var a = n - i;\n          r.push({\n            \"i\": e,\n            \"now\": i,\n            \"dist\": a\n          });\n        }\n\n        function a(e) {\n          l || (l = e);\n          var t = e - l,\n              n = Math.min(1, t / o);\n          0 === n && (n = .1), r.forEach(function (e) {\n            var t = e.now + e.dist * n;\n            c.rowlist[e.i].forcedHeight = t;\n          }), c.Ek(), n < 1 ? window.requestAnimationFrame(a) : \"function\" == typeof i && i();\n        }\n\n        var o = 200,\n            r = [];\n        if (\"number\" == typeof e) n(e);else {\n          if (!Abhaas.isArray(e)) throw new Abhaas.Exception(\"Unexpected param (must be number/array).\");\n          e.forEach(function (e) {\n            n(e);\n          });\n        }\n        var l = 0;\n        window.requestAnimationFrame(a);\n      }, this.yi = function (e) {\n        return new Abhaas.Row(e, c);\n      }, this.Ch = function (e) {\n        var t = this.rowlist[e];\n\n        if (t.events || t.resetEvents(), !t.data) {\n          t.data = {}, t.data.start = new Abhaas.Date(t.start), t.data.startTicks = t.data.start.getTime();\n          var i = this.Gh().getTime() - this.La().getTime();\n          t.data.end = _.isResourcesView() ? t.data.start.addTime(i) : t.data.start.addDays(1), t.data.endTicks = t.data.end.getTime(), t.data.offset = t.start.getTime() - this.La().getTime(), t.data.i = e;\n        }\n      }, this.Fk = {}, this.la = function (e) {\n        if (e ? this.events.list = e : this.events.list || (this.events.list = []), null != this.events.list && !Abhaas.isArray(this.events.list)) throw \"Abhaas.Scheduler.events.list expects an array object\";\n        D.prepareRows(!0);\n        var t,\n            i = this.events.list,\n            n = \"function\" == typeof this.onBeforeEventRender,\n            a = \"Resources\" === c.viewType;\n        c.Fk = {};\n\n        for (var o = 0; o < i.length; o++) {\n          var r = i[o];\n\n          if (r) {\n            if (\"object\" != typeof r) throw new Abhaas.Exception(\"Event data item must be an object\");\n            if (!r.start) throw new Abhaas.Exception(\"Event data item must specify 'start' property\");\n            if (r instanceof Abhaas.Event) throw \"Abhaas.Scheduler: Abhaas.Event object detected in events.list array. Use raw event data instead.\";\n            var l = \"string\" == typeof r.id || \"number\" == typeof r.id,\n                s = \"string\" == typeof r.recurrentMasterId || \"number\" == typeof r.recurrentMasterId;\n\n            if (!l) {\n              var s = \"string\" == typeof r.recurrentMasterId || \"number\" == typeof r.recurrentMasterId;\n              if (!s) throw new Abhaas.Exception(\"All events must have an id property (string or number)\");\n            }\n\n            if (!c.temp.allowDuplicateEventIds) {\n              var d = \"_\" + r.id;\n              if (!l && s && (d = \"#\" + r.recurrentMasterId + \"#\" + new Abhaas.Date(r.start)), c.Fk[d]) throw new Abhaas.Exception(\"Duplicate event IDs are not allowed: \" + d);\n              c.Fk[d] = !0;\n            }\n\n            \"Milestone\" === r.type && (r.end = r.start), n && this.yd(o), \"*\" === r.resource ? t = c.rowlist : a ? t = Abhaas.list(D.rowcache[r.resource]).concat(D.rowcache[\"*\"]) : \"Days\" === c.viewType ? t = c.rowlist : \"Gantt\" === c.viewType && (t = D.rowcache[r.id]);\n\n            for (var h = 0; t && h < t.length; h++) {\n              var u = t[h],\n                  f = this.hj(r, u);\n              f && n && (f.cache = this.G.events[o]);\n            }\n          }\n        }\n\n        Abhaas.list(c.rowlist).each(function (e) {\n          c.lj(e);\n        }), this.Uh();\n      }, this.Gk = {};\n      var D = this.Gk;\n      D.rowCache = {}, D.prepareRows = function (e) {\n        D.rowcache = {};\n\n        for (var t = 0; t < c.rowlist.length; t++) {\n          var i = c.rowlist[t];\n\n          if (e && i.resetEvents(), c.Ch(t), i.id) {\n            var n = i.id.toString();\n            D.rowcache[n] || (D.rowcache[n] = Abhaas.list()), D.rowcache[n].push(i);\n          }\n        }\n      }, D.loadEvent = function (e) {}, this.gj = function () {\n        var e = {};\n        if (\"Resources\" !== c.viewType) return !1;\n\n        for (var t = 0; t < c.rowlist.length; t++) {\n          var i = c.rowlist[t],\n              n = i.id;\n          if (e[n]) return !0;\n          e[n] = !0;\n        }\n\n        return !1;\n      }, this.yd = function (e) {\n        var t = this.G.events,\n            i = this.events.list[e],\n            n = {};\n        i instanceof Abhaas.Event && (i = i.data);\n\n        for (var a in i) n[a] = i[a];\n\n        if (\"string\" == typeof n.start && (n.start = new Abhaas.Date(n.start)), \"string\" == typeof n.end && (n.end = new Abhaas.Date(n.end)), \"function\" == typeof this.onBeforeEventRender) {\n          var o = {};\n          o.e = n, o.data = n, this.onBeforeEventRender(o);\n        }\n\n        t[e] = n;\n      }, this.lj = function (e) {\n        if (e.lines = [], e.sections = null, !e.isNewRow) {\n          this.sortDirections ? e.events.sort(this.Gd) : c.ug || e.events.sort(this.Fd);\n          if (c.ug) return void S.loadRow(e);\n          var t = c.groupConcurrentEvents;\n          if (t) for (var i = 0; i < e.blocks.length; i++) e.blocks[i].clear();\n          Abhaas.list(e.events).each(function (t) {\n            if (!t.part.height) return e.eventHeight ? void (t.part.height = e.eventHeight) : void (t.part.height = _.eventHeight());\n          });\n\n          for (var n = 0; n < e.events.length; n++) {\n            var a = e.events[n];\n            e.putIntoLine(a), t && e.putIntoBlock(a);\n          }\n\n          for (var o = 0, i = 0; i < e.lines.length; i++) {\n            var r = e.lines[i];\n            r.top = o, o += (r.height || e.eventHeight) * e.eventStackingLineHeight / 100;\n          }\n\n          if (t) for (var n = 0; n < e.blocks.length; n++) {\n            var l = e.blocks[n];\n            l.lines = [], l.events.sort(this.Gd);\n\n            for (var s = 0; s < l.events.length; s++) {\n              var a = l.events[s];\n              l.putIntoLine(a);\n            }\n\n            l.lines.length <= c.groupConcurrentEventsLimit && (l.expanded = !0);\n            var d = Abhaas.list(l.events).map(function (e) {\n              return e.id();\n            }).some(function (e) {\n              return Abhaas.contains(c.Hk, e);\n            });\n            d && (l.expanded = !0);\n\n            for (var o = 0, i = 0; i < l.lines.length; i++) {\n              var r = l.lines[i];\n              r.top = o, o += (r.height || e.eventHeight) * e.eventStackingLineHeight / 100;\n            }\n          }\n        }\n      }, this.Th = function (e) {\n        e = Abhaas.ua(e);\n\n        for (var t = 0; t < e.length; t++) {\n          var i = e[t];\n          c.lj(c.rowlist[i]);\n        }\n\n        if (c.ug) S.calculateEventPositions();else for (var t = 0; t < e.length; t++) {\n          var i = e[t],\n              n = c.rowlist[i];\n          c.Sj(n);\n        }\n      }, this.wj = function () {\n        var e = \"Manual\" === c.scale ? c.itline[0].start : c.startDate;\n        return Abhaas.list(c.rowlist).some(function (t) {\n          return !!t.start && t.start.getTime() !== new Abhaas.Date(e).getTime();\n        });\n      }, this.hj = function (e, t) {\n        if (!t.hideEvents) {\n          var i = new Abhaas.Date(e.start),\n              n = new Abhaas.Date(e.end);\n          n = c.lf(n);\n          var a = i.ticks,\n              o = n.ticks;\n          if (o < a) return null;\n          var r = null;\n\n          if (\"function\" == typeof c.onBeforeEventRender) {\n            var l = Abhaas.indexOf(c.events.list, e);\n            r = c.G.events[l];\n          }\n\n          if (r) {\n            if (r.hidden) return null;\n          } else if (e.hidden) return null;\n\n          var s = !1;\n\n          switch (this.viewType) {\n            case \"Days\":\n              s = !(o <= t.data.startTicks || a >= t.data.endTicks) || a === o && a === t.data.startTicks;\n              break;\n\n            case \"Resources\":\n              s = (t.id === e.resource || \"*\" === t.id || \"*\" === e.resource) && (!(o <= t.data.startTicks || a >= t.data.endTicks) || a === o && a === t.data.startTicks);\n              break;\n\n            case \"Gantt\":\n              s = t.id === e.id && !(o <= t.data.startTicks || a >= t.data.endTicks);\n          }\n\n          if (!s) return null;\n          var d = new Abhaas.Event(e, c);\n          d.part.dayIndex = t.data.i, d.part.start = t.data.startTicks < a ? i : t.data.start, d.part.end = t.data.endTicks > o ? n : t.data.end;\n          var h = this.getPixels(d.part.start.addTime(-t.data.offset)),\n              u = this.getPixels(d.part.end.addTime(-t.data.offset));\n          d.part.start === d.part.end && (u = this.getPixels(d.part.end.addTime(-t.data.offset).addMilliseconds(1))), r && r.height ? d.part.height = r.height : e.height && (d.part.height = e.height), d.part.Ik = function () {\n            var e = this.height;\n\n            if (c.eventVersionsEnabled && !Abhaas.list(d.data.versions).isEmpty()) {\n              var t = d.versions.length;\n              e += t * c.eventVersionHeight, e += t * c.eventVersionMargin;\n            }\n\n            return e + c.eventMarginBottom;\n          };\n          var f = h.left,\n              v = u.left;\n\n          if (d.part.startPixels = h, d.part.endPixels = u, f === v) {\n            if (h.cut || u.cut) return null;\n            var p = (d.part.start.addTime(-t.data.offset).getTime() + d.part.end.addTime(-t.data.offset).getTime()) / 2;\n            if (c.getPixels(new Abhaas.Date(Math.floor(p))).cut) return null;\n          }\n\n          d.part.box = _.useBox(o - a);\n          var g = c.eventHeight;\n\n          if (\"Milestone\" === e.type) {\n            var m = e.width || g;\n            d.part.end = d.part.start, d.part.left = f - m / 2, d.part.width = m, d.part.barLeft = 0, d.part.barWidth = m;\n          } else if (d.part.box) {\n            var y = h.boxLeft,\n                b = u.boxRight;\n            d.part.left = y, d.part.width = b - y, d.part.barLeft = Abhaas.Util.atLeast(f - d.part.left, 0), d.part.barWidth = Abhaas.Util.atLeast(v - f, 1);\n          } else d.part.left = f, d.part.width = Abhaas.Util.atLeast(v - f, 1), d.part.barLeft = 0, d.part.barWidth = Abhaas.Util.atLeast(v - f - 1, 1);\n\n          var w = c.eventMinWidth;\n\n          if (d.part.width = Math.max(d.part.width, w), c.eventVersionsEnabled && c.Jk(d, t), \"function\" == typeof c.onEventFilter && c.events.Ed) {\n            var D = {};\n            if (D.filter = c.events.Ed, D.visible = !0, D.e = d, c.onEventFilter(D), !D.visible) return null;\n          }\n\n          return t.events.push(d), d;\n        }\n      }, this.Jk = function (e, t) {\n        e.versions = [];\n        var i = e.data,\n            n = Abhaas.list(i.versions);\n        n.isEmpty() || n.each(function (i) {\n          var n = new Abhaas.Date(i.start),\n              a = new Abhaas.Date(i.end),\n              o = c.getPixels(n.addTime(-t.data.offset)),\n              r = c.getPixels(a.addTime(-t.data.offset));\n          n.ticks === a.ticks && (r = c.getPixels(a.addTime(-t.data.offset).addTime(1)));\n          var l = o.left,\n              s = r.left;\n          if (l === s && (o.cut || r.cut)) return null;\n          var d = {};\n          d.left = l, d.continueLeft = n < t.data.start, d.right = s, d.continueRight = a > t.data.end, d.width = s - l, e.versions.push(d);\n        });\n      }, this.Fd = function (e, t) {\n        if (!(e && t && e.start && t.start)) return 0;\n        var i = e.start().ticks - t.start().ticks;\n        return 0 !== i ? i : t.end().ticks - e.end().ticks;\n      }, this.Gd = function (e, t) {\n        if (!e || !t) return 0;\n        var i = e.cache || e.data,\n            n = t.cache || t.data;\n        if (!(i.sort && i.sort.length > 0 && n.sort && n.sort.length > 0)) return c.Fd(e, t);\n\n        for (var a = 0, o = 0; 0 === a && \"undefined\" != typeof i.sort[o] && \"undefined\" != typeof n.sort[o];) a = i.sort[o] === n.sort[o] ? 0 : \"number\" == typeof i.sort[o] && \"number\" == typeof n.sort[o] ? i.sort[o] - n.sort[o] : c.Hd(i.sort[o], n.sort[o], c.sortDirections[o]), o++;\n\n        return a;\n      }, this.Hd = function (e, t, i) {\n        var n = \"desc\" !== i,\n            a = n ? -1 : 1,\n            o = -a;\n        if (null === e && null === t) return 0;\n        if (null === t) return o;\n        if (null === e) return a;\n        var r = [];\n        return r[0] = e, r[1] = t, r.sort(), e === r[0] ? a : o;\n      }, this.Di = function (e, t, i, n) {\n        if (c.Da()) {\n          var a = Abhaas.indexOf(c.rowlist, e),\n              o = c.yi(e, a),\n              r = Abhaas.indexOf(P.selected, e) !== -1,\n              l = r ? \"deselected\" : \"selected\",\n              s = {};\n          if (s.row = o, s.selected = r, s.ctrl = t, s.shift = i, s.meta = n, s.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onRowSelect && (c.onRowSelect(s), s.preventDefault.value)) return;\n          var d = i && !t && !n;\n\n          if (i || (P.Kk = {\n            \"row\": e,\n            \"index\": a\n          }), d) {\n            P.fixRowSelectLast();\n            var h = P.Kk.index,\n                u = a;\n            P.selectRange(h, u);\n          }\n\n          switch (c.rowSelectHandling) {\n            case \"PostBack\":\n              c.rowSelectPostBack(o, l);\n              break;\n\n            case \"CallBack\":\n              c.rowSelectCallBack(o, l);\n              break;\n\n            case \"Notify\":\n              !d && P.select(e, t, i, n), c.rowSelectNotify(o, l);\n              break;\n\n            case \"Update\":\n              !d && P.select(e, t, i, n);\n          }\n\n          \"function\" == typeof c.onRowSelected && (s.selected = Abhaas.indexOf(P.selected, e) !== -1, c.onRowSelected(s));\n        } else {\n          P.select(e, t, i);\n          var a = Abhaas.indexOf(c.rowlist, e),\n              o = c.yi(e, a),\n              r = Abhaas.indexOf(P.selected, e) !== -1,\n              l = r ? \"deselected\" : \"selected\";\n\n          switch (c.rowSelectHandling) {\n            case \"PostBack\":\n              c.rowSelectPostBack(o, l);\n              break;\n\n            case \"CallBack\":\n              c.rowSelectCallBack(o, l);\n              break;\n\n            case \"Notify\":\n              c.rowSelectNotify(o, l);\n              break;\n\n            case \"JavaScript\":\n              c.onRowSelect(o, l);\n          }\n        }\n      }, this.rowSelectPostBack = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.change = t, this.M(\"RowSelect\", n, i);\n      }, this.rowSelectCallBack = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.change = t, this.O(\"RowSelect\", n, i);\n      }, this.rowSelectNotify = function (e, t, i) {\n        var n = {};\n        n.resource = e, n.change = t, this.O(\"RowSelect\", n, i, \"Notify\");\n      }, this.rows = {}, this.rows.selection = {};\n      var k = this.rows.selection;\n      k.get = function () {\n        var e = [];\n        return Abhaas.list(P.selected).each(function (t) {\n          e.push(c.yi(t));\n        }), e;\n      }, k.clear = function () {\n        P.clearSelection();\n      }, k.add = function (e) {\n        if (!e || !e.isRow) throw \"Abhaas.Scheduler.rows.selection.add(): Abhaas.Row object expected\";\n        Abhaas.list(P.selected).some(function (t) {\n          return t === e.$.row;\n        }) || P.selected.push(e.$.row), P.Lk(), k.Mk();\n      }, k.remove = function (e) {\n        if (!e || !e.isRow) throw \"Abhaas.Scheduler.rows.selection.remove(): Abhaas.Row object expected\";\n        k.isSelected(e) && (P.unselect(e.$.row), Abhaas.rfa(P.selected, e.$.row)), k.Mk();\n      }, k.isSelected = function (e) {\n        if (!e || !e.isRow) throw \"Abhaas.Scheduler.rows.selection.isSelected(): Abhaas.Row object expected\";\n        return Abhaas.indexOf(P.selected, e.$.row) !== -1;\n      }, k.Mk = function () {\n        c.selectedRows = Abhaas.list(P.selected).map(function (e) {\n          return e.id;\n        });\n      }, this.rows.all = function () {\n        for (var e = [], t = 0; t < c.rowlist.length; t++) {\n          var i = c.yi(c.rowlist[t]);\n          e.push(i);\n        }\n\n        return p(e);\n      }, this.rows.visible = function () {\n        for (var e = [], t = 0; t < c.rowlist.length; t++) {\n          var i = c.rowlist[t];\n\n          if (!i.hidden) {\n            var i = c.yi(c.rowlist[t]);\n            e.push(i);\n          }\n        }\n\n        return p(e);\n      }, this.rows.each = function (e) {\n        c.rows.all().each(e);\n      }, this.rows.filter = function (e, t) {\n        c.rows.Ed = e, t || c.I && c.$b({\n          \"immediateEvents\": !0\n        });\n      }, this.rows.find = function (e, t) {\n        var i = Abhaas.list(D.rowcache[e]),\n            n = null;\n        return n = \"string\" == typeof t ? i.find(function (e) {\n          return t === e.start.toString();\n        }) : i.first(), n ? new Abhaas.Row(n, c) : null;\n      }, this.rows.load = function (e, t, i) {\n        if (!e) throw new Abhaas.Exception(\"rows.load(): 'url' parameter required\");\n\n        var n = function (e) {\n          var t = {};\n          t.exception = e.exception, t.request = e.request, \"function\" == typeof i && i(t);\n        },\n            a = function (e) {\n          var i,\n              a = e.request;\n\n          try {\n            i = JSON.parse(a.responseText);\n          } catch (e) {\n            var o = {};\n            return o.exception = e, void n(o);\n          }\n\n          if (Abhaas.isArray(i)) {\n            var r = {};\n            if (r.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, r.data = i, \"function\" == typeof t && t(r), r.preventDefault.value) return;\n            c.resources = i, c.I && c.update();\n          }\n        };\n\n        c.rowsLoadMethod && \"POST\" === c.rowsLoadMethod.toUpperCase() ? Abhaas.ajax({\n          \"method\": \"POST\",\n          \"url\": e,\n          \"success\": a,\n          \"error\": n\n        }) : Abhaas.ajax({\n          \"method\": \"GET\",\n          \"url\": e,\n          \"success\": a,\n          \"error\": n\n        });\n      }, this.rows.expand = function (e) {\n        for (var t = [], i = e || 1, n = 0; n < c.rowlist.length; n++) {\n          var a = c.rowlist[n],\n              o = i === -1;\n          a.level < i && (o = !0), o && !a.expanded && a.children && a.children.length > 0 && t.push(a.index);\n        }\n\n        if (0 !== t.length) if (1 === t.length) c.Jj(t[0]);else {\n          for (var n = 0; n < t.length; n++) {\n            var r = t[n],\n                l = c.rowlist[r].resource;\n            l.expanded = !0;\n          }\n\n          c.$b();\n        }\n      }, this.rows.expandAll = function () {\n        c.rows.expand(-1);\n      }, this.rows.collapseAll = function () {\n        c.rowlist.each(function (e) {\n          e.resource.expanded = !1;\n        }), c.$b();\n      }, this.rows.headerHide = function () {\n        c.Nk = !0, c.Ok(), c.lk(), c.wh();\n      }, this.rows.headerShow = function () {\n        c.Nk = !1, c.Ok(), c.lk(), c.wh();\n      }, this.rows.headerToggle = function () {\n        c.Nk ? c.rows.headerShow() : c.rows.headerHide();\n      }, this.rows.edit = function (e) {\n        P.edit(e.$.row);\n      }, this.rows.remove = function (e) {\n        var t = e.$.row.resource,\n            i = x.findParentArray(t);\n        if (!i) throw \"Cannot find source node parent\";\n        var n = Abhaas.indexOf(i, t);\n        i.splice(n, 1), c.update();\n      }, this.rows.update = function (e) {\n        if (!(e instanceof Abhaas.Row)) throw new Abhaas.Exception(\"Abhaas.Scheduler.rows.update() expects a Abhaas.Row object.\");\n        var t = e.index,\n            i = c.rowlist[t],\n            n = e.data,\n            a = e.parent() ? e.parent().$.row : null,\n            o = c.Pk(n),\n            e = c.Qk(o, a);\n        e.hidden = i.hidden, e.level = i.level, e.children = i.children, e.index = t, e.top = i.top, e.height = i.height, c.rowlist[t] = e, e.resetEvents(), c.Ch(t), c.Rk(e), c.lj(e), c.ji(t), c.Lg(), c.Og();\n      }, this.Rk = function (e) {\n        for (var t = c.events.list, i = t.length, n = \"function\" == typeof c.onBeforeEventRender, a = 0; a < i; a++) {\n          var o = t[a];\n\n          if (o) {\n            if (o instanceof Abhaas.Event) throw new Abhaas.Exception(\"Abhaas.Scheduler: Abhaas.Event object detected in events.list array. Use raw event data instead.\");\n            if (\"Days\" === c.viewType) throw new Abhaas.Exception(\".rows.update() not supported for viewType = 'Days'.\");\n            if (\"Gantt\" === c.viewType) throw new Abhaas.Exception(\".rows.update() not supported for viewType = 'Gantt'.\");\n\n            if (\"*\" === o.resource || \"*\" === e.id || o.resource === e.id) {\n              n && this.yd(a);\n              var r = this.hj(o, e);\n              r && n && (r.cache = this.G.events[a]);\n            }\n          }\n        }\n      }, this.Sk = function () {\n        var e = l.source,\n            t = l.target,\n            i = l.position,\n            n = l.sourceCalendar;\n\n        if (P.resetMoving(), c.Da()) {\n          var a = {};\n          if (a.source = c.yi(e), a.source.calendar = n, a.target = c.yi(t), a.position = i, a.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, \"function\" == typeof c.onRowMove && (c.onRowMove(a), a.preventDefault.value)) return;\n\n          switch (c.rowMoveHandling) {\n            case \"Update\":\n              P.move(a);\n              break;\n\n            case \"CallBack\":\n              c.rowMoveCallBack(a.source, a.target, a.position);\n              break;\n\n            case \"PostBack\":\n              c.rowMovePostBack(a.source, a.target, a.position);\n              break;\n\n            case \"Notify\":\n              P.move(a), c.rowMoveNotify(a.source, a.target, a.position);\n          }\n\n          \"function\" == typeof c.onRowMoved && c.onRowMoved(a);\n        } else {\n          var e = c.yi(e),\n              t = c.yi(t),\n              i = i;\n\n          switch (c.rowMoveHandling) {\n            case \"CallBack\":\n              c.rowMoveCallBack(e, t, i);\n              break;\n\n            case \"PostBack\":\n              c.rowMovePostBack(e, t, i);\n              break;\n\n            case \"JavaScript\":\n              c.onRowMove(e, t, i);\n          }\n        }\n      }, this.Tg = function (e) {\n        var t = Abhaas.list(e);\n        P.selected = [], t.isEmpty() || (c.sg = !1, c.ka()), t.each(function (e) {\n          var t = c.ah(e);\n          t && P.selected.push(t);\n        }), P.Lk();\n      }, this.Ei = {};\n      var P = this.Ei;\n      P.edit = function (e) {\n        P.Tk(e);\n      }, P.rowSelectLastSetDefault = function () {\n        P.Kk = {\n          \"row\": c.rowlist[0],\n          \"index\": 0\n        };\n      }, P.rowSelectSetLast = function (e) {\n        var t = Abhaas.indexOf(c.rowlist, e);\n        if (t === -1) throw \"Abhaas.Scheduler: Row not found when selecting a range\";\n        P.Kk = {\n          \"row\": e,\n          \"index\": t\n        };\n      }, P.fixRowSelectLast = function () {\n        P.Kk || P.rowSelectLastSetDefault();\n        var e = Abhaas.indexOf(c.rowlist, P.Kk.row);\n\n        if (!(e > -1)) {\n          var t = c.ah(P.Kk.row.id);\n          t ? (e = Abhaas.indexOf(c.rowlist, t), P.Kk = {\n            \"row\": t,\n            \"index\": e\n          }) : P.rowSelectLastSetDefault();\n        }\n      }, P.createOverlay = function (e) {\n        var t = c.gk(),\n            i = c.t(\"_rowmove_source\"),\n            n = Abhaas.Util.div(c.divHeader, 0, e.top, t, e.height);\n        n.className = i, e.moveOverlay = n;\n      }, P.deleteOverlay = function (e) {\n        e && (Abhaas.de(e.moveOverlay), e.moveOverlay = null);\n      }, P.Tk = function (e) {\n        var t = P.Uk(e),\n            i = t.cells[0];\n        if (i.input) return i.input;\n        Abhaas.Areas.disable(i.firstChild);\n        var n = i.clientWidth;\n        e.isNewRow && (n = c.oh());\n        var o = document.createElement(\"textarea\");\n        o.style.position = \"absolute\", o.style.top = \"0px\", o.style.left = \"0px\", o.style.width = n + \"px\", o.style.height = e.height + \"px\", o.style.border = \"0px none\", o.style.overflow = \"hidden\", o.style.boxSizing = \"border-box\", o.style.resize = \"none\", o.style.paddingLeft = e.level * c.treeIndent + \"px\";\n        var r = i.textDiv;\n        o.style.fontFamily = Abhaas.gs(r, \"fontFamily\") || Abhaas.gs(r, \"font-family\"), o.style.fontSize = Abhaas.gs(r, \"fontSize\") || Abhaas.gs(r, \"font-size\"), o.value = e.name || \"\", i.firstChild.appendChild(o), i.input = o;\n\n        var l = function () {\n          try {\n            i.input.parentNode.removeChild(i.input);\n          } catch (e) {\n            a();\n          }\n\n          i.input = null;\n        };\n\n        return o.focus(), o.onblur = function () {\n          o.onblur = null;\n          var t = o.value;\n          l(), Abhaas.Areas.enable(i.firstChild), c.Ai(e, t, o.canceled);\n        }, o.onkeydown = function (e) {\n          var t = window.event ? event.keyCode : e.keyCode;\n          return 27 === t && (o.canceled = !0, l()), 13 !== t || (o.onblur(), !1);\n        }, o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(), o;\n      }, P.selected = [], P.select = function (e, t, i, n) {\n        var a = Abhaas.indexOf(P.selected, e) !== -1;\n\n        if (t || n) {\n          if (a) return P.unselect(e), void Abhaas.rfa(P.selected, e);\n        } else a = !1, P.clearSelection();\n\n        P.Vk(e), a || P.selected.push(e), k.Mk();\n      }, P.selectRange = function (e, t) {\n        P.clearSelection();\n\n        for (var i = Math.min(e, t), n = Math.max(e, t), a = i; a <= n; a++) {\n          var o = c.rowlist[a];\n          P.Vk(o), P.selected.push(o);\n        }\n\n        k.Mk();\n      }, P.Lk = function () {\n        for (var e = 0; e < P.selected.length; e++) {\n          var t = P.selected[e];\n          P.Vk(t);\n        }\n      }, P.Vk = function (e) {\n        var t = Abhaas.indexOf(c.rowlist, e);\n\n        if (t === -1) {\n          var i = c.ah(e.id);\n          if (!i) return;\n          t = i.index;\n        }\n\n        for (var n = c.t(\"_cell_selected\"), a = [], o = 0; o < c.itline.length; o++) {\n          var r = {};\n          r.x = o, r.y = t, a.push(r);\n        }\n\n        c.cells.findXy(a).addClass(n);\n\n        for (var n = c.t(\"_rowheader_selected\"), l = c.divHeader, t = 0; t < l.rows.length; t++) {\n          var s = l.rows[t];\n          if (s && s.cells[0] && s.cells[0].row === e) for (var d = 0; d < s.cells.length; d++) {\n            var r = s.cells[d],\n                h = r.firstChild;\n            Abhaas.Util.addClass(h, n);\n          }\n        }\n      }, P.Ki = function () {\n        var e = [];\n        if (!P.selected) return e;\n\n        for (var t = 0; t < P.selected.length; t++) {\n          var i = P.selected[t],\n              n = Abhaas.indexOf(c.rowlist, i),\n              a = c.yi(i, n);\n          e.push(a.toJSON());\n        }\n\n        return e;\n      }, P.unselect = function (e) {\n        for (var t = c.t(\"_cell_selected\"), i = Abhaas.indexOf(c.rowlist, e), n = [], a = 0; a < c.itline.length; a++) {\n          var o = {};\n          o.x = a, o.y = i, n.push(o);\n        }\n\n        c.cells.findXy(n).removeClass(t);\n        var t = c.t(\"_rowheader_selected\"),\n            r = (c.divHeader, P.Uk(e));\n        if (r) for (var l = 0; l < r.cells.length; l++) {\n          var o = r.cells[l],\n              s = o.firstChild;\n          Abhaas.Util.removeClass(s, t);\n        }\n      }, P.Kk = null, P.clearSelection = function () {\n        for (var e = 0; e < P.selected.length; e++) {\n          var t = P.selected[e];\n          P.unselect(t);\n        }\n\n        P.selected = [], c.selectedRows = [];\n      }, P.Uk = function (e) {\n        for (var t = c.divHeader, i = 0; i < t.rows.length; i++) {\n          var n = t.rows[i];\n          if (n && n.cells[0] && n.cells[0].row === e) return n;\n        }\n\n        return null;\n      }, P.selectById = function (e) {\n        var t = c.ah(e);\n        t && P.select(t);\n      }, P.startMoving = function (e) {\n        var t = Abhaas.Global.rowmoving;\n        t.row = e, t.sourceCalendar = c, t.cursor = c.divResScroll.style.cursor, c.divResScroll.style.cursor = \"move\", P.createOverlay(e);\n      }, P.resetMoving = function () {\n        c.divResScroll.style.cursor = l.cursor, Abhaas.de(l.div), P.deleteOverlay(l.row), Abhaas.Global.rowmoving = l = {};\n      }, P.move = function (e) {\n        var t = e.source.$.row.resource,\n            i = e.target.$.row.resource,\n            n = e.position;\n\n        if (\"forbidden\" !== n) {\n          var a = e.source.calendar.Wk.findParentArray(t);\n          if (!a) throw \"Cannot find source node parent\";\n          var o = Abhaas.indexOf(a, t);\n          a.splice(o, 1);\n          var r = x.findParentArray(i);\n          if (!r) throw \"Cannot find target node parent\";\n          var l = Abhaas.indexOf(r, i);\n\n          switch (n) {\n            case \"before\":\n              r.splice(l, 0, t);\n              break;\n\n            case \"after\":\n              r.splice(l + 1, 0, t);\n              break;\n\n            case \"child\":\n              i.children || (i.children = [], i.expanded = !0), i.children.push(t);\n          }\n\n          c.update();\n        }\n      };\n      var x = {};\n      this.Wk = x, x.findParentArray = function (e) {\n        return x.findInArray(c.resources, e);\n      }, x.findInArray = function (e, t) {\n        if (Abhaas.indexOf(e, t) !== -1) return e;\n\n        for (var i = 0; i < e.length; i++) {\n          var n = e[i];\n\n          if (n.children && n.children.length > 0) {\n            var a = x.findInArray(n.children, t);\n            if (a) return a;\n          }\n        }\n\n        return null;\n      }, this.Fg = function () {\n        this.rowlist = Abhaas.list();\n        var e = this.resources,\n            t = this.z();\n        t || (\"Gantt\" === this.viewType ? e = this.Xk() : \"Days\" === this.viewType && (e = this.Yk())), !t || \"Days\" !== this.viewType || e && 0 !== e.length || (e = this.Yk());\n        var i = {};\n        if (i.i = 0, null != e && !Abhaas.isArray(e)) throw \"Abhaas.Scheduler.resources expects an array object\";\n        this.Zk(e, i, 0, null, this.treeEnabled, !1), \"Disabled\" !== c.rowCreateHandling && this.$k();\n      }, this.$k = function () {\n        var e = {};\n        e.id = \"NEW\", e.isNewRow = !0, e.html = \"\", e.index = c.rowlist.length, e.loaded = !0, e.start = this.startDate, e.children = [], e.height = c.eventHeight, e.marginBottom = 0, e.marginTop = 0, e.getHeight = function () {\n          return c.rowCreateHeight ? c.rowCreateHeight : c.eventHeight + c.rowMarginBottom + c.rowMarginTop;\n        }, e.putIntoLine = function () {}, e.resetEvents = function () {}, this.rowlist.push(e);\n      }, this.Xk = function () {\n        var e = [];\n        if (this.zg && this.resources) for (var t = 0; t < this.resources.length; t++) e.push(this.resources[t]);\n\n        if (this.events.list) {\n          for (var t = 0; t < this.events.list.length; t++) {\n            var i = this.events.list[t],\n                n = {};\n            n.id = i.id, n.name = i.text, n.columns = i.columns, e.push(n);\n          }\n\n          return e;\n        }\n      }, this.Yk = function () {\n        for (var e = [], t = c.La(), i = this.Nc.locale(), n = 0; n < this.days; n++) {\n          var a = t.addDays(n);\n\n          if (c.showNonBusiness || c.businessWeekends || 0 != a.dayOfWeek() && 6 != a.dayOfWeek()) {\n            var o = {};\n            o.name = a.toString(i.datePattern, i), o.start = a, e.push(o);\n          }\n        }\n\n        return e;\n      }, this.La = function () {\n        return this.itline && this.itline.length > 0 ? this.itline[0].start : this.startDate;\n      }, this.Gh = function () {\n        if (this.itline && this.itline.length > 0) {\n          var e = c.itline[this.itline.length - 1].end;\n          return \"Days\" !== c.viewType ? e : e.addDays(c.days - 1);\n        }\n\n        return c.startDate.addDays(c.days);\n      }, this.visibleStart = function () {\n        return this.La();\n      }, this.visibleEnd = function () {\n        return this.Gh();\n      }, this.Qk = function (e, t) {\n        var i = {};\n        if (i.backColor = e.backColor, i.fontColor = e.fontColor, i.cssClass = e.cssClass, i.expanded = e.expanded, i.name = e.name, i.html = e.html ? e.html : i.name, i.eventHeight = \"undefined\" != typeof e.eventHeight ? e.eventHeight : c.Nc.eventHeight(), i.minHeight = \"undefined\" != typeof e.minHeight ? e.minHeight : c.rowMinHeight, i.marginBottom = \"undefined\" != typeof e.marginBottom ? e.marginBottom : c.rowMarginBottom, i.marginTop = \"undefined\" != typeof e.marginTop ? e.marginTop : c.rowMarginTop, i.eventStackingLineHeight = \"undefined\" != typeof e.eventStackingLineHeight ? e.eventStackingLineHeight : c.eventStackingLineHeight, i.loaded = !e.dynamicChildren, i.id = e.id || e.value, i.toolTip = e.toolTip, i.children = [], i.columns = [], i.start = e.start ? new Abhaas.Date(e.start) : this.La(), i.isParent = e.isParent, i.contextMenu = e.contextMenu ? Abhaas.Util.evalVariable(e.contextMenu) : this.contextMenuResource, i.areas = e.areas, i.moveDisabled = e.moveDisabled, i.bubbleHtml = e.bubbleHtml, i.cellsDisabled = e.cellsDisabled, i.tags = e.tags, i.task = e.task, i.swimlane = e.swimlane, i.hideEvents = e.hideEvents, i.height = i.eventHeight, i.resource = e._k, i.lines = [], i.blocks = [], i.isRow = !0, i.getHeight = function () {\n          var e = 0;\n          if (c.groupConcurrentEvents) for (var t = 0; t < this.blocks.length; t++) {\n            var i = this.blocks[t];\n            e = Math.max(e, i.getHeight());\n          } else if (this.lines.length > 0) {\n            var n = this.lines.length - 1,\n                a = this.lines[n],\n                o = a.height || this.eventHeight,\n                r = a.top || 0;\n            e = r + o;\n          }\n          return 0 === e && (e = this.eventHeight), e > this.minHeight ? e : this.minHeight;\n        }, i.al = function () {\n          var e = i.start.getTime() - c.La().getTime();\n          return c.itline[c.itline.length - 1].end.addTime(e);\n        }, i.resetEvents = function () {\n          var e = this;\n          e.events = Abhaas.list(), e.events.forRange = function (t, i) {\n            t = new Abhaas.Date(t), i = i ? new Abhaas.Date(i) : e.al();\n\n            for (var n = Abhaas.list(), a = 0; a < e.events.length; a++) {\n              var o = e.events[a];\n              Abhaas.Util.overlaps(o.start(), o.end(), t, i) && n.push(o);\n            }\n\n            return n;\n          };\n        }, i.calculateUtilization = function () {\n          function e() {\n            for (var e = [], t = 0; t < i.events.length; t++) {\n              var n = i.events[t];\n              Abhaas.contains(e, n.start().toString()) || e.push(n.start().toString()), Abhaas.contains(e, n.rawend().toString()) || e.push(n.rawend().toString());\n            }\n\n            return e.sort(), e;\n          }\n\n          function t() {\n            for (var t = e(), n = [], a = {\n              \"start\": i.data.start\n            }, o = 0; o < t.length; o++) a.end = new Abhaas.Date(t[o]), n.push(a), a = {\n              \"start\": new Abhaas.Date(t[o])\n            };\n\n            return a.end = i.data.end, n.push(a), n.forRange = function (e, t) {\n              for (var i = Abhaas.list(), n = 0; n < this.length; n++) {\n                var a = this[n];\n                Abhaas.Util.overlaps(e, t, a.start, a.end) && i.push(a);\n              }\n\n              return i.maxSum = function (e) {\n                for (var t = 0, i = 0; i < this.length; i++) {\n                  var n = this[i],\n                      a = n.sum(e);\n                  a > t && (t = a);\n                }\n\n                return t;\n              }, i;\n            }, n;\n          }\n\n          for (var i = this, n = i.sections = t(), a = 0; a < n.length; a++) {\n            var o = n[a];\n            o.events = Abhaas.list();\n\n            for (var r = 0; r < i.events.length; r++) {\n              var l = i.events[r];\n              Abhaas.Util.overlaps(o.start, o.end, l.start(), l.rawend()) && o.events.push(l);\n            }\n\n            o.sum = function (e) {\n              for (var t = 0, i = 0; i < this.events.length; i++) {\n                var n = this.events[i],\n                    a = 0;\n                \"undefined\" == typeof e ? a = 1 : n.tag(e) ? a = n.tag(e) : n.data[e] && (a = n.data[e]), \"number\" == typeof a && (t += a);\n              }\n\n              return t;\n            };\n          }\n        }, i.putIntoLine = function (e) {\n          for (var t = 0; t < this.lines.length; t++) {\n            var i = this.lines[t];\n            if (i.isFree(e.part.left, e.part.width)) return i.add(e), t;\n          }\n\n          var i = [];\n          return i.height = 0, i.add = function (e) {\n            this.push(e);\n            var t = e.part.Ik();\n            t > i.height && (i.height = t);\n          }, i.isFree = function (e, t, i) {\n            for (var n = e + t - 1, a = this.length, o = 0; o < a; o++) {\n              var r = this[o];\n\n              if (!(n < r.part.left || e > r.part.left + r.part.width - 1)) {\n                if (Abhaas.contains(i, r.data)) continue;\n                return !1;\n              }\n            }\n\n            return !0;\n          }, i.add(e), this.lines.push(i), this.lines.length - 1;\n        }, i.putIntoBlock = function (e) {\n          for (var t = 0; t < this.blocks.length; t++) {\n            var i = this.blocks[t];\n            if (Abhaas.indexOf(i.events, e) !== -1) return;\n            if (i.overlapsWith(e.part.left, e.part.width)) return i.events.push(e), e.part.block = i, i.min = Math.min(i.min, e.part.left), i.max = Math.max(i.max, e.part.left + e.part.width), t;\n          }\n\n          var i = {};\n          i.expanded = !1, i.row = this, i.events = Abhaas.list(), i.lines = Abhaas.list(), i.putIntoLine = function (e) {\n            for (var t = 0; t < this.lines.length; t++) {\n              var i = this.lines[t];\n              if (i.isFree(e.part.left, e.part.width)) return i.add(e), t;\n            }\n\n            var i = [];\n            i.height = 0, i.add = function (e) {\n              this.push(e), e.part.height > i.height && (i.height = e.part.height);\n            }, i.isFree = function (e, t) {\n              for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {\n                var o = this[a];\n                if (!(i < o.part.left || e > o.part.left + o.part.width - 1)) return !1;\n              }\n\n              return !0;\n            }, i.add(e), this.lines.push(i);\n          }, i.overlapsWith = function (e, t) {\n            return !(e + t - 1 < this.min || e > this.max - 1);\n          }, i.getHeight = function () {\n            if (!this.expanded) return c.eventHeight;\n\n            if (this.lines.length > 0) {\n              var e = this.lines.length - 1,\n                  t = this.lines[e],\n                  i = t.height || c.eventHeight;\n              return (t.top || 0) + i;\n            }\n\n            return c.eventHeight;\n          }, i.clear = function () {\n            i.events = Abhaas.list(), i.min = null, i.max = null;\n          }, i.events.push(e), e.part.block = i, i.min = e.part.left, i.max = e.part.left + e.part.width, this.blocks.push(i);\n        }, i.bl = !1, i.cl = t, i.fc = function () {\n          this.hidden = !this.dl(), this.bl = !1, this.cl && this.cl.fc();\n        }, i.dl = function () {\n          return !this.cl || this.cl.dl() && this.cl.expanded;\n        }, e.columns) for (var n = 0; n < e.columns.length; n++) i.columns.push(e.columns[n]);\n        return i;\n      }, this.ei = function () {\n        c.rowlist.each(function (e) {\n          if (\"function\" == typeof c.onRowFilter && c.rows.Ed) {\n            var t = e.cl,\n                i = {};\n            i.visible = !0, i.row = c.yi(e), i.filter = c.rows.Ed, c.onRowFilter(i), e.bl = !i.visible, i.visible ? t && t.fc() : e.hidden = !0;\n          }\n        });\n      }, this.Zk = function (e, t, i, n, a, o) {\n        if (e) for (var r = 0; r < e.length; r++) if (e[r]) {\n          var l = {};\n\n          if (l.level = i, l.hidden = o, l.index = t.i, !e[r].hidden) {\n            var s = this.Pk(e[r], l),\n                d = c.Qk(s, n);\n\n            if (o && (d.hidden = !0), d.level = i, d.index = t.i, null !== n && n.children.push(t.i), this.rowlist.push(d), t.i++, a && s.children && s.children.length) {\n              var h = o || !d.expanded;\n              this.Zk(s.children, t, i + 1, d, !0, h);\n            }\n          }\n        }\n      }, this.fl = [\"text\", \"html\", \"backColor\", \"cssClass\", \"areas\", \"horizontalAlignment\"], this.Uj = function (e) {\n        if (e.isNewRow) return {\n          \"row\": {\n            \"cssClass\": c.t(\"_row_new\"),\n            \"moveDisabled\": !0,\n            \"html\": c.rowCreateHtml || \"\"\n          }\n        };\n        var t = {};\n\n        if (t.row = this.yi(e), Abhaas.Util.copyProps(e, t.row, [\"html\", \"backColor\", \"fontColor\", \"cssClass\", \"toolTip\", \"contextMenu\", \"moveDisabled\"]), t.row.columns = Abhaas.Util.createArrayCopy(e.columns, c.fl), t.row.areas = Abhaas.Util.createArrayCopy(e.areas), \"undefined\" == typeof t.row.columns && c.rowHeaderColumns && c.rowHeaderColumns.length > 0) {\n          r.columns = [];\n\n          for (var i = 0; i < c.rowHeaderColumns.length; i++) r.columns.push({});\n        }\n\n        return \"function\" == typeof this.onBeforeRowHeaderRender && this.onBeforeRowHeaderRender(t), t;\n      }, this.Pk = function (e, t) {\n        var i = this.gl(e, t);\n\n        if (\"function\" == typeof this.onBeforeResHeaderRender) {\n          var n = {};\n          n.resource = i, this.onBeforeResHeaderRender(n);\n        }\n\n        return i;\n      }, this.gl = function (e, t) {\n        var i = {\n          get data() {\n            return this._k;\n          }\n\n        };\n\n        for (var n in t) i[n] = t[n];\n\n        for (var n in e) i[n] = e[n];\n\n        if (\"undefined\" == typeof e.html && (i.html = e.name), \"undefined\" == typeof i.columns && c.rowHeaderColumns && c.rowHeaderColumns.length > 0) {\n          i.columns = [];\n\n          for (var a = 0; a < c.rowHeaderColumns.length; a++) i.columns.push({});\n        }\n\n        return i._k = e, i;\n      }, this.ci = function () {\n        this.nav.top.dp = this, this.nav.top.innerHTML = \"\", Abhaas.Util.addClass(this.nav.top, this.t(\"_main\")), this.nav.top.setAttribute(\"role\", \"region\"), this.nav.top.setAttribute(\"aria-label\", \"scheduler\"), Abhaas.browser.ie9 && Abhaas.Util.addClass(this.nav.top, this.t(\"_browser_ie9\")), Abhaas.browser.ie8 && Abhaas.Util.addClass(this.nav.top, this.t(\"_browser_ie8\")), this.nav.top.style.MozUserSelect = \"none\", this.nav.top.style.KhtmlUserSelect = \"none\", this.nav.top.style.webkitUserSelect = \"none\", this.nav.top.style.WebkitTapHighlightColor = \"rgba(0,0,0,0)\", this.nav.top.style.WebkitTouchCallout = \"none\", this.width && (this.nav.top.style.width = this.width), \"Parent100Pct\" === this.heightSpec && (this.nav.top.style.height = \"100%\"), this.nav.top.style.lineHeight = \"1.2\", this.nav.top.style.position = \"relative\", this.visible || (this.nav.top.style.display = \"none\"), this.nav.top.onmousemove = this.mg, this.nav.top.onmouseout = function () {\n          c.Lj();\n        }, this.nav.top.ontouchstart = E.onMainTouchStart, this.nav.top.ontouchmove = E.onMainTouchMove, this.nav.top.ontouchend = E.onMainTouchEnd, this.hideUntilInit && this.backendUrl && (this.nav.top.style.visibility = \"hidden\");\n        var e = this.oh(),\n            t = \"Top\" === c.timeHeaderPosition;\n\n        if (c.bi = c.timeHeaderPosition, \"DivBased\" === this.Nc.layout()) {\n          var i = document.createElement(\"div\");\n          i.style.position = \"absolute\", i.style.left = \"0px\", i.style.width = e + \"px\";\n          var n = document.createElement(\"div\");\n          n.style.height = \"1px\", n.className = this.t(\"_divider_horizontal\"), this.nav.dh1 = n, this.nav.left = i, t ? (i.appendChild(this.Pc()), i.appendChild(n), i.appendChild(this.hl())) : (i.appendChild(this.hl()), i.appendChild(n), i.appendChild(this.Pc()));\n          var a = document.createElement(\"div\");\n          a.style.position = \"absolute\", a.style.left = e + \"px\", a.style.width = _.splitterWidth() + \"px\", a.style.height = this.ph() + this.rc() + \"px\", a.className = this.t(\"_divider\") + \" \" + this.t(\"_splitter\"), a.setAttribute(\"unselectable\", \"on\"), this.nav.divider = a, this.rowHeaderScrolling && this.il();\n          var o = document.createElement(\"div\");\n          o.style.marginLeft = e + _.splitterWidth() + \"px\", o.style.marginRight = \"1px\", o.style.position = \"relative\", this.nav.right = o;\n          var r = document.createElement(\"div\");\n          r.style.height = \"1px\", t && (r.style.position = \"absolute\", r.style.top = this.ph() + \"px\"), r.style.width = \"100%\", r.className = this.t(\"_divider_horizontal\"), this.nav.dh2 = r, t ? (o.appendChild(this.jl()), o.appendChild(r), o.appendChild(this.kl())) : (o.appendChild(this.kl()), o.appendChild(r), o.appendChild(this.jl()));\n          var l = document.createElement(\"div\");\n          l.style.clear = \"left\", this.nav.top.appendChild(i), this.nav.top.appendChild(a), this.nav.top.appendChild(o), this.nav.top.appendChild(l);\n        } else {\n          var s = document.createElement(\"table\");\n          s.cellPadding = 0, s.cellSpacing = 0, s.border = 0, s.style.position = \"absolute\";\n          var d = s.insertRow(-1);\n          d.insertCell(-1).appendChild(this.Pc()), d.insertCell(-1).appendChild(this.jl());\n          var h = s.insertRow(-1);\n          h.insertCell(-1).appendChild(this.hl()), h.insertCell(-1).appendChild(this.kl()), this.nav.top.appendChild(s);\n        }\n\n        if (this.ef = document.createElement(\"div\"), this.ef.style.display = \"none\", this.nav.top.appendChild(this.ef), this.T()) {\n          var u = document.createElement(\"input\");\n          u.type = \"hidden\", u.id = this.id + \"_state\", u.name = this.id + \"_state\", this.nav.state = u, this.nav.top.appendChild(u);\n        }\n\n        var f = document.createElement(\"div\");\n        f.style.position = \"absolute\", f.style.left = this.oh() + _.splitterWidth() + 5 + \"px\", f.style.top = this.ph() + 5 + \"px\", f.style.display = \"none\", f.innerHTML = this.loadingLabelText, Abhaas.Util.addClass(f, this.t(\"_loading\")), this.nav.loading = f, this.nav.top.appendChild(f), this.ll();\n      }, this.mg = function (e) {\n        if (l.row) {\n          var t = Abhaas.mo3(c.divHeader, e),\n              i = c.Ri(t.y),\n              a = c.rowlist[i.i];\n          if (!a) return;\n          if (a.isNewRow) return;\n\n          var o = t.y - i.top,\n              r = i.bottom - i.top,\n              s = r / 3,\n              d = 2 * s,\n              h = r / 2,\n              u = \"before\",\n              f = a.children && a.children.length > 0,\n              v = function () {\n            for (var e = i.i, t = a.level; e >= 0;) {\n              var n = c.rowlist[e];\n\n              if (e--, !(t <= n.level)) {\n                if (n === l.row) return !0;\n                if (0 === n.level) return !1;\n                t = n.level;\n              }\n            }\n\n            return !1;\n          }(),\n              p = c.treeEnabled;\n\n          u = v || i.i === l.row.index ? \"forbidden\" : p ? f ? o < h ? \"before\" : \"child\" : o < s ? \"before\" : o < d ? \"child\" : \"after\" : f ? \"before\" : o < h ? \"before\" : \"after\", l.row.moveDisabled && (u = \"forbidden\"), l.calendar = c, l.source = l.row, l.target = c.rowlist[i.i], l.position = u;\n\n          if (function () {\n            return !l.last || l.last.target !== l.target || l.last.position !== l.position;\n          }()) {\n            if (\"function\" == typeof c.onRowMoving) {\n              var g = {};\n              g.source = c.yi(l.source), g.target = c.yi(l.target), g.position = u, c.onRowMoving(g), l.position = g.position;\n            }\n          } else l.last && (l.position = l.last.position);\n\n          l.last = {}, l.last.target = l.target, l.last.position = l.position, function () {\n            l.div && Abhaas.de(l.div);\n            var e = i.top,\n                t = l.position,\n                n = c.rowlist[i.i],\n                a = n.level,\n                o = a * c.treeIndent;\n\n            switch (t) {\n              case \"before\":\n                e = i.top;\n                break;\n\n              case \"child\":\n                e = i.top + h;\n                break;\n\n              case \"after\":\n                e = i.bottom;\n                break;\n\n              case \"forbidden\":\n                e = i.top + h;\n            }\n\n            var r = c.gk() - o,\n                s = document.createElement(\"div\");\n            s.style.position = \"absolute\", s.style.left = o + \"px\", s.style.width = r + \"px\", s.style.top = e + \"px\", s.className = c.t(\"_rowmove_position_\" + t), l.div = s, c.divResScroll.appendChild(s);\n          }();\n        } else if (n.splitting) {\n          var m = Abhaas.mo3(c.nav.top, e).x,\n              y = c.gk(),\n              b = m - 1;\n          c.rowHeaderCols && (b = Math.min(y, m - 1)), c.rowHeaderWidth = b, c.Nk = !1, c.rowHeaderCols || c.ml(), c.Ok();\n        }\n      }, this.ma = function () {\n        var e = this.ph(),\n            t = \"Top\" === c.timeHeaderPosition;\n        this.nav.corner.style.height = e + \"px\", this.divTimeScroll.style.height = e + \"px\", this.divNorth.style.height = e + \"px\", this.nav.dh1 && this.nav.dh2 && t && (this.nav.dh1.style.top = e + \"px\", this.nav.dh2.style.top = e + \"px\"), this.nav.loading.style.top = e + 5 + \"px\", t && (this.nav.scroll.style.top = e + 1 + \"px\");\n      }, this.oh = function () {\n        if (this.Nk) return 0;\n        var e = 0;\n        return e = this.rowHeaderScrolling ? this.rowHeaderWidth : this.gk();\n      }, this.il = function () {\n        var e = this.nav.divider;\n        e.style.cursor = \"col-resize\", e.setAttribute(\"unselectable\", \"on\"), e.onmousedown = function (e) {\n          var t = n.splitting = {};\n          return t.cursor = c.nav.top.style.cursor, t.cleanup = function () {\n            if (c.nav.top.style.cursor = t.cursor, \"function\" == typeof c.onRowHeaderResized) {\n              var e = {};\n              c.onRowHeaderResized(e);\n            }\n          }, c.nav.top.style.cursor = \"col-resize\", !1;\n        };\n      }, this.Ok = function () {\n        var e = _.splitterWidth(),\n            t = this.oh();\n\n        if (this.nav.corner.style.width = t + \"px\", this.divCorner.style.width = t + \"px\", this.divResScroll.style.width = t + \"px\", \"DivBased\" === _.layout() && (this.nav.left.style.width = t + \"px\", this.nav.divider.style.left = t - e + \"px\", this.nav.right.style.marginLeft = t + \"px\"), this.nav.message && (this.nav.message.style.left = c.nh() + \"px\"), this.nav.loading && (this.nav.loading.style.left = t + e + 5 + \"px\"), this.nav.hideIcon) {\n          var i = this.nav.hideIcon,\n              n = c.t(\"_header_icon_show\"),\n              a = c.t(\"_header_icon_hide\");\n          i.style.left = t - 1 + \"px\", c.Nk ? (Abhaas.Util.removeClass(i, a), Abhaas.Util.addClass(i, n)) : (Abhaas.Util.removeClass(i, n), Abhaas.Util.addClass(i, a));\n        }\n      }, this.ml = function () {\n        this.hk();\n\n        var e = this.gk(),\n            t = function (e, t, i) {\n          if (e && e.style) {\n            var n = e.firstChild;\n            c.mk ? (e.style.width = t + \"px\", n.style.width = t + \"px\", \"number\" == typeof i && (e.style.left = i + \"px\")) : n.style.width = t + \"px\";\n          }\n        },\n            i = this.divHeader;\n\n        i.style.width = e + \"px\";\n\n        for (var n = c.ik(), a = n.start; a < n.end; a++) {\n          var o = i.rows[a];\n\n          if (o) {\n            var r = o.cells[0];\n\n            if (r.colSpan > 1) {\n              var r = o.cells[0];\n              t(r, e);\n            } else if (this.rowHeaderCols) for (var l = 0, s = 0; s < o.cells.length; s++) {\n              var d = this.rowHeaderCols[s],\n                  r = o.cells[s];\n              t(r, d, l), l += d;\n            } else {\n              var d = this.rowHeaderWidth,\n                  r = o.cells[0];\n              t(r, d);\n            }\n          }\n        }\n\n        c.nav.resScrollSpace && (c.nav.resScrollSpace.style.width = e + \"px\"), this.ba();\n      }, this.$h = function () {\n        this.Ok(), this.ml();\n      }, this.nl = function () {\n        var e = c.nav.corner,\n            t = this.rowHeaderColumns,\n            i = document.createElement(\"div\");\n        i.style.position = \"absolute\", i.style.bottom = \"0px\", i.style.left = \"0px\", i.style.width = \"100%\", i.style.height = _.headerHeight() + \"px\", i.style.overflow = \"hidden\", c.nav.columnScroll = i;\n        var n = document.createElement(\"div\");\n        n.style.position = \"absolute\", n.style.bottom = \"0px\", n.style.left = \"0px\", n.style.width = \"5000px\", n.style.height = _.headerHeight() + \"px\", n.style.overflow = \"hidden\", n.className = this.t(\"_columnheader\"), i.appendChild(n);\n        var a = document.createElement(\"div\");\n        a.style.position = \"absolute\", a.style.top = \"0px\", a.style.bottom = \"0px\", a.style.left = \"0px\", a.style.right = \"0px\", a.className = this.t(\"_columnheader_inner\"), n.appendChild(a), c.Wi && (c.Wi.dispose(), c.Wi = null);\n        var o = new Abhaas.Splitter(a);\n        o.enabled = c.rowHeaderColumnsResizable, o.widths = Abhaas.Util.propArray(t, \"width\", c.rowHeaderColumnDefaultWidth), o.height = _.headerHeight(), o.css.title = this.t(\"_columnheader_cell\"), o.css.titleInner = this.t(\"_columnheader_cell_inner\"), o.css.splitter = this.t(\"_columnheader_splitter\"), o.titles = Abhaas.list(t).map(function (e) {\n          return e.html || e.text || e.name || e.title || \"\";\n        }), o.updating = function (e) {\n          c.Vg.skip = !0, Abhaas.Util.updatePropsFromArray(c.rowHeaderColumns, \"width\", this.widths), c.$h(), \"Auto\" === c.cellWidthSpec;\n        }, o.updated = function (e) {\n          if (c.lk(), c.Da()) {\n            if (\"function\" == typeof c.onRowHeaderColumnResized) {\n              var t = {};\n              t.column = c.rowHeaderColumns[e.index], c.onRowHeaderColumnResized(t);\n            }\n          } else switch (c.rowHeaderColumnResizedHandling) {\n            case \"CallBack\":\n              break;\n\n            case \"PostBack\":\n              break;\n\n            case \"JavaScript\":\n              if (\"function\" == typeof c.onRowHeaderColumnResized) {\n                var t = {};\n                t.column = c.rowHeaderColumns[e.index], c.onRowHeaderColumnResized(t);\n              }\n\n          }\n        }, o.color = \"#000000\", o.opacity = 30, o.init(), e.appendChild(i), this.Wi = o;\n      }, this.fi = function () {\n        var e = this.nav.corner;\n        e.innerHTML = \"\", e.className = this.t(\"_corner\");\n        var t = document.createElement(\"div\");\n\n        if (t.style.position = \"absolute\", t.style.top = \"0px\", t.style.left = \"0px\", t.style.right = \"0px\", t.style.bottom = \"0px\", t.className = this.t(\"_corner_inner\"), this.divCorner = t, t.innerHTML = \"&nbsp;\", this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {\n          var i = document.createElement(\"div\");\n          i.style.position = \"absolute\", i.style.top = \"0px\", i.style.left = \"0px\", i.style.right = \"0px\", i.style.bottom = _.headerHeight() + 1 + \"px\", e.appendChild(i);\n          var n = document.createElement(\"div\");\n          n.style.position = \"absolute\", n.style.left = \"0px\", n.style.right = \"0px\", n.style.height = \"1px\", n.style.bottom = _.headerHeight() + \"px\", n.className = this.t(\"_divider\"), e.appendChild(n), i.appendChild(t), this.nl();\n        } else e.appendChild(t);\n\n        var a = document.createElement(\"div\");\n        a.style.position = \"absolute\", a.style.padding = \"2px\", a.style.top = \"0px\", a.style.left = \"1px\", a.style.backgroundColor = \"#FF6600\", a.style.color = \"white\", a.innerHTML = \"\\u0044\\u0045\" + \"\\u004D\\u004F\", Abhaas.Util.isNullOrUndefined(undefined) && e.appendChild(a);\n      }, this.ll = function () {\n        var e = 3,\n            t = this.oh() + _.splitterWidth() - 1,\n            i = 10,\n            n = 20,\n            a = this.ph() + e,\n            o = Abhaas.Util.div(this.nav.top, t, a, i, n);\n        o.style.cursor = \"pointer\", o.className = c.t(\"_header_icon\"), Abhaas.Util.addClass(o, c.t(\"_header_icon_hide\")), o.onclick = function () {\n          c.rows.headerToggle();\n        }, this.nav.hideIcon = o;\n      }, this.gi = function () {\n        c.nav.hideIcon && (c.rowlist.length > 0 && c.rowHeaderHideIconEnabled ? c.nav.hideIcon.style.display = \"\" : c.nav.hideIcon.style.display = \"none\");\n      }, this.Pc = function () {\n        var e = this.oh(),\n            t = document.createElement(\"div\");\n        return c.nav.corner = t, t.style.width = e + \"px\", t.style.height = this.ph() + \"px\", t.style.overflow = \"hidden\", t.style.position = \"relative\", t.setAttribute(\"unselectable\", \"on\"), t.onmousemove = function () {\n          c.aa();\n        }, t.oncontextmenu = function () {\n          return !1;\n        }, this.fi(), t;\n      }, this.ph = function () {\n        if (c.timeHeaders) {\n          var e = R.timeHeader(c.timeHeaders.length - 1);\n          return e.top + e.height;\n        }\n\n        return this.timeHeader ? c.timeHeader.length * _.headerHeight() : 0;\n      }, this.ol = null, this.pl = function () {\n        return c.scrollStep || c.eventHeight;\n      }, this.hl = function () {\n        var e = document.createElement(\"div\");\n        e.style.width = this.oh() + \"px\", e.style.height = this.rc() + \"px\", e.style.overflow = \"hidden\", e.style.position = \"relative\", e.className = c.t(\"_rowheader_scroll\");\n        var t = c.pl(),\n            i = c.Nc.mobile();\n        return i && (e.style.overflowY = \"auto\"), e.onmousemove = function () {\n          c.aa();\n        }, e.onscroll = function () {\n          c.nav.columnScroll && c.rowHeaderScrolling && (c.nav.columnScroll.scrollLeft = e.scrollLeft), c.ol && clearTimeout(c.ol), i ? c.ol = setTimeout(function () {\n            var t = c.Mj() - c.nav.scroll.offsetHeight;\n            e.scrollTop = Math.min(e.scrollTop, t), c.nav.scroll.scrollTop = e.scrollTop;\n          }, 10) : c.ol = setTimeout(function () {\n            c.nav.scroll.scrollTop = e.scrollTop;\n          }, 10);\n        }, e.addEventListener(\"wheel\", function (i) {\n          var n;\n          n = c.overrideWheelScrolling || c.scrollStep ? i.deltaY > 0 ? t : -t : i.deltaY, c.nav.scroll.scrollTop = e.scrollTop + n, i.preventDefault && i.preventDefault();\n        }, !1), e.oncontextmenu = function () {\n          return !1;\n        }, e.onmouseenter = function () {\n          c.rowHeaderScrolling && (e.style.overflowX = \"auto\");\n        }, e.onmouseleave = function () {\n          c.rowHeaderScrolling && (e.style.overflowX = \"hidden\");\n        }, e.setAttribute(\"role\", \"region\"), e.setAttribute(\"aria-label\", \"scheduler rows\"), this.divResScroll = e, this.vh = e, e;\n      }, this.ql = function (e) {\n        if (\"TableBased\" === _.layout()) {\n          var t = parseInt(this.width, 10),\n              i = isNaN(t) || this.width.indexOf(\"%\") !== -1,\n              n = (/MSIE/i.test(navigator.userAgent), this.gk());\n          i ? this.nav.top && this.nav.top.offsetWidth > 0 && (e.style.width = this.nav.top.offsetWidth - 6 - n + \"px\") : e.style.width = t - n + \"px\";\n        }\n      }, this.Ve = function (e) {\n        c.Jg(), c.Ug();\n      }, this.Jg = function () {\n        \"TableBased\" === c.Nc.layout() && (c.ql(c.nav.scroll), c.ql(c.divTimeScroll)), c.ta(), c.lk(), c.rl(), c.G.drawArea = null;\n      }, this.sl = null, this.Vi = null, this.ul = function () {\n        c.watchWidthChanges && (c.Vi || (this.Vi = setInterval(function () {\n          return c.nav && c.nav.top ? (c.sl || (c.sl = {}, c.sl.counter = 0, c.sl.changed = !1, c.sl.width = c.nav.top.offsetWidth), c.sl.width !== c.nav.top.offsetWidth && (c.sl.changed = !0, c.sl.counter = 0, c.sl.width = c.nav.top.offsetWidth), c.sl.changed && (c.sl.counter += 1), void (c.sl.changed && c.sl.counter > 2 && (c.sl.changed = !1, c.Jg(), c.Ug()))) : void clearInterval(c.Vi);\n        }, 200)));\n      }, this.rl = function () {\n        var e = c.rangeHold;\n        c.clearSelection(), c.rangeHold = e, c.ui(e, !0);\n      }, this.lk = function () {\n        c.I && \"Auto\" === c.cellWidthSpec && (c.Dg(), c.Eg(), c.Hg(), c.Lg(), c.Og(), c.Mg(), c.Pg(), c.V(), c.la(), c.za(), c.ta());\n      }, this.Dg = function () {\n        if (\"Auto\" === this.cellWidthSpec) {\n          var e = this.nav.top.clientWidth,\n              t = this.oh(),\n              i = c.vl(),\n              n = e - t - i;\n\n          if (this.Oj()) {\n            var a = n / this.Oj();\n            this.cellWidth = Math.max(a, c.cellWidthMin), c.uh = a < c.cellWidthMin;\n          }\n        }\n      }, this.vl = function () {\n        if (\"Auto\" === c.heightSpec) return 0;\n\n        if (\"Max\" === c.heightSpec || \"Fixed\" === c.heightSpec || \"Parent100Pct\" === c.heightSpec) {\n          return c.Mj() > c.height ? Abhaas.sw(c.nav.scroll) : 0;\n        }\n\n        return Abhaas.sw(c.nav.scroll);\n      }, this.yh = function () {\n        var e = this.nav.top.clientWidth,\n            t = this.oh(),\n            i = this.rc(),\n            n = this.Mj(),\n            a = \"Auto\" === c.heightSpec,\n            o = 0;\n        return n > i && !a && (o = Abhaas.swa()), e - t - 2 - o;\n      }, this.jl = function () {\n        var e = \"Top\" === c.timeHeaderPosition,\n            t = document.createElement(\"div\");\n        t.style.overflow = \"hidden\", t.style.display = \"block\", e ? (t.style.position = \"absolute\", t.style.top = \"0px\") : t.style.position = \"relative\", t.style.width = \"100%\", t.style.height = this.ph() + \"px\", t.style.overflow = \"hidden\", t.onmousemove = function () {\n          c.aa(), c.cellBubble && c.cellBubble.delayedHide();\n        }, this.ql(t), this.divTimeScroll = t;\n        var i = document.createElement(\"div\");\n        return i.style.width = this.Oj() * this.cellWidth + 5e3 + \"px\", this.divNorth = i, t.appendChild(i), t;\n      }, this.rc = function () {\n        var e = 0,\n            t = c.heightSpec;\n        return \"Fixed\" === t || \"Parent100Pct\" === t ? this.height ? this.height : 0 : (e = c.Mj(), (\"Max\" === t || \"Max100Pct\" === t) && e > c.height ? c.height : e);\n      }, this.wl = null, this.xl = 0, this.yl = 0, this.zl = 0, this.wh = function () {\n        if (\"function\" == typeof c.onHeightChanged || \"function\" == typeof c.onDimensionsChanged) {\n          c.wl && clearTimeout(c.wl);\n\n          var e = function () {\n            var e = c.nav.top.offsetHeight,\n                t = c.xl;\n            c.xl = e;\n            var i = c.nav.top.offsetWidth,\n                n = c.yl;\n            c.yl = i;\n            var a = c.oh(),\n                o = c.zl;\n\n            if (c.zl = a, \"function\" == typeof c.onHeightChanged && e !== t) {\n              var r = {};\n              r.oldHeight = t, r.newHeight = e, c.onHeightChanged(r);\n            }\n\n            if (\"function\" == typeof c.onDimensionsChanged && (e !== t || i !== n || a !== o)) {\n              var r = {};\n              r.oldHeight = t, r.newHeight = e, r.oldWidth = n, r.newWidth = i, r.oldRowHeaderWidth = o, r.newRowHeaderWidth = a, c.onDimensionsChanged(r);\n            }\n          };\n\n          c.wl = setTimeout(e, 100);\n        }\n      }, this.Mj = function () {\n        var e;\n        return this.yg !== -1 ? (e = this.yg, this.yg > 0 && \"auto\" === c.nav.scroll.style.overflowX && (e += Abhaas.sh(c.nav.scroll))) : e = this.rowlist.length * this.Nc.eventHeight(), e;\n      }, this.aa = function () {\n        c.Al && (this.ba(), this.Bl(), this.Cl(), this.ek(), this.Lj(), c.cellBubble && c.cellBubble.hideOnMouseOut(), c.bubble && c.bubble.hideOnMouseOut(), c.Al = !1);\n      }, this.kl = function () {\n        var e = document.createElement(\"div\");\n\n        if (e.style.overflow = \"auto\", e.style.overflowX = \"auto\", e.style.overflowY = \"auto\", e.style.height = this.rc() + \"px\", \"Top\" === c.timeHeaderPosition ? (e.style.top = this.ph() + 1 + \"px\", e.style.position = \"absolute\") : e.style.position = \"relative\", e.style.width = \"100%\", e.className = this.t(\"_scrollable\"), e.oncontextmenu = function () {\n          return !1;\n        }, this.ql(e), c.overrideWheelScrolling) {\n          var t = c.pl();\n          e.onwheel = function (i) {\n            var n = i.deltaY > 0 ? t : -t;\n            c.nav.scroll.scrollTop = e.scrollTop + n, i.preventDefault && i.preventDefault();\n          }, e.onmousewheel = function (i) {\n            i = i || window.event;\n            var n = i.wheelDelta < 0 ? t : -t;\n            c.nav.scroll.scrollTop = e.scrollTop + n, i.preventDefault && i.preventDefault(), i.returnValue = !1;\n          };\n        }\n\n        this.nav.scroll = e, this.Zg = document.createElement(\"div\"), this.Zg.style.MozUserSelect = \"none\", this.Zg.style.KhtmlUserSelect = \"none\", this.Zg.style.webkitUserSelect = \"none\", this.Zg.AbhaasMainD = !0, this.Zg.calendar = this, i && (this.Zg.style.webkitTransform = \"translateZ(0px)\"), this.Zg.style.position = \"absolute\";\n        var n = this.lh();\n        return n > 0 && !isNaN(n) && (this.Zg.style.width = n + \"px\"), this.Zg.setAttribute(\"unselectable\", \"on\"), this.Zg.onmousedown = this.Dl, this.Zg.onmousemove = this.fk, this.Zg.onmouseup = this.El, this.Zg.oncontextmenu = this.Fl, this.Zg.ondblclick = this.Gl, this.Zg.className = this.t(\"_matrix\"), this.divStretch = document.createElement(\"div\"), this.divStretch.style.position = \"absolute\", this.divStretch.style.height = \"1px\", this.Zg.appendChild(this.divStretch), this.divCells = document.createElement(\"div\"), this.divCells.style.position = \"absolute\", this.divCells.oncontextmenu = this.Fl, this.Zg.appendChild(this.divCells), this.divLines = document.createElement(\"div\"), this.divLines.style.position = \"absolute\", this.divLines.oncontextmenu = this.Fl, this.Zg.appendChild(this.divLines), this.divBreaks = document.createElement(\"div\"), this.divBreaks.style.position = \"absolute\", this.divBreaks.oncontextmenu = this.Fl, this.Zg.appendChild(this.divBreaks), this.divSeparators = document.createElement(\"div\"), this.divSeparators.style.position = \"absolute\", this.divSeparators.oncontextmenu = this.Fl, this.Zg.appendChild(this.divSeparators), this.divLinksBelow = document.createElement(\"div\"), this.divLinksBelow.style.position = \"absolute\", this.Zg.appendChild(this.divLinksBelow), this.divCrosshair = document.createElement(\"div\"), this.divCrosshair.style.position = \"absolute\", this.divCrosshair.ondblclick = this.Gl, this.divCrosshair.onmousedown = this.jd, this.Zg.appendChild(this.divCrosshair), this.divRange = document.createElement(\"div\"), this.divRange.style.position = \"absolute\", this.divRange.oncontextmenu = this.Fl, this.Zg.appendChild(this.divRange), this.divEvents = document.createElement(\"div\"), this.divEvents.style.position = \"absolute\", this.Zg.appendChild(this.divEvents), this.divSeparatorsAbove = document.createElement(\"div\"), this.divSeparatorsAbove.style.position = \"absolute\", this.divSeparatorsAbove.oncontextmenu = this.Fl, this.Zg.appendChild(this.divSeparatorsAbove), this.divLinksAbove = document.createElement(\"div\"), this.divLinksAbove.style.position = \"absolute\", this.Zg.appendChild(this.divLinksAbove), this.divLinkShadow = document.createElement(\"div\"), this.divLinkShadow.style.position = \"absolute\", this.Zg.appendChild(this.divLinkShadow), this.divLinkpoints = document.createElement(\"div\"), this.divLinkpoints.style.position = \"absolute\", this.Zg.appendChild(this.divLinkpoints), this.divRectangle = document.createElement(\"div\"), this.divRectangle.style.position = \"absolute\", this.Zg.appendChild(this.divRectangle), this.divHover = document.createElement(\"div\"), this.divHover.style.position = \"absolute\", this.Zg.appendChild(this.divHover), this.divShadow = document.createElement(\"div\"), this.divShadow.style.position = \"absolute\", this.Zg.appendChild(this.divShadow), e.appendChild(this.Zg), e;\n      }, this.Hl = {};\n      var C = this.Hl;\n      C.create = function () {\n        if (!c.nav.overlay) {\n          var e = document.createElement(\"div\");\n          e.style.position = \"absolute\", e.style.left = \"0px\", e.style.right = \"0px\", e.style.top = \"0px\", e.style.bottom = \"0px\", e.className = c.t(\"_block\"), c.nav.top.appendChild(e), c.nav.overlay = e;\n        }\n      }, C.show = function () {\n        C.create(), c.nav.overlay.style.display = \"\";\n      }, C.hide = function () {\n        c.nav.overlay && (c.nav.overlay.style.display = \"none\");\n      }, this.P = function (e) {\n        var t = e ? 0 : 100;\n        c.loadingTimeout && window.clearTimeout(c.loadingTimeout), c.loadingTimeout = window.setTimeout(function () {\n          c.loadingLabelVisible && (c.nav.loading.innerHTML = c.loadingLabelText, c.nav.loading.style.display = \"\"), c.blockOnCallBack && C.show();\n        }, t);\n      }, this.fa = function () {\n        this.loadingTimeout && window.clearTimeout(this.loadingTimeout), this.nav.loading.style.display = \"none\", this.blockOnCallBack && C.hide();\n      }, this.loadingStart = function () {\n        c.P();\n      }, this.loadingStop = function () {\n        c.fa();\n      }, this.uiBlock = function () {\n        C.show();\n      }, this.uiUnblock = function () {\n        C.hide();\n      }, this.Ld = function () {\n        this.startDate = new Abhaas.Date(this.startDate).getDatePart();\n      }, this.Qd = function (e) {\n        var t = document.createElement(\"div\");\n        t.style.position = \"absolute\", t.style.top = \"-2000px\", t.style.left = \"-2000px\", t.className = this.t(e), document.body.appendChild(t);\n        var i = t.offsetHeight,\n            n = t.offsetWidth;\n        document.body.removeChild(t);\n        var a = {};\n        return a.height = i, a.width = n, a;\n      }, this.Ca = function (e) {\n        if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.H >= this.autoRefreshMaxCount)) {\n          this.U();\n          var t = this.autoRefreshInterval;\n          if (!t || t < 10) throw \"The minimum autoRefreshInterval is 10 seconds\";\n          this.autoRefreshTimeout = window.setTimeout(function () {\n            c.vd();\n          }, 1e3 * this.autoRefreshInterval);\n        }\n      }, this.U = function () {\n        this.autoRefreshTimeout && (window.clearTimeout(this.autoRefreshTimeout), this.autoRefreshTimeout = null);\n      }, this.autoRefreshStart = function (e) {\n        c.Ca(e);\n      }, this.autoRefreshPause = function () {\n        c.U();\n      }, this.Il = function () {\n        return !(n.resizing || n.moving || n.drag || n.range);\n      }, this.vd = function () {\n        if (c.Il()) {\n          var e = !1;\n\n          if (\"function\" == typeof this.onAutoRefresh) {\n            var t = {};\n            t.i = this.H, t.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, c.onAutoRefresh(t), t.preventDefault.value && (e = !0);\n          }\n\n          !e && this.z() && this.commandCallBack(this.autoRefreshCommand), this.H++;\n        }\n\n        this.H < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () {\n          c.vd();\n        }, 1e3 * this.autoRefreshInterval));\n      }, this.xd = function () {\n        n.globalHandlers || (n.globalHandlers = !0, Abhaas.re(document, \"mousemove\", n.gMouseMove), Abhaas.re(document, \"mouseup\", n.gMouseUp), Abhaas.re(document, \"mousedown\", n.gMouseDown), Abhaas.re(document, \"touchmove\", n.gTouchMove), Abhaas.re(document, \"touchend\", n.gTouchEnd), Abhaas.re(window, \"keyup\", n.gKeyUp)), Abhaas.re(window, \"resize\", this.Ve);\n      }, this.Jl = function () {\n        this.nav.scroll.root = this, this.nav.scroll.onscroll = this.Ug, c.Pj = this.nav.scroll.scrollLeft, c.Nj = this.nav.scroll.scrollTop, c.Qj = this.divNorth.clientWidth;\n      }, this.ag = function () {\n        if (this.nav.state) {\n          var e = {};\n          e.scrollX = this.nav.scroll.scrollLeft, e.scrollY = this.nav.scroll.scrollTop;\n          var t = c.Li(e.scrollX, e.scrollY),\n              i = c.Mi(t),\n              n = c.Ni(t);\n          e.rangeStart = i.start, e.rangeEnd = i.end, e.resources = n, this.syncResourceTree && (e.tree = this._()), this.nav.state.value = Abhaas.he(JSON.stringify(e));\n        }\n      }, this.Pg = function () {\n        if (this.separators) for (var e = 0; e < this.separators.length; e++) this.Dd(e);\n      }, this.Kl = {}, this.Kl.step = 300, this.Kl.delay = 10, this.Kl.mode = \"display\", this.Kl.layers = !1, this.Sj = function (e) {\n        if (c.ug) return void S.calculateEventPositionsRow(e);\n\n        for (var t = 0, i = 0; i < e.lines.length; i++) {\n          var n = e.lines[i];\n          n.height = 0, n.top = t;\n\n          for (var a = 0; a < n.length; a++) {\n            var o = n[a];\n\n            if (!o.part.top, !0) {\n              o.part.line = i, o.part.height || (o.part.height = e.eventHeight);\n              var r = o.part.Ik();\n              r > n.height && (n.height = r), o.part.top = t + e.marginTop;\n              var l = \"Above\" === c.eventVersionPosition;\n\n              if (c.eventVersionsEnabled && !Abhaas.list(o.data.versions).isEmpty()) {\n                var s = (o.data.versions.length, o.part.top);\n                l || (s += o.part.height + c.eventVersionMargin), Abhaas.list(o.data.versions).each(function (e, t) {\n                  if (o.versions[t]) {\n                    var i = t * (c.eventVersionHeight + c.eventVersionMargin);\n                    o.versions[t].top = s + i, l && (o.part.top += c.eventVersionHeight, o.part.top += c.eventVersionMargin);\n                  }\n                });\n              }\n\n              o.part.top += c.eventMarginBottom, o.part.right = o.part.left + o.part.width, o.part.fullTop = this.rowlist[o.part.dayIndex].top + o.part.top, o.part.fullBottom = o.part.fullTop + o.part.height;\n            }\n          }\n\n          t += (n.height || e.eventHeight) * e.eventStackingLineHeight / 100;\n        }\n      };\n      var S = {};\n      S.loadRow = function (e) {\n        e.evColumns = Abhaas.list(c.itline).map(function (e, t) {\n          return {\n            \"events\": Abhaas.list()\n          };\n        }), Abhaas.list(e.events).each(function (t) {\n          var i = t.start(),\n              n = c.Mh(i);\n          e.evColumns[n.i].events.push(t);\n        });\n      }, S.calculateEventPositions = function () {\n        var e = c.vg,\n            t = 0;\n        Abhaas.list(c.rowlist).each(function (i) {\n          var n = 0;\n          i.evColumns.each(function (t, a) {\n            var o = c.itline[a],\n                r = c.rowMarginTop;\n            t.events.each(function (t) {\n              t.part.left = o.left, t.part.width = o.width, t.part.top = r, t.part.height || (e ? t.part.height = S.getEventAutoHeight(t) + c.durationBarHeight : t.part.height = i.eventHeight), r += t.part.height + c.eventMarginBottom;\n            }), t.height = r, t.height > n && (n = t.height);\n          }), i.maxColumnHeight = n, i.top = t;\n          var a = i.height;\n          i.height = i.getHeight(), n > c.rowMarginTop && (i.height = n + c.rowMarginBottom), a !== i.height && (c.ki = !0), t += i.height;\n        }), c.yg = t;\n      }, S.getEventAutoHeight = function (e) {\n        var t = e.client.html(),\n            i = document.createElement(\"div\");\n        i.style.position = \"absolute\", i.style.top = \"-2000px\", i.style.left = \"-2000px\", i.style.width = e.part.width + \"px\", i.className = c.t(A.event);\n        var n = document.createElement(\"div\");\n        n.className = c.t(A.eventInner), n.innerHTML = t, n.style.position = \"static\", n.style.overflow = \"auto\", i.appendChild(n);\n        var a = c.divEvents;\n        a.appendChild(i);\n        var o = i.offsetHeight;\n        return a.removeChild(i), o;\n      }, S.calculateEventPositionsRow = function (e) {\n        S.calculateEventPositions();\n      }, S.drawEventsWithoutCheckingOverflow = function () {\n        Abhaas.list(c.rowlist).each(function (e) {\n          S.drawEventsRow(e);\n        });\n      }, S.drawEvents = function () {\n        S.drawEventsWithoutCheckingOverflow(), S.checkOverflow(), c.Kg(), c.ta();\n      }, S.checkOverflow = function () {\n        if (c.vg) {\n          var e = !1;\n          Abhaas.list(c.elements.events).each(function (t) {\n            var i = t.firstChild,\n                n = i.offsetHeight - i.clientHeight + t.offsetHeight - t.clientHeight,\n                a = i.scrollHeight + n,\n                o = t.event.part.height;\n            t.event.part.height = a, o !== a && (e = !0);\n          }), e && (c.V(), S.calculateEventPositions(), S.drawEventsWithoutCheckingOverflow(), c.Lg(), c.Og());\n        }\n      }, S.drawEventsRow = function (e) {\n        e.evColumns.each(function (e, t) {\n          e.events.each(function (e) {\n            c.hc(e);\n          });\n        });\n      }, this.ai = null, this.za = function (e) {\n        if (!c.Nd) {\n          if (c.ug) return void S.drawEvents();\n          var t = this.Kl.step;\n          this.Kl.layers && (c.divEvents = document.createElement(\"div\"), c.divEvents.style.position = \"absolute\", c.Zg.insertBefore(this.divEvents, this.divSeparatorsAbove)), \"display\" === this.Kl.mode ? this.divEvents.style.display = \"none\" : \"visibility\" === this.Kl.mode && (this.divEvents.style.visibility = \"hidden\"), this.divEvents.setAttribute(\"role\", \"region\"), this.divEvents.setAttribute(\"aria-label\", \"scheduler events\");\n\n          for (var i = \"Progressive\" === this.dynamicEventRendering, n = this.ch(), a = n.pixels.top, o = n.pixels.bottom, r = c.allowMultiMove || c.allowMultiResize, l = 0; l < this.rowlist.length; l++) {\n            var s = this.rowlist[l],\n                d = s.top - this.dynamicEventRenderingMargin,\n                h = d + s.height + 2 * this.dynamicEventRenderingMargin;\n\n            if (!i || r || !(o <= d || a >= h)) {\n              this.Sj(s);\n\n              for (var u = 0; u < s.lines.length; u++) for (var f = s.lines[u], p = 0; p < f.length; p++) {\n                var g = f[p],\n                    m = this.hc(g);\n                if (e && m && (t--, t <= 0)) return this.divEvents.style.visibility = \"\", this.divEvents.style.display = \"\", void (c.ai = window.setTimeout(function () {\n                  c.za(e);\n                }, c.Kl.delay));\n              }\n            }\n          }\n\n          this.divEvents.style.display = \"\", Abhaas.list(c.multiselect.qb).isEmpty() || c.multiselect.redraw(), this.fh(), v.load();\n        }\n      }, this.mi = function (e) {\n        var t = this.rowlist[e];\n        if (c.ug) return void S.drawEventsRow(t);\n        this.divEvents = document.createElement(\"div\"), this.divEvents.style.position = \"absolute\", this.divEvents.style.display = \"none\", this.Zg.insertBefore(this.divEvents, this.divSeparatorsAbove), this.Sj(t);\n\n        for (var i = 0; i < t.lines.length; i++) for (var n = t.lines[i], a = 0; a < n.length; a++) {\n          var o = n[a];\n          this.hc(o);\n        }\n\n        this.divEvents.style.display = \"\";\n      }, this.V = function () {\n        if (this.elements.events) for (var e = this.elements.events.length, t = 0; t < e; t++) {\n          var i = this.elements.events[t];\n          this.ij(i);\n        }\n        this.elements.events = [];\n      }, this.li = function (e) {\n        if (this.elements.events) {\n          for (var t = this.elements.events.length, i = [], n = 0; n < t; n++) {\n            var a = this.elements.events[n];\n            a.event.part.dayIndex === e && (this.ij(a), i.push(n));\n          }\n\n          for (var n = i.length - 1; n >= 0; n--) this.elements.events.splice(i[n], 1);\n        }\n      }, this.ij = function (e) {\n        var t = e.domArgs;\n\n        if (e.domArgs = null, \"function\" == typeof c.onDomRemoveEvent && c.onDomRemoveEvent(t), \"function\" == typeof c.onBeforeEventDomRemove && c.onBeforeEventDomRemove(t), \"function\" == typeof c.onBeforeEventDomAdd) {\n          var i = t && t.rk;\n\n          if (i) {\n            if (Abhaas.Util.isReactComponent(t.element)) {\n              if (!c.pj.reactDOM) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n              c.pj.reactDOM.unmountComponentAtNode(i);\n            }\n          }\n        }\n\n        e.parentNode && e.parentNode.removeChild(e), e.onclick = null, e.oncontextmenu = null, e.onmouseover = null, e.onmouseout = null, e.onmousemove = null, e.onmousedown = null, e.ondblclick = null, e.event && (e.event.rendered = null, e.event = null), e.related && Abhaas.de(e.related);\n      }, this.Ll = function (e) {\n        e.event && (e.event.rendered = !1), e.onclick = null, e.onmousedown = null, e.event = null, e.parentNode && e.parentNode.removeChild(e);\n      }, this.Ml = function () {\n        if (\"Progressive\" === this.dynamicEventRendering) {\n          if (c.dynamicEventRenderingCacheSweeping) {\n            var e = c.dynamicEventRenderingCacheSize || 0;\n            this.divEvents.style.display = \"none\";\n\n            for (var t = [], i = 0, n = this.elements.events.length, a = n - 1; a >= 0; a--) {\n              var o = this.elements.events[a];\n              this.Nl(o.event) ? e > 0 ? (e--, t.unshift(o)) : (this.ij(o), i++) : t.unshift(o);\n            }\n\n            this.elements.events = t, this.divEvents.style.display = \"\";\n          }\n        }\n      }, this.Ol = function (e) {\n        for (var t = [], i = 0, n = this.ch(), a = this.elements.cells.length, o = a - 1; o >= 0; o--) {\n          var r = this.elements.cells[o];\n          n.xStart < r.coords.x && r.coords.x <= n.xEnd && n.yStart < r.coords.y && r.coords.y <= n.yEnd ? t.unshift(r) : e > 0 ? (e--, t.unshift(r)) : (this.rj(r), i++);\n        }\n      }, this.rj = function (e) {\n        if (e && e.coords) {\n          var t = e.coords.x,\n              i = e.coords.y;\n          Abhaas.rfa(c.elements.cells, e), Abhaas.de(e), c.G.cells[t + \"_\" + i] = null;\n        }\n      }, this.Mg = function () {\n        if (this.elements.separators) for (var e = 0; e < this.elements.separators.length; e++) {\n          var t = this.elements.separators[e];\n          Abhaas.de(t);\n        }\n        this.elements.separators = [];\n      }, this.Pl = function () {\n        var e = \"Progressive\" === this.dynamicEventRendering;\n        if (!this.nav.scroll) return !1;\n\n        for (var t = this.nav.scroll.scrollTop, i = t + this.nav.scroll.clientHeight, n = 0; n < this.rowlist.length; n++) {\n          var a = this.rowlist[n],\n              o = a.top,\n              r = a.top + a.height;\n          if (!e || !(i <= o || t >= r)) for (var l = 0; l < a.lines.length; l++) for (var s = a.lines[l], d = 0; d < s.length; d++) {\n            var c = s[d];\n            if (this.Ql(c)) return !0;\n          }\n        }\n\n        return !1;\n      }, this.Ql = function (e) {\n        if (e.rendered) return !1;\n        var t = \"Progressive\" === this.dynamicEventRendering,\n            i = this.nav.scroll.scrollLeft,\n            n = i + this.nav.scroll.clientWidth,\n            a = e.part.left,\n            o = e.part.left + e.part.width;\n        return !t || !(n <= a || i >= o);\n      }, this.Nl = function (e) {\n        if (!e.rendered) return !0;\n        var t = this.ch(),\n            i = t.pixels.top,\n            n = t.pixels.bottom,\n            a = t.pixels.left - this.dynamicEventRenderingMargin,\n            o = t.pixels.right + this.dynamicEventRenderingMargin,\n            r = e.part.left,\n            l = e.part.right,\n            s = e.part.fullTop,\n            d = e.part.fullBottom;\n        return o <= r || a >= l || n <= s || i >= d;\n      }, this.Hk = Abhaas.list(), this.Rl = function (e) {\n        if (e.rendered) return !1;\n        if (e.row.hidden) return !1;\n        var t = e.min,\n            i = e.max - e.min,\n            n = c.eventHeight,\n            a = e.row.top,\n            o = document.createElement(\"div\");\n        o.style.position = \"absolute\", o.style.left = t + \"px\", o.style.top = a + \"px\", o.style.width = i + \"px\", o.style.height = n + \"px\", o.className = c.t(\"_event_group\"), o.style.cursor = \"pointer\";\n        var r = {};\n        r.group = {}, r.group.count = e.events.length, r.group.events = Abhaas.list(e.events, !0), r.group.html = \"[+] \" + e.events.length + \" events\", \"function\" == typeof c.onBeforeGroupRender && c.onBeforeGroupRender(r);\n        var l = document.createElement(\"div\");\n        return l.innerHTML = r.group.html, o.appendChild(l), o.onmousedown = function (e) {\n          var e = e || window.event;\n          e.cancelBubble = !0;\n        }, o.onclick = function (e) {\n          var t = o.event;\n          t.expanded = !0, c.Ll(o);\n          var i = Abhaas.indexOf(c.elements.events, o);\n          i !== -1 && c.elements.events.splice(i, 1);\n          var n = c.Hk;\n          Abhaas.list(t.events).each(function (e) {\n            n.push(e.id());\n          }), c.Uh(), c.Vh(t.part.dayIndex), c.ta();\n          var e = e || window.event;\n          e.cancelBubble = !0;\n        }, e.part = {}, e.part.left = t, e.part.width = i, e.part.height = c.eventHeight, e.part.dayIndex = Abhaas.indexOf(c.rowlist, e.row), e.part.top = 0, e.part.isBlock = !0, e.client = {}, e.client.html = function () {\n          return r.group.html;\n        }, e.data = {}, o.event = e, this.elements.events.push(o), this.divEvents.appendChild(o), e.rendered = !0, !0;\n      }, this.hc = function (e, t) {\n        t = t || {};\n        var i = t.forced;\n        if (e.rendered) return !1;\n\n        if (c.groupConcurrentEvents) {\n          var n = e.part.block;\n          if (n.events.length > 1 && !n.expanded) return c.Rl(n);\n        }\n\n        var a = \"Progressive\" === this.dynamicEventRendering,\n            o = e.part.dayIndex,\n            r = this.rowlist[o];\n        if (r.hidden) return !1;\n        var l = r.top,\n            s = this.ch(),\n            d = s.pixels.left - this.dynamicEventRenderingMargin,\n            h = s.pixels.right + this.dynamicEventRenderingMargin,\n            u = s.pixels.top,\n            f = s.pixels.bottom,\n            v = e.part.left,\n            p = e.part.left + e.part.width,\n            g = e.part.top + l,\n            m = g + e.part.height,\n            y = c.multiselect.Pb(e);\n        if (!i && !y && a && (h <= v || d >= p || f <= g || u >= m)) return !1;\n        var b = \"Milestone\" === e.data.type,\n            w = e.part.width,\n            D = e.part.height,\n            k = e.cache || e.data;\n        w = Abhaas.Util.atLeast(0, w), D = Abhaas.Util.atLeast(0, D);\n        var P = document.createElement(\"div\");\n\n        if (P.related = [], function (t) {\n          c.eventVersionsEnabled && Abhaas.list(e.data.versions).each(function (i, n) {\n            if (i) {\n              var a = e.versions[n];\n\n              if (a) {\n                var o = document.createElement(\"div\");\n                o.style.position = \"absolute\", o.style.left = a.left + \"px\", o.style.top = l + a.top + \"px\", o.style.width = a.width + \"px\", o.style.height = c.eventVersionHeight + \"px\", o.className = c.t(A.event) + \" \" + c.t(\"_event_previous\") + \" \" + c.t(\"_event_version\"), i.toolTip && (o.title = i.toolTip), i.cssClass && Abhaas.Util.addClass(o, i.cssClass);\n                var r = document.createElement(\"div\");\n                r.setAttribute(\"unselectable\", \"on\"), r.className = c.t(A.eventInner), r.innerHTML = i.html || i.text || \"\", i.backColor && (r.style.background = i.backColor, (Abhaas.browser.ie9 || Abhaas.browser.ielt9) && (r.style.filter = \"\")), i.fontColor && (r.style.color = i.fontColor), i.borderColor && (r.style.borderColor = i.borderColor), i.backImage && (r.style.backgroundImage = \"url(\" + i.backImage + \")\", i.backRepeat && (r.style.backgroundRepeat = i.backRepeat)), o.appendChild(r), a.continueLeft && !b && Abhaas.Util.addClass(o, c.t(\"_event_continueleft\")), a.continueRight && !b && Abhaas.Util.addClass(o, c.t(\"_event_continueright\"));\n                var s = c.durationBarVisible && !i.barHidden,\n                    d = a.width;\n\n                if (s && d > 0) {\n                  var h = 100 * a.barLeft / d,\n                      u = Math.ceil(100 * a.barWidth / d);\n                  \"PercentComplete\" === c.durationBarMode && (h = 0, u = i.complete || 0);\n                  var f = document.createElement(\"div\");\n                  f.setAttribute(\"unselectable\", \"on\"), f.className = c.t(A.eventBar), f.style.position = \"absolute\", i.barBackColor && (f.style.backgroundColor = i.barBackColor);\n                  var v = document.createElement(\"div\");\n                  v.setAttribute(\"unselectable\", \"on\"), v.className = c.t(A.eventBarInner), v.style.left = h + \"%\", 0 < u && u <= 1 ? v.style.width = \"1px\" : v.style.width = u + \"%\", i.barColor && (v.style.backgroundColor = i.barColor), i.barImageUrl && (v.style.backgroundImage = \"url(\" + i.barImageUrl + \")\"), f.appendChild(v), o.appendChild(f);\n                }\n\n                if (i.htmlLeft) {\n                  var p = c.eventHtmlLeftMargin,\n                      g = document.createElement(\"div\");\n                  g.style.position = \"absolute\", g.style.right = -(a.left - p) + \"px\", g.style.top = l + a.top + \"px\", g.style.height = c.eventHeight + \"px\", g.style.boxSizing = \"border-box\", g.innerHTML = i.htmlLeft, g.className = c.t(\"_event_left\"), g.type = \"divLeft\", g.versionPart = a, t.related.push(g), c.divEvents.appendChild(g);\n                }\n\n                if (i.htmlRight) {\n                  var p = c.eventHtmlRightMargin,\n                      m = document.createElement(\"div\");\n                  m.style.position = \"absolute\", m.style.left = a.left + a.width + p + \"px\", m.style.top = l + a.top + \"px\", m.style.height = c.eventHeight + \"px\", m.style.boxSizing = \"border-box\", m.innerHTML = i.htmlRight, m.className = c.t(\"_event_right\"), m.type = \"divRight\", m.versionPart = a, t.related.push(m), c.divEvents.appendChild(m);\n                }\n\n                o.versionPart = a, o.type = \"version\", t.related.push(o), c.divEvents.appendChild(o);\n              }\n            }\n          });\n        }(P), k.htmlLeft) {\n          var x = c.eventHtmlLeftMargin,\n              C = document.createElement(\"div\");\n          C.style.position = \"absolute\", C.style.right = -(e.part.left - x) + \"px\", C.style.top = l + e.part.top + \"px\", C.style.height = c.eventHeight + \"px\", C.style.boxSizing = \"border-box\", C.innerHTML = k.htmlLeft, C.className = c.t(\"_event_left\"), C.type = \"divLeft\", P.related.push(C), this.divEvents.appendChild(C);\n        }\n\n        if (k.htmlRight) {\n          var x = c.eventHtmlRightMargin,\n              S = document.createElement(\"div\");\n          S.style.position = \"absolute\", S.style.left = e.part.left + e.part.width + x + \"px\", S.style.top = l + e.part.top + \"px\", S.style.height = c.eventHeight + \"px\", S.style.boxSizing = \"border-box\", S.innerHTML = k.htmlRight, S.className = c.t(\"_event_right\"), S.type = \"divRight\", P.related.push(S), this.divEvents.appendChild(S);\n        }\n\n        var u = l + e.part.top;\n\n        if (c.treeAnimation) {\n          var T = \"number\" == typeof r.forcedHeight ? r.forcedHeight : r.height;\n          e.part.top + e.part.height > T && (D = Math.max(0, T - e.part.top));\n        }\n\n        P.style.position = \"absolute\", P.style.left = e.part.left + c.eventMarginLeft + \"px\", P.style.top = l + e.part.top + \"px\", P.style.width = w - c.eventMarginLeft - c.eventMarginRight + \"px\", P.style.height = D + \"px\", c.eventTextWrappingEnabled || (P.style.whiteSpace = \"nowrap\"), P.style.overflow = \"hidden\", P.className = this.t(A.event), b && Abhaas.Util.addClass(P, c.t(\"_task_milestone\")), \"Group\" === e.data.type && (Abhaas.Util.addClass(P, c.t(\"_task_parent\")), Abhaas.Util.addClass(P, c.t(\"_task_group\"))), k.cssClass && Abhaas.Util.addClass(P, k.cssClass);\n        \"number\" == typeof e.part.line && Abhaas.Util.addClass(P, this.t(A.eventLine + e.part.line)), P.setAttribute(\"unselectable\", \"on\"), this.showToolTip && !this.bubble && (P.title = e.client.toolTip() || \"\"), P.onmousemove = this.ic, P.onmouseout = this.jc, P.onmousedown = this.kc, P.onmouseup = this.Sl, P.ontouchstart = E.onEventTouchStart, P.ontouchmove = E.onEventTouchMove, P.ontouchend = E.onEventTouchEnd, e.client.clickEnabled() && (P.onclick = this.vf), e.client.doubleClickEnabled() && (P.ondblclick = this.Ua), P.oncontextmenu = this.Va, \"undefined\" != typeof k.ariaLabel ? P.setAttribute(\"aria-label\", k.ariaLabel) : P.setAttribute(\"aria-label\", k.text), P.setAttribute(\"tabindex\", \"-1\");\n        var M = document.createElement(\"div\");\n        M.setAttribute(\"unselectable\", \"on\"), M.className = c.t(A.eventInner), k.backColor && (M.style.background = k.backColor, (Abhaas.browser.ie9 || Abhaas.browser.ielt9) && (M.style.filter = \"\")), k.fontColor && (M.style.color = k.fontColor), k.borderColor && (M.style.borderColor = k.borderColor), k.backImage && (M.style.backgroundImage = \"url(\" + k.backImage + \")\", k.backRepeat && (M.style.backgroundRepeat = k.backRepeat)), P.appendChild(M);\n\n        var H = e.start().getTime() === e.part.start.getTime(),\n            _ = e.rawend().getTime() === e.part.end.getTime();\n\n        if (H || b || Abhaas.Util.addClass(P, this.t(\"_event_continueleft\")), _ || b || Abhaas.Util.addClass(P, this.t(\"_event_continueright\")), e.client.barVisible() && w > 0 && !b) {\n          var R = 100 * e.part.barLeft / w,\n              B = Math.ceil(100 * e.part.barWidth / w);\n          \"PercentComplete\" === this.durationBarMode && (R = 0, B = k.complete || 0);\n          var N = document.createElement(\"div\");\n          N.setAttribute(\"unselectable\", \"on\"), N.className = this.t(A.eventBar), N.style.position = \"absolute\", k.barBackColor && (N.style.backgroundColor = k.barBackColor);\n          var U = document.createElement(\"div\");\n          U.setAttribute(\"unselectable\", \"on\"), U.className = this.t(A.eventBarInner), U.style.left = R + \"%\", 0 < B && B <= 1 ? U.style.width = \"1px\" : U.style.width = B + \"%\", k.barColor && (U.style.backgroundColor = k.barColor), k.barImageUrl && (U.style.backgroundImage = \"url(\" + k.barImageUrl + \")\"), N.appendChild(U), P.appendChild(N);\n        }\n\n        if (P.row = o, k.areas) for (var L = 0; L < k.areas.length; L++) {\n          var s = k.areas[L];\n\n          if (Abhaas.Areas.isAlwaysVisible(s)) {\n            s.start && (s.left = c.getPixels(new Abhaas.Date(s.start)).left - e.part.left), s.end && (s.right = e.part.left + e.part.width - c.getPixels(new Abhaas.Date(s.end)).left);\n            var O = Abhaas.Areas.createArea(P, e, s);\n            P.appendChild(O);\n          }\n        }\n\n        if (P.event = e, y && (c.multiselect.add(P.event, !0), c.multiselect.$b(P)), function () {\n          var t = {};\n\n          if (t.e = e, t.element = null, P.domArgs = t, \"function\" == typeof c.onDomAddEvent && c.onDomAddEvent(t), \"function\" == typeof c.onBeforeEventDomAdd && c.onBeforeEventDomAdd(t), t.element) {\n            var i = M;\n\n            if (i) {\n              t.rk = i;\n\n              if (Abhaas.Util.isReactComponent(t.element)) {\n                if (!c.pj.reactDOM) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n                c.pj.reactDOM.render(t.element, i);\n              } else i.appendChild(t.element);\n            }\n          } else b || (M.innerHTML = e.client.innerHTML());\n        }(), this.elements.events.push(P), this.divEvents.appendChild(P), e.rendered = !0, c.Da()) {\n          if (\"function\" == typeof c.onAfterEventRender) {\n            var z = {};\n            z.e = P.event, z.div = P, c.onAfterEventRender(z);\n          }\n        } else c.afterEventRender && c.afterEventRender(P.event, P);\n\n        return !0;\n      }, this.Da = function () {\n        return 2 === c.api;\n      }, this.ni = function () {\n        for (var e = 0; e < this.elements.events.length; e++) {\n          var t = this.elements.events[e],\n              i = t.event,\n              n = i.part.dayIndex,\n              a = this.rowlist[n],\n              o = a.top,\n              r = o + i.part.top,\n              l = \"number\" == typeof a.forcedHeight ? a.forcedHeight : a.height,\n              s = i.part.height,\n              d = !1;\n          i.part.top + i.part.height > l && (s = Math.max(0, l - i.part.top), d = !0), t.style.top = r + \"px\", t.style.height = s + \"px\", Abhaas.list(t.related).filter(function (e) {\n            return !!e.versionPart;\n          }).each(function (e) {\n            var t = e.versionPart;\n            e.style.top = o + t.top + \"px\";\n          }), Abhaas.list(t.related).filter(function (e) {\n            return !e.versionPart && (\"divLeft\" === e.type || \"divRight\" === e.type);\n          }).each(function (e) {\n            e.style.top = r + \"px\";\n          });\n        }\n      }, this.Id = function (e) {\n        if (!e) return null;\n\n        for (var t = 0; t < c.elements.events.length; t++) {\n          var i = c.elements.events[t];\n          if (i.event === e || i.event.data === e.data) return i;\n        }\n\n        return null;\n      }, this.ej = function (e) {\n        var t = c.events.bj(e.data);\n        if (!t) return null;\n        var i = c.rowlist[t.part.dayIndex];\n        return c.Sj(i), c.hc(t, {\n          \"forced\": !0\n        }), c.Id(t);\n      }, this.jc = function (e) {\n        var t = this;\n        Abhaas.Areas.hideAreas(t, e), t.active || (Abhaas.Util.removeClass(t, c.t(\"_event_hover\")), c.Tl(t), s.source || v.hideLinkpointsWithDelay(), c.bubble && \"Bubble\" === c.eventHoverHandling && c.bubble.hideOnMouseOut());\n      }, this.Ul = function (e) {\n        if (\"function\" == typeof this.onEventMouseOver) {\n          var t = {};\n          t.div = e, t.e = e.event, this.onEventMouseOver(t);\n        }\n      }, this.Tl = function (e) {\n        if (\"function\" == typeof this.onEventMouseOut) {\n          var t = {};\n          t.div = e, t.e = e.event, this.onEventMouseOut(t);\n        }\n      }, this.Vl = function (e) {\n        var t = e.row;\n\n        if (\"function\" == typeof this.onRowMouseOver) {\n          var i = {};\n          i.div = e, i.row = c.yi(t), this.onRowMouseOver(i);\n        }\n      }, this.Wl = function (e) {\n        var t = e.row;\n\n        if (\"function\" == typeof this.onRowMouseOut) {\n          var i = {};\n          i.div = e, i.row = c.yi(t), this.onRowMouseOut(i);\n        }\n      }, this.ic = function (e) {\n        e = e || window.event, c.cellBubble && c.cellBubble.delayedHide();\n\n        for (var t = this; t && !t.event;) t = t.parentNode;\n\n        c.Xl(t, e);\n        var i = t.event.cache ? t.event.cache.deleteDisabled : t.event.data.deleteDisabled;\n\n        if (!t.active) {\n          var n = [];\n\n          if (\"Disabled\" !== c.eventDeleteHandling && !i) {\n            var a = c.durationBarVisible ? c.durationBarHeight : 0;\n            n.push({\n              \"action\": \"JavaScript\",\n              \"v\": \"Hover\",\n              \"w\": 17,\n              \"h\": 17,\n              \"top\": a + 2,\n              \"right\": 2,\n              \"css\": c.t(A.eventDelete),\n              \"js\": function (e) {\n                c.Za(e);\n              }\n            });\n          }\n\n          var o = t.event.cache ? t.event.cache.areas : t.event.data.areas;\n          o && o.length > 0 && (n = n.concat(o)), Abhaas.Areas.showAreas(t, t.event, null, n), Abhaas.Util.addClass(t, c.t(\"_event_hover\")), c.Ul(t);\n        }\n\n        \"Disabled\" === c.linkCreateHandling || s.source || (v.clearHideTimeout(), v.hideLinkpoints(), c.Il() && v.showLinkpoint(t)), c.Yl(e), c.coords.insideEvent = !0;\n      }, this.Nh = {}, this.Sl = function (e) {\n        var t = c.Nh;\n\n        if (c.ionicEventClickFix) {\n          var i = t.originalMouse;\n\n          if (i) {\n            var n = Abhaas.mc(e);\n            i.x === n.x && i.y === n.y && (c.vf.call(this, e), e.preventDefault(), e.stopPropagation());\n          }\n        }\n      }, this.kc = function (e) {\n        if (c.aa(), \"undefined\" != typeof Abhaas.Bubble && (Abhaas.Bubble.hideActive(), Abhaas.Bubble.cancelShowing()), e = e || window.event, !c.coords) {\n          var t = c.Zg;\n          c.coords = Abhaas.mo3(t, e);\n        }\n\n        var i = Abhaas.Util.mouseButton(e);\n\n        if (e.preventDefault(), e.stopPropagation(), i.left) {\n          var a = e.shiftKey;\n          if (\"Disabled\" !== c.multiSelectRectangle && a) return T.start(), !1;\n          \"w-resize\" === this.style.cursor || \"e-resize\" === this.style.cursor ? (n.preventEventClick = !0, n.resizing = this, n.resizingEvent = this.event, n.originalMouse = Abhaas.mc(e), document.body.style.cursor = this.style.cursor, v.hideLinkpoints()) : (\"move\" === this.style.cursor || \"Full\" === c.moveBy && this.event.client.moveEnabled()) && c.Zl(this, e);\n        }\n\n        Abhaas.Menu && Abhaas.Menu.active && (Abhaas.Menu.active.hide(), Abhaas.Menu.active = null);\n      }, this.Zl = function (e, t) {\n        var i = c.Nh;\n        c.Yl(t), i.start = !0, i.moving = e, i.movingEvent = e.event, i.originalMouse = Abhaas.mc(t), i.moveOffsetX = Abhaas.mo3(e, t).x, i.moveDragStart = c.getDate(c.coords.x, !0), v.hideLinkpoints();\n      }, this.lc = {};\n      var E = c.lc;\n      \"undefined\" == typeof Abhaas.Global.touch && (Abhaas.Global.touch = {}), Abhaas.Global.touch.active = !1, Abhaas.Global.touch.start = !1, E.timeouts = [], E.onEventTouchStart = function (e) {\n        if (!Abhaas.Global.touch.active && !Abhaas.Global.touch.start) {\n          e.stopPropagation(), E.clearTimeouts(), Abhaas.Global.touch.start = !0, Abhaas.Global.touch.active = !1;\n          var i = this;\n          c.coords = E.relativeCoords(e);\n          var n = c.tapAndHoldTimeout;\n          E.timeouts.push(window.setTimeout(function () {\n            Abhaas.Global.touch.active = !0, Abhaas.Global.touch.start = !1, e.preventDefault();\n            var n = i.event;\n\n            switch (c.eventTapAndHoldHandling) {\n              case \"Move\":\n                if (n.client.moveEnabled()) {\n                  var a = t(e);\n                  E.startMoving(i, a);\n                }\n\n                break;\n\n              case \"ContextMenu\":\n                Abhaas.Menu && Abhaas.Menu.touchPosition(e);\n                var o = n.client.contextMenu();\n                o ? o.show(n) : c.contextMenu && c.contextMenu.show(n);\n            }\n          }, n));\n        }\n      }, E.onEventTouchMove = function (e) {\n        E.clearTimeouts(), Abhaas.Global.touch.start = !1;\n      }, E.onEventTouchEnd = function (e) {\n        if (!Abhaas.Util.isMouseEvent(e)) {\n          if (E.clearTimeouts(), Abhaas.Global.touch.start) {\n            Abhaas.Global.touch.start = !1, e.preventDefault(), e.stopPropagation();\n            var t = this;\n            window.setTimeout(function () {\n              c.Ra(t, e);\n            });\n          }\n\n          window.setTimeout(function () {\n            Abhaas.Global.touch.start = !1, Abhaas.Global.touch.active = !1;\n          }, 500);\n        }\n      }, E.onMainTouchStart = function (e) {\n        if (!(Abhaas.Global.touch.active || Abhaas.Global.touch.start || e.touches.length > 1 || \"Disabled\" === c.timeRangeSelectedHandling)) {\n          E.clearTimeouts(), Abhaas.Global.touch.start = !0, Abhaas.Global.touch.active = !1;\n          var t = c.tapAndHoldTimeout;\n          E.timeouts.push(window.setTimeout(function () {\n            Abhaas.Global.touch.active = !0, Abhaas.Global.touch.start = !1, e.preventDefault(), c.coords = E.relativeCoords(e), E.range = c.$l();\n          }, t));\n          c.coords = E.relativeCoords(e);\n        }\n      }, E.onMainTouchMove = function (e) {\n        if (E.clearTimeouts(), Abhaas.Global.touch.start = !1, n.resizing) return e.preventDefault(), void E.updateResizing();\n\n        if (Abhaas.Global.touch.active) {\n          if (e.preventDefault(), c.coords = E.relativeCoords(e), n.moving) return void E.updateMoving();\n\n          if (E.range) {\n            var t = E.range;\n            t.end = {\n              x: Math.floor(c.coords.x / c.cellWidth),\n              \"time\": c.getDate(c.coords.x, !0)\n            }, c.ui(t);\n          }\n        }\n      }, E.debug = function (e) {}, E.onMainTouchEnd = function (e) {\n        E.clearTimeouts();\n\n        if (Abhaas.Global.touch.active) {\n          if (n.moving) {\n            e.preventDefault();\n            var t = n.movingEvent;\n            if (c !== n.movingShadow.calendar) return;\n            var i = n.movingShadow.start,\n                a = n.movingShadow.end,\n                o = \"Days\" !== c.viewType ? n.movingShadow.row.id : null,\n                r = n.drag && t.part.external,\n                l = n.movingShadow.overlapping,\n                s = !n.movingShadow.allowed;\n            if (Abhaas.Util.removeClass(n.moving, c.t(c._l.eventMovingSource)), Abhaas.de(n.movingShadow), c.ek(), n.movingShadow.calendar = null, document.body.style.cursor = \"\", n.moving = null, n.movingEvent = null, n.movingShadow = null, c.$j.clear(), l || s || c.$j.forbidden || c.$j.invalid) return;\n            c.fb(t, i, a, o, r);\n          }\n\n          if (E.range) {\n            var d = E.range;\n            E.range = null;\n            var h = c.elements.range2;\n            h && h.overlapping ? c.clearSelection() : c.qi(d);\n          }\n        } else if (Abhaas.Global.touch.start) {\n          if (c.coords.x < c.getScrollX()) return;\n          var d = c.$l();\n          c.ui(d);\n          var h = c.elements.range2;\n          h && h.overlapping ? c.clearSelection() : c.qi(d);\n        }\n\n        window.setTimeout(function () {\n          Abhaas.Global.touch.start = !1, Abhaas.Global.touch.active = !1;\n        }, 500);\n      }, E.clearTimeouts = function () {\n        for (var e = 0; e < E.timeouts.length; e++) clearTimeout(E.timeouts[e]);\n\n        E.timeouts = [];\n      }, E.relativeCoords = function (e) {\n        var t = c.Zg,\n            i = e.touches[0].pageX,\n            n = e.touches[0].pageY,\n            a = Abhaas.abs(t);\n        return {\n          x: i - a.x,\n          y: n - a.y,\n          toString: function () {\n            return \"x: \" + this.x + \", y:\" + this.y;\n          }\n        };\n      }, E.startMoving = function (e, t) {\n        n.moving = e, n.movingEvent = e.event, n.originalMouse = t;\n        var i = Abhaas.abs(e);\n        n.moveOffsetX = t.x - i.x, n.moveDragStart = c.getDate(c.coords.x, !0), n.movingShadow = c.Ea(e), c.Kj();\n      }, E.startResizing = function (e, t) {\n        n.resizing = e, n.resizingEvent = e.event, n.resizing.dpBorder = t, n.resizingShadow || (n.resizingShadow = c.Ea(e)), c._j();\n      }, E.updateResizing = function () {\n        if (!n.resizingShadow) {\n          var e = n.resizing;\n          n.resizingShadow = c.Ea(e);\n        }\n\n        c._j();\n\n        var t = {\n          x: c.coords.x,\n          y: c.coords.y\n        };\n        c.bm(t);\n      }, E.updateMoving = function () {\n        if (n.movingShadow && n.movingShadow.calendar !== c && c.ek(), !n.movingShadow) {\n          var e = n.moving;\n          n.movingShadow = c.Ea(e);\n        }\n\n        n.movingShadow.calendar.Kj();\n        var t = {\n          x: c.coords.x,\n          y: c.coords.y\n        };\n        c.bm(t);\n      }, this.Xl = function (e, t) {\n        var i = this.eventResizeMargin,\n            a = this.eventMoveMargin,\n            o = e;\n\n        if (\"undefined\" != typeof n) {\n          var r = Abhaas.mo3(e, t);\n\n          if (r && (c.eventOffset = r, !n.resizing && !n.moving)) {\n            var l = o.event.part.start.toString() === o.event.start().toString(),\n                s = o.event.part.end.toString() === o.event.rawend().toString();\n\n            if (\"Top\" === c.moveBy && r.y <= a && o.event.client.moveEnabled() && \"Disabled\" !== c.eventMoveHandling ? e.style.cursor = \"move\" : (\"Top\" === c.moveBy || \"Full\" === c.moveBy) && r.x <= i && o.event.client.resizeEnabled() && \"Disabled\" !== c.eventResizeHandling ? l ? (e.style.cursor = \"w-resize\", e.dpBorder = \"left\") : e.style.cursor = \"not-allowed\" : \"Left\" === c.moveBy && r.x <= a && o.event.client.moveEnabled() && \"Disabled\" !== c.eventMoveHandling ? e.style.cursor = \"move\" : e.offsetWidth - r.x <= i && o.event.client.resizeEnabled() && \"Disabled\" !== c.eventResizeHandling ? s ? (e.style.cursor = \"e-resize\", e.dpBorder = \"right\") : e.style.cursor = \"not-allowed\" : n.resizing || n.moving || (o.event.client.clickEnabled() && \"Disabled\" !== c.eventClickHandling ? e.style.cursor = \"pointer\" : e.style.cursor = \"default\"), \"undefined\" != typeof Abhaas.Bubble && c.bubble && \"Bubble\" === c.eventHoverHandling && (\"default\" === e.style.cursor || \"pointer\" === e.style.cursor)) {\n              this.zd && r.x === this.zd.x && r.y === this.zd.y;\n              this.zd = r, c.bubble.showEvent(e.event);\n            }\n          }\n        }\n      }, this.Oj = function () {\n        return \"Days\" !== this.viewType ? this.itline.length : Math.floor(1440 / this.cellDuration);\n      }, this.ri = function (e) {\n        var e = e || n.range || c.rangeHold;\n        if (!e) return null;\n        var t = c.rowlist[e.start.y];\n        if (!t) return null;\n        var i,\n            a,\n            o = e.cm ? e.cm : e,\n            r = o.end.x > o.start.x,\n            l = t.id,\n            s = r ? o.start.x : o.end.x,\n            d = r ? o.end.x : o.start.x,\n            h = t.start.getTime() - this.La().getTime(),\n            u = c.snapToGrid && c.snapToGridTimeRangeSelecting;\n        return u ? (i = this.itline[s].start.addTime(h), a = this.itline[d].end.addTime(h)) : r ? (i = o.start.time, a = o.end.time) : (i = o.end.time, a = o.start.time), new Abhaas.Selection(i, a, l, c);\n      }, this.Kb = function (e) {\n        var t = e.parentNode,\n            i = c.eventEditMinWidth,\n            n = document.createElement(\"textarea\");\n        return n.style.position = \"absolute\", n.style.width = (e.offsetWidth < i ? i : e.offsetWidth - 2) + \"px\", n.style.height = e.offsetHeight - 2 + \"px\", n.style.fontFamily = Abhaas.gs(e, \"fontFamily\") || Abhaas.gs(e, \"font-family\"), n.style.fontSize = Abhaas.gs(e, \"fontSize\") || Abhaas.gs(e, \"font-size\"), n.style.left = e.offsetLeft + \"px\", n.style.top = e.offsetTop + \"px\", n.style.border = \"1px solid black\", n.style.padding = \"0px\", n.style.marginTop = \"0px\", n.style.backgroundColor = \"white\", n.value = Abhaas.tr(e.event.text()), n.event = e.event, t.appendChild(n), n;\n      }, this.dm = function (e) {\n        var t = h.events();\n        t.sort(function (e, t) {\n          var i = e.event,\n              n = t.event;\n          return i.part.dayIndex !== n.part.dayIndex ? i.part.dayIndex - n.part.dayIndex : i.start() !== n.start() ? i.start().getTime() - n.start().getTime() : n.end().getTime() - i.end().getTime();\n        });\n        var i = t.indexOf(e);\n        return i === -1 ? null : i + 1 < t.length ? t[i + 1] : t[0];\n      }, this.Sa = function (e) {\n        if (e && (n.editing && n.editing.blur(), e.event)) {\n          var t = this.Kb(e);\n          n.editing = t, Abhaas.re(t, Abhaas.touch.start, function (e) {\n            e.stopPropagation();\n          }), t.onblur = function () {\n            if (t.onblur = null, n.editing === t && (n.editing = null), t.parentNode && t.parentNode.removeChild(t), e.event) {\n              var i = (e.event.text(), t.value);\n              c.ob(e.event, i, t.canceling);\n            }\n          }, t.onmousedown = function (e) {\n            e = e || window.event, e.stopPropagation && e.stopPropagation();\n          }, t.onkeypress = function (e) {\n            return 13 !== (window.event ? event.keyCode : e.keyCode) || (this.onblur(), !1);\n          }, t.cancel = function () {\n            n.editing && (n.editing.canceling = !0, n.editing.blur());\n          }, t.onkeydown = function (t) {\n            var i = window.event ? event.keyCode : t.keyCode;\n            if (27 === i) n.editing.cancel();else if (9 === i) {\n              var a = c.dm(e);\n              return n.editing.cancel(), a && (Abhaas.browser.ie ? setTimeout(function () {\n                c.Sa(a);\n              }, 0) : c.Sa(a)), !1;\n            }\n          }, t.select(), t.focus();\n        }\n      }, this.em = {}, this.em.resource = function () {\n        return \"undefined\" != typeof Abhaas.Bubble ? new Abhaas.Bubble() : {\n          \"showResource\": function () {},\n          \"hideOnMouseOut\": function () {}\n        };\n      }(), this.em.cell = function () {\n        return \"undefined\" != typeof Abhaas.Bubble ? new Abhaas.Bubble() : {\n          \"showResource\": function () {},\n          \"hideOnMouseOut\": function () {}\n        };\n      }(), this.uk = function (e) {\n        var t = this,\n            i = t.row;\n\n        if (\"undefined\" != typeof Abhaas.Bubble) {\n          c.cellBubble;\n          var n = c.yi(i);\n          n.div = t, c.resourceBubble ? c.resourceBubble.showResource(n) : i.bubbleHtml && c.em.resource.showResource(n);\n        }\n      }, this.sk = function (e) {\n        var t = this;\n        t.active || (t.active = !0, c.Vl(t));\n      }, this.tk = function (e) {\n        var t = this;\n        delete t.active, c.Wl(t);\n      }, this.vk = function (e) {\n        var t = this;\n        \"undefined\" != typeof Abhaas.Bubble && c.resourceBubble ? c.resourceBubble.hideOnMouseOut() : c.em.resource.hideOnMouseOut();\n        var i = t.firstChild;\n        Abhaas.Areas.hideAreas(i, e), i.data = null;\n      }, this.wk = function (e) {\n        l.row && (P.cancelClick = !0, setTimeout(function () {\n          P.cancelClick = !1;\n        }, 100));\n      }, this.Hg = function () {\n        if (this.timeHeader) {\n          this.G.timeHeader = {};\n          var e = document.createElement(\"div\");\n          e.style.position = \"relative\", this.nav.timeHeader = e;\n\n          for (var t = 0; t < this.timeHeader.length; t++) for (var i = this.timeHeader[t], n = 0; n < i.length; n++) this.fm(n, t);\n\n          var a = this.divNorth;\n          if (1 === a.childNodes.length) a.replaceChild(e, a.childNodes[0]);else {\n            if (Abhaas.browser.ie && a && a.firstChild) {\n              for (var o = [], r = 0; r < a.firstChild.childNodes.length; r++) o.push(a.firstChild.childNodes[r]);\n\n              Abhaas.de(o);\n            }\n\n            a.innerHTML = \"\", a.appendChild(e);\n          }\n          var l = this.lh();\n          a.style.width = l + 5e3 + \"px\";\n          var s = {};\n          s.html = c.cornerHtml, \"function\" == typeof c.onBeforeCornerRender && c.onBeforeCornerRender(s);\n          var d = null;\n\n          if (\"function\" == typeof c.onBeforeCornerDomAdd) {\n            var s = {};\n            s.element = null, c.onBeforeCornerDomAdd(s), d = s.element;\n          }\n\n          if (d) {\n            var h = c.divCorner;\n\n            if (Abhaas.Util.isReactComponent(d)) {\n              if (!c.pj.reactDOM) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n              c.pj.reactDOM.render(d, h);\n            } else h.appendChild(d);\n          } else c.divCorner.innerHTML = s.html || \"\";\n\n          l > 0 && (this.divStretch.style.width = l + \"px\");\n        }\n      }, this.Ih = function (e, t) {\n        var i = null,\n            n = this.Nc.locale(),\n            t = t || this.cellGroupBy,\n            a = e.start;\n        e.end;\n\n        switch (t) {\n          case \"Minute\":\n            i = a.toString(\"m\");\n            break;\n\n          case \"Hour\":\n            i = \"Clock12Hours\" === c.Nc.timeFormat() ? a.toString(\"h tt\", n) : a.toString(\"H\", n);\n            break;\n\n          case \"Day\":\n            i = a.toString(n.datePattern);\n            break;\n\n          case \"Week\":\n            i = 1 === _.weekStarts() ? a.weekNumberISO() : a.weekNumber();\n            break;\n\n          case \"Month\":\n            i = a.toString(\"MMMM yyyy\", n);\n            break;\n\n          case \"Quarter\":\n            i = \"Q\" + Math.floor(a.getMonth() / 3 + 1);\n            break;\n\n          case \"Year\":\n            i = a.toString(\"yyyy\");\n            break;\n\n          case \"None\":\n            i = \"\";\n            break;\n\n          case \"Cell\":\n            var o = (e.end.ticks - e.start.ticks) / 6e4;\n            i = this.gm(a, o);\n            break;\n\n          default:\n            throw new Abhaas.Exception(\"Invalid groupBy value: \" + t);\n        }\n\n        return i;\n      }, this.gm = function (e, t) {\n        var i = this.Nc.locale(),\n            t = t || this.cellDuration;\n        return t < 1 ? e.toString(\"ss\") : t < 60 ? e.toString(\"mm\") : t < 1440 ? \"Clock12Hours\" === c.Nc.timeFormat() ? e.toString(\"h tt\", i) : e.toString(\"H\", i) : t < 10080 ? e.toString(\"d\") : 10080 === t ? 1 === _.weekStarts() ? e.weekNumberISO() : e.weekNumber() : e.toString(\"MMMM yyyy\", i);\n      }, this.Eh = function (e) {\n        var t = this.scale;\n\n        switch (t) {\n          case \"Cell\":\n            throw \"Invalid scale: Cell\";\n\n          case \"Manual\":\n            throw \"Internal error (addScaleSize in Manual mode)\";\n\n          case \"CellDuration\":\n            return e.addMinutes(this.cellDuration);\n\n          default:\n            return this.Hh(e, t, !0);\n        }\n      }, this.Hh = function (e, t, i) {\n        var n,\n            a = \"Days\" !== this.viewType ? this.days : 1,\n            o = this.startDate.addDays(a);\n        \"Manual\" === c.scale && (o = c.Gh());\n        var t = t || this.cellGroupBy,\n            r = 60;\n\n        switch (t) {\n          case \"Minute\":\n            e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())), n = e.addMinutes(1);\n            break;\n\n          case \"Hour\":\n            e.getHours() + e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours())), n = e.addHours(1);\n            break;\n\n          case \"Day\":\n            n = e.getDatePart().addDays(1);\n            break;\n\n          case \"Week\":\n            for (n = e.getDatePart().addDays(1); n.dayOfWeek() !== _.weekStarts();) n = n.addDays(1);\n\n            break;\n\n          case \"Month\":\n            e = e.getDatePart(), n = e.addMonths(1), n = n.firstDayOfMonth();\n\n            for (var l = Abhaas.DateUtil.diff(n, e) / 6e4 % r === 0; !l;) n = n.addHours(1), l = Abhaas.DateUtil.diff(n, e) / 6e4 % r === 0;\n\n            break;\n\n          case \"Quarter\":\n            for (e = e.getDatePart(), n = e.addMonths(1), n = n.firstDayOfMonth(); n.getMonth() % 3;) n = n.addMonths(1);\n\n            for (var l = Abhaas.DateUtil.diff(n, e) / 6e4 % r === 0; !l;) n = n.addHours(1), l = Abhaas.DateUtil.diff(n, e) / 6e4 % r === 0;\n\n            break;\n\n          case \"Year\":\n            e = e.getDatePart(), n = e.addYears(1), n = n.firstDayOfYear();\n\n            for (var l = Abhaas.DateUtil.diff(n, e) / 6e4 % r === 0; !l;) n = n.addHours(1), l = Abhaas.DateUtil.diff(n, e) / 6e4 % r === 0;\n\n            break;\n\n          case \"None\":\n            n = o;\n            break;\n\n          case \"Cell\":\n            var s = this.Mh(e);\n            n = s.current ? s.current.end : s.past ? s.previous.end : s.next.start;\n            break;\n\n          default:\n            throw i ? new Abhaas.Exception(\"Invalid scale value: \" + t) : new Abhaas.Exception(\"Invalid groupBy value: \" + t);\n        }\n\n        return n.getTime() > o.getTime() && (n = o), n;\n      }, this._l = {}, this._l.timeheadercol = \"_timeheadercol\", this._l.timeheadercolInner = \"_timeheadercol_inner\", this._l.resourcedivider = \"_resourcedivider\", this._l.eventFloat = \"_event_float\", this._l.eventFloatInner = \"_event_float_inner\", this._l.event = \"_event\", this._l.eventInner = \"_event_inner\", this._l.eventBar = \"_event_bar\", this._l.eventBarInner = \"_event_bar_inner\", this._l.eventDelete = \"_event_delete\", this._l.eventLine = \"_event_line\", this._l.eventMovingSource = \"_event_moving_source\";\n      var A = this._l;\n      this.fm = function (e, t) {\n        var i = this.nav.timeHeader,\n            n = this.timeHeader[t][e],\n            a = t < this.timeHeader.length - 1,\n            o = n.left,\n            r = n.width,\n            l = R.timeHeader(t),\n            s = l.top,\n            d = l.height,\n            h = document.createElement(\"div\");\n        h.style.position = \"absolute\", h.style.top = s + \"px\", h.style.left = o + \"px\", h.style.width = r + \"px\", h.style.height = d + \"px\", n.toolTip && (h.title = n.toolTip), h.setAttribute(\"aria-hidden\", \"true\"), n.cssClass && Abhaas.Util.addClass(h, n.cssClass), h.setAttribute(\"unselectable\", \"on\"), h.style.KhtmlUserSelect = \"none\", h.style.MozUserSelect = \"none\", h.style.webkitUserSelect = \"none\", h.oncontextmenu = function () {\n          return !1;\n        }, h.cell = {}, h.cell.start = n.start, h.cell.end = n.end, h.cell.level = t, h.cell.th = n, h.onclick = this.Bk, h.style.overflow = \"hidden\", c.timeHeaderTextWrappingEnabled || (h.style.whiteSpace = \"nowrap\");\n        var u = document.createElement(\"div\");\n        u.setAttribute(\"unselectable\", \"on\"), n.innerHTML && (u.innerHTML = n.innerHTML), n.backColor && (u.style.background = n.backColor), n.fontColor && (u.style.color = n.fontColor);\n        var f = this.t(A.timeheadercol),\n            v = this.t(A.timeheadercolInner);\n        a && (f = this.t(\"_timeheadergroup\"), v = this.t(\"_timeheadergroup_inner\")), Abhaas.Util.addClass(h, f), Abhaas.Util.addClass(u, v), Abhaas.Util.addClass(h, c.t(\"_timeheader_cell\")), Abhaas.Util.addClass(u, c.t(\"_timeheader_cell_inner\")), Abhaas.list(n.areas).each(function (e) {\n          e.start && (e.left = c.getPixels(new Abhaas.Date(e.start)).left - o, e.end && (e.width = c.getPixels(new Abhaas.Date(e.end)).left - e.left - o));\n        });\n        var p = null;\n\n        if (\"function\" == typeof c.onBeforeTimeHeaderDomAdd) {\n          var g = {};\n          g.header = {}, g.header.start = n.start, g.header.end = n.end, g.header.level = t, g.element = null, c.onBeforeTimeHeaderDomAdd(g), p = g.element;\n        }\n\n        if (p) {\n          var m = u;\n          u.innerHTML = \"\";\n\n          if (Abhaas.Util.isReactComponent(p)) {\n            if (!c.pj.reactDOM) throw new Abhaas.Exception(\"Can't reach ReactDOM\");\n            c.pj.reactDOM.render(p, m);\n          } else m.appendChild(p);\n        }\n\n        h.appendChild(u), Abhaas.Areas.attach(h, n, {\n          \"areas\": n.areas\n        }), this.G.timeHeader[e + \"_\" + t] = h, i.appendChild(h);\n      }, this.Uh = function () {\n        if (c.ug) return void S.calculateEventPositions();\n\n        for (var e = 0; e < this.rowlist.length; e++) {\n          var t = this.rowlist[e],\n              i = t.getHeight() + t.marginBottom + t.marginTop;\n          t.height !== i && (this.ki = !0), t.height = i;\n        }\n\n        c.ki && (c.G.drawArea = null);\n      }, this.Kg = function () {\n        var e = this.divHeader;\n        if (!e) return !1;\n\n        for (var t = this.rowlist.length, i = (this.rowHeaderCols ? this.rowHeaderCols.length : 1, 0), n = 0; n < t; n++) {\n          var a = this.rowlist[n];\n\n          if (!a.hidden) {\n            var o = this.mk ? n : i;\n\n            if (e.rows[o]) {\n              for (var r = 0; r < e.rows[o].cells.length; r++) {\n                var l = e.rows[o].cells[r];\n                this.mk && (l.style.top = a.top + \"px\");\n                var s = a.height;\n                l && l.firstChild && parseInt(l.firstChild.style.height, 10) !== s && (l.firstChild.style.height = s + \"px\");\n              }\n\n              i++;\n            }\n          }\n        }\n\n        this.mk && c.nav.resScrollSpace && (c.nav.resScrollSpace.style.top = c.yg + \"px\");\n      }, this.Dd = function (e) {\n        var t = this.separators[e];\n        t.location = t.location || t.Location, t.color = t.color || t.Color, t.layer = t.layer || t.Layer, t.width = t.width || t.Width, t.opacity = t.opacity || t.Opacity;\n        var i = new Abhaas.Date(t.location),\n            n = t.color,\n            a = t.width ? t.width : 1,\n            o = !!t.layer && \"AboveEvents\" === t.layer,\n            r = t.opacity ? t.opacity : 100;\n\n        if (!(i.getTime() < this.La().getTime() || i.getTime() >= this.Gh().getTime())) {\n          var l = this.getPixels(i);\n\n          if (!l.cut && !(l.left < 0 || l.left > this.Oj() * this.cellWidth)) {\n            var s = document.createElement(\"div\");\n            s.style.width = a + \"px\", s.style.height = c.yg + \"px\", s.style.position = \"absolute\", s.style.left = l.left - 1 + \"px\", s.style.top = \"0px\", s.style.backgroundColor = n, s.style.opacity = r / 100, s.style.filter = \"alpha(opacity=\" + r + \")\", s.className = c.t(\"_separator\"), t.cssClass && (s.className += \" \" + t.cssClass), o ? this.divSeparatorsAbove.appendChild(s) : this.divSeparators.appendChild(s), this.elements.separators.push(s);\n          }\n        }\n      }, this.jd = function (e) {}, this.Gl = function (e) {\n        if (\"Disabled\" === c.timeRangeDoubleClickHandling) return !1;\n        n.timeRangeTimeout && (clearTimeout(n.timeRangeTimeout), n.timeRangeTimeout = null);\n\n        if (!c.coords) {\n          var t = c.Zg;\n          c.coords = Abhaas.mo3(t, e);\n        }\n\n        if (e = e || window.event, e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, c.hm(c.coords)) {\n          var i = c.ri(c.rangeHold);\n          c.nb(i.start, i.end, i.resource);\n        } else if (n.range = c.$l(), n.range) {\n          n.rangeCalendar = c;\n          var i = c.ri(n.range);\n          c.nb(i.start, i.end, i.resource), c.rangeHold = n.range;\n        }\n\n        n.range = null;\n      }, this.Dl = function (e) {\n        if (!Abhaas.Global.touch.start && !Abhaas.Global.touch.active) {\n          if (n.timeRangeTimeout, 1, c.im(), c.Bl(), !c.coords) {\n            var t = c.Zg;\n            c.coords = Abhaas.mo3(t, e);\n          }\n\n          if (n.rectangleSelect) return !1;\n          e = e || window.event;\n          var i = Abhaas.Util.mouseButton(e);\n          if (i.middle || i.right && c.hm(c.coords)) return !1;\n          if (c.hm(c.coords)) return !1;\n          var a = i.left ? \"left\" : i.right ? \"right\" : i.middle ? \"middle\" : \"unknown\",\n              o = e.ctrlKey,\n              r = e.metaKey,\n              l = e.shiftKey,\n              s = o || r,\n              d = {};\n          if (d.action = \"None\", \"Disabled\" !== c.multiSelectRectangle && l ? d.action = \"RectangleSelect\" : \"Disabled\" !== c.timeRangeSelectedHandling && (d.action = \"TimeRangeSelect\"), d.shift = l, d.ctrl = l, d.meta = r, d.originalEvent = e, d.button = a, d.preventDefault = function () {\n            d.action = \"None\";\n          }, \"function\" == typeof c.onGridMouseDown && c.onGridMouseDown(d), \"None\" === d.action) return e.preventDefault(), e.stopPropagation(), !1;\n\n          if (\"RectangleSelect\" === d.action) {\n            var h = {};\n            return h.start = c.coords, h.calendar = c, n.rectangleSelect = h, !1;\n          }\n\n          c.allowMultiRange && !s && M.clear();\n          var u = c.Ri(c.coords.y).i;\n          return !c.rowlist[u].isNewRow && (n.range = c.$l(), n.range && (n.range.ctrl = s, n.rangeCalendar = c), !1);\n        }\n      }, this.$l = function () {\n        var e = {},\n            t = this.Kh(c.coords.x).x,\n            i = c.getDate(c.coords.x, !0);\n        return e.start = {\n          y: c.Ri(c.coords.y).i,\n          x: t,\n          \"time\": i\n        }, e.end = {\n          x: t,\n          \"time\": i\n        }, this.Yi(c.Ri(c.coords.y).i) ? null : (e.calendar = c, c.ui(e), e);\n      }, this.ak = function () {\n        c.cd();\n        var e = n.resizingShadow,\n            t = n.resizing;\n        !function () {\n          var i = c.jm,\n              a = {\n            \"start\": e.start,\n            \"end\": c.Lf(e.end)\n          };\n          e.original = a;\n          var o = e.original;\n\n          if (!o || !i || i.start !== o.start || i.end !== c.Lf(o.end)) {\n            i && (Abhaas.Util.removeClass(e, i.cssClass), e.firstChild.innerHTML = \"\");\n            var r = t.event.part.dayIndex,\n                l = c.rowlist[r],\n                s = {};\n            s.start = a.start, s.end = a.end, s.duration = new Abhaas.Duration(s.start, s.end), s.row = c.yi(l), s.e = t.event, s.allowed = !0, s.resizing = \"left\" === n.resizing.dpBorder ? \"start\" : \"end\", s.what = \"left\" === n.resizing.dpBorder ? \"start\" : \"end\", s.left = {}, s.left.html = s.start.toString(c.eventResizingStartEndFormat, _.locale()), s.left.enabled = c.eventResizingStartEndEnabled, s.left.space = 5, s.left.width = null, s.right = {}, s.right.html = s.end.toString(c.eventResizingStartEndFormat, _.locale()), s.right.enabled = c.eventResizingStartEndEnabled, s.right.space = 5, s.right.width = null, s.cssClass = null, s.html = null, s.multiresize = Abhaas.list(b.list);\n            var d = {};\n            d.event = t, d.start = s.start, d.end = s.end, s.multiresize.splice(0, 0, d), c.jm = a, \"function\" == typeof c.onEventResizing && c.onEventResizing(s), e.allowed = s.allowed, Abhaas.Util.addClass(e, s.cssClass), s.html && (e.firstChild.innerHTML = s.html);\n            var h = s.start,\n                u = c.lf(s.end);\n\n            if (e.finalStart = h, e.finalEnd = u, \"Days\" === c.viewType) {\n              var f = l.start.getTime() - c.La().getTime();\n              h = h.addTime(-f), u = u.addTime(-f);\n            }\n\n            var v = Abhaas.DateUtil.diff(h, u);\n            v = Abhaas.Util.atLeast(v, 1);\n\n            var p = _.useBox(v),\n                g = p ? c.getPixels(h).boxLeft : c.getPixels(h).left,\n                m = p ? c.getPixels(u).boxRight : c.getPixels(u).left;\n\n            e.style.left = g + \"px\", e.style.width = m - g + \"px\", e.left = g, e.width = m - g, c.bk(n.resizingShadow, s), c.ck(n.resizingShadow, s);\n          }\n        }();\n      }, this.El = function (e) {\n        if (n.rectangleSelect) {\n          var e = e || window.event;\n          return e.cancelBubble = !0, e.preventDefault && e.preventDefault(), n.gMouseUp(e), !1;\n        }\n\n        if (c.Nh = {}, c.rangeHold) {\n          var t = Abhaas.Util.mouseButton(e);\n\n          if (t.left) {\n            var i = c.rangeHold;\n\n            if (c.hm(c.coords)) {\n              var a = function (e) {\n                return function () {\n                  n.timeRangeTimeout = null;\n                  var t = c.ri(e);\n\n                  if (t) {\n                    var i = {};\n                    i.start = t.start, i.end = t.end, i.resource = t.resource, i.preventDefault = function () {\n                      i.preventDefault.value = !0;\n                    }, \"function\" == typeof c.onTimeRangeClick && c.onTimeRangeClick(i), i.preventDefault.value || \"function\" == typeof c.onTimeRangeClicked && c.onTimeRangeClicked(i);\n                  }\n                };\n              };\n\n              \"Disabled\" != c.timeRangeClickHandling && (\"Disabled\" === c.timeRangeDoubleClickHandling ? a(i)() : (clearTimeout(n.timeRangeTimeout), n.timeRangeTimeout = setTimeout(a(i), c.doubleClickTimeout)));\n            }\n          }\n        }\n\n        var t = Abhaas.Util.mouseButton(e);\n        t.right && c.km(e);\n      }, this.km = function (e) {\n        if (\"Disabled\" !== c.timeRangeSelectedHandling && \"Disabled\" !== c.timeRangeRightClickHandling) {\n          var t = null;\n\n          if (t = c.hm(c.coords) ? c.ri(c.rangeHold) : c.ri()) {\n            t.end = c.Lf(t.end);\n            var i = {};\n            i.start = t.start, i.end = t.end, i.resource = t.resource, i.ctrl = e.ctrlKey, i.shift = e.shiftKey, i.meta = e.metaKey, i.preventDefault = function () {\n              this.preventDefault.value = !0;\n            }, \"function\" == typeof c.onTimeRangeRightClick && (c.onTimeRangeRightClick(i), i.preventDefault.value) || (\"ContextMenu\" === c.timeRangeRightClickHandling && c.contextMenuSelection && c.contextMenuSelection.show(t), \"function\" == typeof c.onTimeRangeRightClicked && c.onTimeRangeRightClicked(i));\n          }\n        }\n      }, this.lm = function () {\n        return !!(n.resizing || n.moving || n.range) || !!c.Nh.start;\n      }, this.Yl = function (e) {\n        var t = Abhaas.mo3(c.Zg, e);\n        c.coords && c.coords.x === t.x && c.coords.y === t.y || (c.coords = t);\n      }, this.getCoords = function () {\n        if (!c.coords) return null;\n        var e = {};\n        e.x = c.coords.x, e.y = c.coords.y;\n        var t = c.Ri(e.y).i,\n            i = c.yi(c.rowlist[t]);\n        return e.row = i, e.time = c.getDate(e.x, !0), e.cell = c.cells.findByPixels(e.x, e.y)[0], e;\n      }, this.Al = !0, this.fk = function (e) {\n        if (!Abhaas.Global.touch.active) {\n          n.activeCalendar = c, e = e || window.event;\n          var t = Abhaas.mc(e);\n\n          if (c.Yl(e), e.insideMainD = !0, c.Al = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), c.Nh.start) {\n            Abhaas.distance(c.Nh.originalMouse, t) > 2 && (Abhaas.Util.copyProps(c.Nh, n), document.body.style.cursor = \"move\", c.Nh = {});\n          }\n\n          if (n.resizing && n.resizingEvent.calendar === c) n.resizing.event || (n.resizing.event = n.resizingEvent), c.mm();else if (n.movingEvent) {\n            var i = n.movingEvent.calendar,\n                a = i !== c;\n            a && i && n.movingEvent.calendar.aa(), n.movingEvent.part.external = a, c.nm();\n          } else if (n.range && n.range.calendar === c) n.range.moved = !0, c.om();else if (s.source) {\n            var o = s.source;\n            v.drawShadow(o.coords, c.coords);\n          } else n.rectangleSelect && (n.rectangleSelect.moved = !0, T.draw());\n          \"Disabled\" !== c.crosshairType && c.pm(), c.qm();\n          var r = c.coords.insideEvent;\n\n          if (c.cellBubble && c.coords && c.rowlist && c.rowlist.length > 0 && !r) {\n            var l = c.Kh(c.coords.x).x,\n                d = c.Ri(c.coords.y).i;\n\n            if (0 <= d && d < c.rowlist.length && 0 <= l && l < c.itline.length) {\n              var h = {};\n              h.calendar = c, h.start = c.itline[l].start, h.end = c.itline[l].end, h.resource = c.rowlist[d].id, h.toJSON = function () {\n                var e = {};\n                return e.start = this.start, e.end = this.end, e.resource = this.resource, e;\n              }, c.cellBubble.showCell(h);\n            }\n          }\n\n          if (n.drag) {\n            if (c.im(), n.gShadow && document.body.removeChild(n.gShadow), n.gShadow = null, !n.movingShadow && c.coords && c.rowlist.length > 0) {\n              if (!n.movingEvent) {\n                n.moving = n.drag.schedulerSourceEvent || {};\n                var u = n.drag.schedulerSourceEvent ? n.drag.schedulerSourceEvent.event : null,\n                    f = u || n.drag.event;\n                if (f) {\n                  if (c !== f.calendar) {\n                    var i = f.calendar,\n                        p = f,\n                        g = Abhaas.Util.copyProps(f.data);\n                    f = new Abhaas.Event(g), f.calendar = i, f.part.duration = i.Aj(p), f.part.external = !0;\n                  } else f.part.external = !1;\n                } else {\n                  var m = c.itline[0].start,\n                      e = {\n                    \"id\": n.drag.id,\n                    \"start\": m,\n                    \"end\": m.addSeconds(n.drag.duration),\n                    \"text\": n.drag.text\n                  },\n                      y = n.drag.data;\n\n                  if (y) {\n                    var b = [\"duration\", \"element\", \"remove\", \"duration\", \"id\", \"text\"];\n\n                    for (var w in y) Abhaas.contains(b, w) || (e[w] = y[w]);\n                  }\n\n                  f = new Abhaas.Event(e), f.calendar = c, f.calendar = null, f.part.duration = 1e3 * n.drag.duration, f.part.external = !0;\n                }\n                n.moving.event || (n.moving.event = f), n.movingEvent = f;\n              }\n\n              n.movingShadow = c.Ea(n.movingEvent);\n            }\n\n            e.cancelBubble = !0;\n          }\n\n          var D = {\n            x: c.coords.x,\n            y: c.coords.y\n          };\n          c.bm(D);\n        }\n      }, this.bm = function (e) {\n        var t = n.moving || n.resizing || n.range || n.rectangleSelect,\n            i = \"Always\" === c.autoScroll,\n            a = \"Drag\" === c.autoScroll && t,\n            o = i || a,\n            r = n.resizing || n.range;\n\n        if (o) {\n          var l = c.nav.scroll;\n          e.x -= l.scrollLeft, e.x += u.shiftX, e.y -= l.scrollTop;\n          var s = l.clientWidth,\n              h = l.clientHeight,\n              f = 30,\n              v = e.x < f ? e.x : 0,\n              p = s - e.x < f ? s - e.x : 0,\n              g = e.y < f ? e.y : 0,\n              m = h - e.y < f ? h - e.y : 0,\n              y = 0,\n              b = 0,\n              w = 50;\n          v && (y = -50 * d(v, f)), p && (y = w * d(p, f)), g && (b = -50 * d(g, f) / 2), m && (b = w * d(g, f) / 2), r && (b = 0), y || b ? c.rm(y, b) : c.Bl();\n        }\n      }, this.om = function () {\n        var e = n.range,\n            t = c.Kh(c.coords.x).x,\n            i = c.getDate(c.coords.x, !0);\n        e.end = {\n          x: t,\n          \"time\": i\n        }, c.ui(e);\n      }, this.mm = function () {\n        n.resizingShadow || (n.resizingShadow = c.Ea(n.resizing)), c._j();\n      }, this.nm = function () {\n        if (n.movingShadow && n.movingShadow.calendar !== c && (n.movingShadow.calendar.aa(), n.movingShadow.calendar = null, Abhaas.de(n.movingShadow), n.movingShadow = null), !n.movingShadow) {\n          window.navigator.userAgent.indexOf(\"Chrome/61.0\") > -1 || Abhaas.Util.addClass(n.moving, c.t(A.eventMovingSource));\n          var e = n.movingEvent;\n          n.movingShadow = c.Ea(e);\n        }\n\n        c.Ij(), c.Kj();\n      }, this.sm = {};\n      var T = this.sm;\n      T.start = function () {\n        var e = {};\n        e.start = c.coords, e.calendar = c, n.rectangleSelect = e;\n      }, T.draw = function () {\n        var e = n.rectangleSelect,\n            t = n.rectangleSelect.start,\n            i = c.coords;\n        T.clear();\n        var a,\n            o,\n            r,\n            l,\n            s,\n            d,\n            u,\n            f,\n            v = {\n          \"x\": e.x,\n          \"y\": e.y,\n          \"width\": e.width,\n          \"height\": e.height\n        };\n        if (function () {\n          s = Math.min(t.x, i.x), u = Math.max(t.x, i.x), \"Free\" === c.multiSelectRectangle ? (d = Math.min(t.y, i.y), f = Math.max(t.y, i.y)) : \"Row\" === c.multiSelectRectangle && (d = t.y, f = t.y);\n        }(), \"Free\" === c.multiSelectRectangle) a = s, o = d, r = u - s, l = f - d;else {\n          if (\"Row\" !== c.multiSelectRectangle) throw \"Invalid Abhaas.Scheduler.multiSelectRectangle value: \" + c.multiSelectRectangle;\n          var p = c.Ri(d).i,\n              g = c.rowlist[p];\n          o = g.top, l = g.height;\n          a = c.Kh(s).cell.left;\n          var m = c.Kh(u).cell;\n          r = m.left + m.width - a;\n        }\n        var y = Abhaas.Util.div(c.divRectangle, a, o, r, l);\n\n        if (y.style.boxSizing = \"border-box\", y.className = c.t(\"_selectionrectangle\"), e.x = a, e.y = o, e.width = r, e.height = l, (e.x !== v.x || e.y !== v.y || e.width !== v.width || e.height !== v.height) && \"function\" == typeof c.onRectangleEventSelecting) {\n          var b = {};\n          b.events = h.eventsInRectangle(e.x, e.y, e.width, e.height).map(function (e) {\n            return e.event;\n          }), b.start = c.getDate(e.x, !0), b.end = c.getDate(e.x + e.width, !0), c.onRectangleEventSelecting(b);\n        }\n      }, T.clear = function () {\n        c.divRectangle.innerHTML = \"\", c.elements.rectangle = [];\n      }, this.tm = function () {\n        var e, t;\n        if (!(c.coords && c.rowlist && c.rowlist.length > 0 && c.itline && c.itline.length > 0)) return null;\n\n        if (e = c.Kh(c.coords.x).x, t = c.Ri(c.coords.y).i, !(t >= c.rowlist.length)) {\n          return c.cells.findXy(e, t)[0];\n        }\n      }, this.qm = function () {\n        var e = this.tm();\n\n        if (this.hover.cell) {\n          if (this.hover.cell.x === e.x && this.hover.cell.y === e.y) return;\n          this.Cl();\n        }\n\n        if (this.hover.cell = e, \"function\" == typeof this.onCellMouseOver) {\n          var t = {};\n          t.cell = e, this.onCellMouseOver(t);\n        }\n      }, this.Cl = function () {\n        if (this.hover.cell) {\n          if (\"function\" == typeof this.onCellMouseOut) {\n            var e = {};\n            e.cell = this.hover.cell, this.onCellMouseOut(e);\n          }\n\n          this.hover.cell = null;\n        }\n      }, this.hover = {}, this.pm = function () {\n        var e = this.tm();\n        e && (this.hover.cell && this.hover.cell.x === e.x && this.hover.cell.y === e.y || this.bd());\n      }, this.im = function () {\n        this.divCrosshair.innerHTML = \"\", this.um = null, this.vm = null;\n      }, this.ba = function () {\n        if (this.im(), this.wm && this.wm.parentNode && (this.wm.parentNode.removeChild(this.wm), this.wm = null), this.xm) {\n          for (var e = 0; e < this.xm.length; e++) {\n            var t = this.xm[e];\n            t.parentNode && t.parentNode.removeChild(t);\n          }\n\n          this.xm = null;\n        }\n\n        this.xg = -1, this.wg = -1;\n      }, this.bd = function () {\n        var e, t;\n\n        if (c.coords && c.rowlist && c.rowlist.length > 0 && (e = c.Kh(c.coords.x).x, t = c.Ri(c.coords.y).i, !(t >= c.rowlist.length))) {\n          var i = this.crosshairType,\n              n = c.rowlist[t];\n\n          if (\"Full\" === i) {\n            var a = this.itline[e],\n                o = a.left,\n                r = this.um;\n\n            if (!r) {\n              var r = document.createElement(\"div\");\n              r.style.height = c.yg + \"px\", r.style.position = \"absolute\", r.style.top = \"0px\", r.className = c.t(\"_crosshair_vertical\"), this.um = r, this.divCrosshair.appendChild(r);\n            }\n\n            r.style.left = o + \"px\", r.style.width = a.width + \"px\";\n            var l = n.top,\n                s = n.height,\n                d = this.lh(),\n                r = this.vm;\n\n            if (!r) {\n              var r = document.createElement(\"div\");\n              r.style.width = d + \"px\", r.style.height = s + \"px\", r.style.position = \"absolute\", r.style.top = l + \"px\", r.style.left = \"0px\", r.className = c.t(\"_crosshair_horizontal\"), this.vm = r, this.divCrosshair.appendChild(r);\n            }\n\n            r.style.top = l + \"px\", r.style.height = s + \"px\";\n          }\n\n          var h = this.timeHeader ? this.timeHeader.length - 1 : 1;\n          \"number\" == typeof c.crosshairTimeHeaderLevel && c.crosshairTimeHeaderLevel < h && c.crosshairTimeHeaderLevel >= 0 && (h = c.crosshairTimeHeaderLevel);\n          var u = c.Rj(h, c.coords.x);\n\n          if (u && this.xg !== u.x) {\n            this.wm && this.wm.parentNode && (this.wm.parentNode.removeChild(this.wm), this.wm = null);\n            var s = R.timeHeader(h).height,\n                r = document.createElement(\"div\");\n            r.style.width = u.cell.width + \"px\", r.style.height = s + \"px\", r.style.left = \"0px\", r.style.top = \"0px\", r.style.position = \"absolute\", r.className = c.t(\"_crosshair_top\"), this.wm = r;\n            var f = this.divNorth,\n                v = h;\n            this.nav.timeHeader ? this.G.timeHeader[u.x + \"_\" + v].appendChild(r) : f.firstChild.rows[v].cells[e] && f.firstChild.rows[v].cells[e].firstChild.appendChild(r);\n          }\n\n          if (this.wg !== t) {\n            if (this.xm) {\n              for (var p = 0; p < this.xm.length; p++) {\n                var g = this.xm[p];\n                g.parentNode && g.parentNode.removeChild(g);\n              }\n\n              this.xm = null;\n            }\n\n            this.rowHeaderCols ? this.rowHeaderCols.length : 1;\n            if (this.xm = [], this.divHeader.rows[t]) for (var p = 0; p < this.divHeader.rows[t].cells.length; p++) {\n              var d = c.oh(),\n                  r = document.createElement(\"div\");\n              r.style.width = d + \"px\", r.style.height = n.height + \"px\", r.style.left = \"0px\", r.style.top = \"0px\", r.style.position = \"absolute\", r.className = c.t(\"_crosshair_left\"), this.xm.push(r), this.divHeader.rows[t].cells[p].firstChild.appendChild(r);\n            }\n          }\n\n          u && (this.xg = u.x), this.wg = t;\n        }\n      }, this.Rj = function (e, t) {\n        var i = c.timeHeader[e];\n        if (!i) return null;\n\n        for (var n = 0; n < i.length; n++) {\n          var a = i[n];\n\n          if (t >= a.left && t < a.left + a.width) {\n            var o = {};\n            return o.cell = a, o.x = n, o;\n          }\n        }\n\n        return null;\n      }, this.ym = function (e) {\n        return c.Rj(c.timeHeader.length - 1, e);\n      }, this.Fl = function (e) {\n        if (e.cancelBubble = !0, !c.allowDefaultContextMenu) return !1;\n      }, this.hm = function (e) {\n        var t = c.rangeHold;\n        if (!t || !t.start || !t.end) return !1;\n        var i = this.cj(t.start.y),\n            n = t.start.x < t.end.x,\n            a = (n ? t.start.x : t.end.x) * this.cellWidth,\n            o = (n ? t.end.x : t.start.x) * this.cellWidth + this.cellWidth,\n            r = i.top,\n            l = i.bottom;\n        return e.x >= a && e.x <= o && e.y >= r && e.y <= l;\n      }, this.ui = function (e, t) {\n        function i(e) {\n          var t,\n              i,\n              n,\n              a,\n              o = e.end.time > e.start.time,\n              r = e.start.y,\n              l = e.start.time && e.end.time;\n\n          if (c.snapToGrid && c.snapToGridTimeRangeSelecting || !l) {\n            var s = o ? e.start.x : e.end.x,\n                d = o ? e.end.x : e.start.x,\n                h = c.itline[s],\n                u = c.itline[d];\n            n = h.start, a = u.end, t = h.left, i = u.left + u.width;\n          } else o ? (n = e.start.time, a = e.end.time) : (n = e.end.time, a = e.start.time), t = c.getPixels(n).left, i = c.getPixels(a).left;\n\n          var f = i - t,\n              v = c.elements.range2;\n\n          if (!v) {\n            v = document.createElement(\"div\"), v.style.position = \"absolute\", v.setAttribute(\"unselectable\", \"on\"), v.className = c.t(\"_shadow\");\n            var p = document.createElement(\"div\");\n            p.className = c.t(\"_shadow_inner\"), v.appendChild(p), c.divShadow.appendChild(v);\n          }\n\n          return v.style.left = t + \"px\", v.style.top = c.rowlist[r].top + \"px\", v.style.width = f + \"px\", v.style.height = c.rowlist[r].height - 1 + \"px\", v.calendar = c, c.elements.range2 = v, function () {\n            v.overlapping = !1;\n            var e = c.rowlist[r];\n            c.Xj(v, e, t, f, null), c.Yj(v, n, a, e.id);\n          }(), v;\n        }\n\n        var e = e || n.range;\n        e && e.calendar === c && !function () {\n          var n = e.end.time > e.start.time,\n              a = n ? e.start.x : e.end.x,\n              o = n ? e.end.x : e.start.x,\n              r = e.start.y,\n              l = c.rowlist[r];\n\n          if (l && !l.hidden) {\n            var s = c.itline[a],\n                d = c.itline[o],\n                h = c.zm,\n                u = s.start.addTime(l.data.offset),\n                f = d.end.addTime(l.data.offset);\n\n            if (c.snapToGrid && c.snapToGridTimeRangeSelecting || (n ? (u = e.start.time, f = e.end.time) : (u = e.end.time, f = e.start.time)), t || !h || h.start.getTime() !== u.getTime() || h.end.getTime() !== f.getTime() || h.resource !== c.rowlist[r].id) {\n              var v = {\n                \"start\": u,\n                \"end\": c.Lf(f),\n                \"resource\": c.rowlist[r].id\n              },\n                  p = {};\n              p.start = v.start, p.end = v.end, p.duration = new Abhaas.Duration(u, f), p.resource = c.rowlist[r].id, p.row = c.yi(l), p.allowed = !0, p.left = {}, p.left.html = p.start.toString(c.timeRangeSelectingStartEndFormat, _.locale()), p.left.enabled = c.timeRangeSelectingStartEndEnabled, p.left.space = 5, p.left.width = null, p.right = {}, p.right.html = p.end.toString(c.timeRangeSelectingStartEndFormat, _.locale()), p.right.enabled = c.timeRangeSelectingStartEndEnabled, p.right.space = 5, p.right.width = null, p.html = null, p.cssClass = null, c.zm = v, \"function\" != typeof c.onTimeRangeSelecting || t || (c.onTimeRangeSelecting(p), p.resource = v.resource), p.end = c.lf(p.end), e.args = p;\n              var g = c.Am(e);\n              c.si(g, p.start, p.end);\n              var m = i(g);\n              p.html && (m.firstChild.innerHTML = p.html), p.cssClass && Abhaas.Util.addClass(m, p.cssClass), c.bk(m, p), e.cm = g, e.disabled = !p.allowed, c.ck(m, p);\n            }\n          }\n        }();\n      }, this.Am = function (e) {\n        return {\n          \"start\": {\n            \"x\": e.start.x,\n            \"y\": e.start.y,\n            \"time\": e.start.time\n          },\n          \"end\": {\n            \"x\": e.end.x,\n            \"time\": e.end.time\n          },\n          \"disabled\": e.disabled,\n          \"calendar\": e.calendar,\n          \"args\": e.args\n        };\n      }, this.range = {}, this.range.all = function () {\n        return M.get();\n      }, this.Bm = {};\n      var M = this.Bm;\n      this.Bm.list = [], this.Bm.clear = function () {\n        Abhaas.de(Abhaas.list(M.list).map(function (e) {\n          return e.div;\n        })), M.list = [];\n      }, this.Bm.add = function (e) {\n        e.div = c.elements.range2, c.elements.range2 = null, c.ek(), M.list.push(e);\n      }, this.Bm.get = function () {\n        return Abhaas.list(M.list).map(function (e) {\n          return c.ri(e);\n        });\n      }, this.Bm.dispatch = function () {\n        if (c.allowMultiRange && !n.range) {\n          var e = Abhaas.list(M.list).last();\n          c.qi(e);\n        }\n      }, this.Cm = function (e) {\n        if (\"Disabled\" === c.timeRangeSelectedHandling) return !1;\n\n        if (!Abhaas.Global.touch.active && !Abhaas.Global.touch.start) {\n          e = e || window.event;\n          var t = Abhaas.Util.mouseButton(e);\n\n          if (!n.range && !n.rectangleSelect && !(c.rangeHold && c.hm(c.coords) && (t.right || t.middle) || c.Yi(c.Ri(c.coords.y).i))) {\n            var i = {},\n                a = c.Kh(c.coords.x).x;\n            i.start = {\n              y: c.Ri(c.coords.y).i,\n              x: a\n            }, i.end = {\n              x: a\n            }, i.calendar = c, c.rangeHold = i, c.qi(i);\n          }\n        }\n      }, this.timeouts = {}, this.timeouts.drawEvents = null, this.timeouts.drawCells = null, this.timeouts.click = null, this.timeouts.resClick = [], this.timeouts.updateFloats = null, this.Ug = function (e) {\n        c.Cg();\n        var t = c.nav.scroll;\n        if (c.Pj = t.scrollLeft, c.Nj = t.scrollTop, c.Qj = t.clientWidth, c.divTimeScroll.scrollLeft = c.Pj, c.divResScroll.scrollTop = c.Nj, u.isEnabled() && c.I && \"Auto\" != c.cellWidthSpec) if (u.active) a();else {\n          if (c.nav.scroll.scrollLeft < c.infiniteScrollingMargin) return u.active = !0, c.nav.scroll.style.overflowX = \"hidden\", void setTimeout(function () {\n            u.shiftStart(-c.infiniteScrollingStepDays);\n          }, 100);\n          if (c.nav.scroll.scrollWidth - (c.nav.scroll.scrollLeft + c.nav.scroll.clientWidth) < c.infiniteScrollingMargin) return u.active = !0, c.nav.scroll.style.overflowX = \"hidden\", void setTimeout(function () {\n            u.shiftStart(c.infiniteScrollingStepDays);\n          }, 100);\n        }\n        if (c.navigatorBackSync && !function () {\n          var e = Abhaas.Util.evalVariable(c.navigatorBackSync),\n              t = c.getViewPort().start;\n          e.select(t, {\n            \"dontNotify\": !0,\n            \"dontFocus\": !0\n          });\n        }(), c.timeouts.drawCells && (clearTimeout(c.timeouts.drawCells), c.timeouts.drawCells = null), c.scrollDelayCells > 0) c.timeouts.drawCells = setTimeout(c.Dm(), c.scrollDelayCells);else {\n          c.Dm()();\n        }\n        return c.dynamicLoading ? (c.ag(), void c.Em()) : (c.timeouts.drawEvents && (clearTimeout(c.timeouts.drawEvents), c.timeouts.drawEvents = null), c.scrollDelayEvents > 0 ? c.timeouts.drawEvents = setTimeout(c.Fm(), c.scrollDelayEvents) : c.za(), c.timeouts.updateFloats && (clearTimeout(c.timeouts.updateFloats), c.timeouts.updateFloats = null), c.scrollDelayFloats > 0 ? c.timeouts.updateFloats = setTimeout(function () {\n          c.Sg();\n        }, c.scrollDelayFloats) : c.Sg(), void (c.onScrollCalled = !0));\n      }, this.Dm = function () {\n        return function () {\n          c && (c.ag(), c.Og());\n        };\n      }, this.Fm = function () {\n        return function () {\n          c && (c.Pl() ? window.setTimeout(function () {\n            c.Ml(), window.setTimeout(function () {\n              c.za(!0);\n            }, 50);\n          }, 50) : c.fh());\n        };\n      }, this.Cg = function () {\n        this.G.eventHeight = null, this.G.drawArea = null;\n      }, this.show = function () {\n        this.visible = !0, this.Ag = !0, c.nav.top.style.display = \"\", this.ya(), this.Jg(), this.oj(), c.Ug();\n      }, this.hide = function () {\n        this.visible = !1, this.Ag = !1, c.nav.top.style.display = \"none\";\n      }, this.Gm = function () {}, this.Em = function () {\n        var e = c.nav.scroll;\n        c.Pj = e.scrollLeft, c.Nj = e.scrollTop, c.Qj = e.clientWidth, c.divTimeScroll.scrollLeft = c.Pj, c.divResScroll.scrollTop = c.Nj, c.refreshTimeout && window.clearTimeout(c.refreshTimeout);\n        var t = c.scrollDelayDynamic;\n        c.refreshTimeout = window.setTimeout(c.Hm(e.scrollLeft, e.scrollTop), t), c.Sg();\n      }, this.kj = function (e) {\n        if (!c.events.list) return null;\n\n        for (var t = 0; t < this.events.list.length; t++) {\n          var i = this.events.list[t];\n\n          if (c.Kd(i, e)) {\n            var n = {};\n            return n.ex = i, n.index = t, n.modified = !c.Im(e, i), n;\n          }\n        }\n\n        return null;\n      }, this.Im = function (e, t) {\n        for (var i in e) if ((\"object\" != typeof e[i] || e[i] instanceof Abhaas.Date) && e[i] !== t[i]) return !1;\n\n        for (var i in t) if (\"object\" != typeof t[i] && e[i] !== t[i]) return !1;\n\n        return !0;\n      }, this.Qg = function (e, t, i) {\n        var n = i && i.clearEvents,\n            a = i && i.remove,\n            o = i && i.dontForceCellRendering,\n            r = [];\n        if (c.events.list || (c.events.list = []), n) c.la(e);else {\n          var l = [];\n          Abhaas.list(a).forEach(function (e) {\n            var t = Abhaas.list(c.events.list).find(function (t) {\n              return t.id === e;\n            });\n            t && l.push(t);\n          }), l.forEach(function (e) {\n            var t = c.events.Rh(e);\n            r = r.concat(t);\n          });\n\n          for (var s = [], d = 0; d < e.length; d++) {\n            var h = e[d];\n            s[d] = c.kj(h);\n          }\n\n          for (var d = 0; d < e.length; d++) {\n            var h = e[d],\n                u = s[d],\n                f = u && u.modified,\n                v = !u;\n\n            if (f) {\n              this.events.list[u.index] = h;\n              var p = c.events.Rh(u.ex);\n              r = r.concat(p);\n            } else v && this.events.list.push(h);\n\n            (f || v) && (r = r.concat(c.events.Sh(h)));\n          }\n\n          c.Th(r), c.Uh();\n        }\n        c.Ig(), c.ta();\n\n        if (n || o) {\n          c.V();\n          var g = c.ki;\n          g && c.Lg(), c.Kg(), g ? c.Og() : c.oj(), c.za();\n        } else c.Vh(r, !1, function () {\n          t && t(), c.Ml(), c.za();\n        }), c.oj();\n      }, this.Hm = function (e, t) {\n        return c.z() ? function () {\n          c.scrollX = e, c.scrollY = t, c.O(\"Scroll\");\n        } : function () {\n          if (\"function\" == typeof c.onScroll) {\n            var e = function (e) {\n              var t = function () {\n                if (c.Da() && \"function\" == typeof c.onAfterRender) {\n                  var e = {};\n                  e.isCallBack = !1, e.isScroll = !0, e.data = null, c.onAfterRender(e);\n                }\n              };\n\n              c.Qg(e.events, t, e);\n            },\n                t = {};\n\n            t.viewport = c.getViewPort(), t.async = !1, t.events = [], t.remove = [], t.clearEvents = !1, t.dontForceCellRendering = !1, t.loaded = function () {\n              this.async && e(t);\n            }, c.onScroll(t), t.async || e(t);\n          }\n        };\n      }, this.Jm = function () {\n        var e = this.ch(),\n            t = e.xStart,\n            i = e.xEnd - e.xStart,\n            n = e.yStart,\n            a = e.yEnd - e.yStart;\n        this.cellProperties || (this.cellProperties = {});\n\n        for (var o = 0; o <= i; o++) {\n          for (var r = t + o, l = 0; l < a; l++) {\n            var s = n + l;\n            this.rowlist[s].hidden || this.Hf(r, s);\n          }\n\n          this.Km(r);\n        }\n\n        for (var d = this.ik(), s = d.start; s < d.end; s++) this.rowlist[s].hidden || this.Lm(s);\n      }, this.Og = function () {\n        if (!c.Nd) {\n          if (c.progressiveRowRendering && this._h(), null !== this.rowlist && this.rowlist.length > 0) {\n            if (this.cellSweeping) {\n              var e = this.cellSweepingCacheSize;\n              this.Ol(e);\n            }\n\n            this.Jm(), this.Mm(), P.Lk();\n          }\n\n          this.ki = !1;\n        }\n      }, this.Mm = function () {\n        for (var e = this.ch(), t = e.xStart; t < e.xEnd; t++) {\n          t < this.itline.length - 1 && this.itline[t + 1].breakBefore && this.Nm(t);\n        }\n      }, this.Nm = function (e) {\n        var t = \"x\" + e;\n\n        if (!this.G.breaks[t]) {\n          var i = this.itline[e + 1].left - 1,\n              n = this.yg,\n              a = document.createElement(\"div\");\n          a.style.left = i + \"px\", a.style.top = \"0px\", a.style.width = \"1px\", a.style.height = n + \"px\", a.style.fontSize = \"1px\", a.style.lineHeight = \"1px\", a.style.overflow = \"hidden\", a.style.position = \"absolute\", a.setAttribute(\"unselectable\", \"on\"), a.className = this.t(\"_matrix_vertical_break\"), this.divBreaks.appendChild(a), this.elements.breaks.push(a), this.G.breaks[t] = a;\n        }\n      }, this.ch = function () {\n        if (c.G.drawArea) return c.G.drawArea;\n        if (!this.nav.scroll) return null;\n        var e = c.Nj,\n            t = {},\n            i = null != this.dynamicEventRenderingMarginX ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin,\n            n = null != this.dynamicEventRenderingMarginY ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin,\n            a = c.Pj - i - u.shiftX,\n            o = a + c.Qj + 2 * i,\n            r = 0,\n            l = 0;\n\n        if (c.itline && c.itline.length > 0) {\n          r = c.Kh(a).x, l = c.Kh(o, !0).x;\n          var s = this.Oj();\n          l = Math.min(l, s), r = Abhaas.Util.atLeast(r, 0);\n        }\n\n        var d = e - n,\n            h = e + this.nav.scroll.offsetHeight + 2 * n,\n            f = this.Ri(d).i,\n            v = this.Ri(h).i;\n        v < this.rowlist.length && v++, t.xStart = r, t.xEnd = l, t.yStart = f, t.yEnd = v;\n        var p = c.nav.scroll;\n        return 0 === p.clientWidth && (p = c.divTimeScroll), t.pixels = {}, t.pixels.left = p.scrollLeft - u.shiftX, t.pixels.right = p.scrollLeft - u.shiftX + p.clientWidth, t.pixels.top = p.scrollTop, t.pixels.bottom = p.scrollTop + p.clientHeight, t.pixels.width = p.scrollWidth, c.G.drawArea = t, t;\n      }, this.lh = function () {\n        var e = 0,\n            t = this.itline[this.itline.length - 1];\n        return e = t ? t.left + t.width : 0, (e < 0 || isNaN(e)) && (e = 0), e;\n      }, this.Lm = function (e) {\n        var t = \"y\" + e;\n\n        if (!this.G.linesHorizontal[t]) {\n          var i = c.rowlist[e],\n              n = \"number\" == typeof i.forcedHeight ? i.forcedHeight : i.height,\n              a = i.top + n - 1,\n              o = this.lh(),\n              r = document.createElement(\"div\");\n          r.style.left = \"0px\", r.style.top = a + \"px\", r.style.width = o + \"px\", r.style.height = \"1px\", r.style.fontSize = \"1px\", r.style.lineHeight = \"1px\", r.style.overflow = \"hidden\", r.style.position = \"absolute\", r.setAttribute(\"unselectable\", \"on\"), r.className = this.t(\"_matrix_horizontal_line\"), this.divLines.appendChild(r), this.G.linesHorizontal[t] = r;\n        }\n      }, this.Km = function (e) {\n        var t = this.itline[e];\n\n        if (t) {\n          var i = \"x\" + e;\n\n          if (!this.G.linesVertical[i]) {\n            var n = t.left + t.width - 1,\n                a = document.createElement(\"div\");\n            a.style.left = n + \"px\", a.style.top = \"0px\", a.style.width = \"1px\", a.style.height = c.yg + \"px\", a.style.fontSize = \"1px\", a.style.lineHeight = \"1px\", a.style.overflow = \"hidden\", a.style.position = \"absolute\", a.setAttribute(\"unselectable\", \"on\"), a.className = this.t(\"_matrix_vertical_line\"), this.divLines.appendChild(a), this.elements.linesVertical.push(a), this.G.linesVertical[i] = a;\n          }\n        }\n      }, this.Jj = function (e) {\n        function t() {\n          var t = c.Om(e, i.expanded, !1);\n          if (!n) for (var a = 0; a < t.length; a++) {\n            var o = t[a];\n            c.li(o);\n          }\n          c.Ek(), c.ag();\n          var r = c.yi(i, e);\n          n ? c.Hi(r) : c.Gi(r);\n        }\n\n        c.Vg.skip = !0;\n        var i = this.rowlist[e],\n            n = !i.expanded;\n\n        if (i.expanded = n, i.resource && (i.resource.expanded = n), c.treeAnimation) {\n          var a = this.Om(e, i.expanded, !0);\n          c.Dk(a, n ? \"show\" : \"hide\", function () {\n            t();\n          });\n        } else t();\n      }, this.Ek = function () {\n        c.Ig(), c.Gg(), c.ta(), c.Cg(), c.ni(), v.load(), c.Lg(), c.Og(), c.Rg(), c.za(), c.Cg();\n      }, this.Ak = function (e) {\n        var t = {};\n\n        if (t.index = e, \"function\" == typeof this.onLoadNode) {\n          var i = {},\n              n = this.rowlist[e].resource;\n          i.resource = n, i.async = !1, i.loaded = function () {\n            this.async && (n.dynamicChildren = !1, n.expanded = !0, c.update());\n          }, this.onLoadNode(i), i.async || (n.dynamicChildren = !1, n.expanded = !0, this.update());\n        } else this.O(\"LoadNode\", t);\n      }, this.Om = function (e, t, i) {\n        var n = this.rowlist[e],\n            a = [];\n        if (null === n.children || 0 === n.children.length) return a;\n\n        for (var o = 0; o < n.children.length; o++) {\n          var r = n.children[o],\n              l = this.rowlist[r],\n              s = t && n.expanded && !l.bl;\n          t && l.hidden && (l.forcedHeight = 0), i && !t || (l.hidden = !s), i || delete l.forcedHeight, t === s && a.push(r);\n          var d = this.Om(r, t);\n          d.length > 0 && (a = a.concat(d));\n        }\n\n        return a;\n      }, this.rm = function (e, t) {\n        this.Bl(), this.Pm(e, t);\n      }, this.Qm = function (e) {\n        if (!e) return !1;\n        var t = this.nav.scroll.scrollWidth,\n            i = this.nav.scroll.scrollLeft,\n            n = this.nav.scroll.clientWidth,\n            a = i + n;\n        return !(e < 0 && i <= 0) && !(e > 0 && a >= t) && (this.nav.scroll.scrollLeft += e, c.coords.x += e, c.Rm(), !0);\n      }, this.Sm = function (e) {\n        if (!e) return !1;\n        var t = this.nav.scroll.scrollHeight,\n            i = this.nav.scroll.scrollTop,\n            n = this.nav.scroll.clientHeight,\n            a = i + n;\n        return !(e < 0 && i <= 0) && !(e > 0 && a >= t) && (this.nav.scroll.scrollTop += e, c.coords.y += e, c.Rm(), !0);\n      }, this.Rm = function () {\n        n.resizing && n.resizing.event.calendar === c ? c.mm() : n.moving && (n.movingEvent.calendar === c || n.movingEvent.calendar.dragOutAllowed) ? (n.moving.event || (n.moving.event = n.movingEvent), c.nm()) : n.range && n.range.calendar === c && c.om();\n      }, this.Pm = function (e, t) {\n        if (this.Qm(e) || this.Sm(t)) {\n          var i = function (e, t) {\n            return function () {\n              c.Pm(e, t);\n            };\n          };\n\n          this.Tm = window.setTimeout(i(e, t), 100);\n        }\n      }, this.Bl = function () {\n        c.Tm && (window.clearTimeout(c.Tm), c.Tm = null);\n      }, this.Ig = function () {\n        for (var e = 0, t = 0, i = 0; i < this.rowlist.length; i++) {\n          var n = this.rowlist[i];\n          n.hidden || (n.top = e, n.displayY = t, e += \"number\" == typeof n.forcedHeight ? n.forcedHeight : n.height, t += 1);\n        }\n\n        this.yg = e;\n      }, this.Lg = function () {\n        Abhaas.browser.ie && c.Um(), this.elements.cells = [], this.elements.breaks = [], this.G.cells = [], this.G.breaks = [], this.divCells.innerHTML = \"\", this.divBreaks.innerHTML = \"\", c.qk();\n      }, this.qk = function () {\n        this.divLines.innerHTML = \"\", this.G.linesVertical = {}, this.G.linesHorizontal = {}, this.elements.linesVertical = [];\n      }, this.Um = function (e) {\n        var t = Abhaas.list();\n\n        for (var i in c.G.cells) t.push(c.G.cells[i]);\n\n        t.each(function (e) {\n          c.rj(e);\n        });\n      }, this.oi = function (e) {\n        var t = Abhaas.list();\n\n        for (var i in c.G.cells) t.push(c.G.cells[i]);\n\n        t.filter(function (t) {\n          return t && t.coords && t.coords.y === e;\n        }).each(function (e) {\n          c.rj(e);\n        });\n      }, this.Vm = 0, this.Wm = Abhaas.list([\"html\", \"cssClass\", \"backColor\", \"backImage\", \"backRepeat\", \"areas\", \"disabled\"]), this.Xm = c.Wm.add(\"business\"), this.Hf = function (e, t) {\n        if (this.I) {\n          var i = c.Oh(e);\n\n          if (i) {\n            var n = e + \"_\" + t;\n\n            if (!this.G.cells[n]) {\n              var a = this.sj(e, t);\n\n              if (c.Tj(e, t), !this.drawBlankCells) {\n                var o = !1;\n                if (this.Gj(t) ? o = !1 : this.Ym(a, c.Wm) || (o = !0), o) return;\n              }\n\n              var r = document.createElement(\"div\");\n              r.style.left = i.left + \"px\", r.style.top = this.rowlist[t].top + \"px\", r.style.width = i.width + \"px\", r.style.height = this.rowlist[t].height + \"px\", r.style.position = \"absolute\", a && a.backColor && (r.style.backgroundColor = a.backColor), r.setAttribute(\"unselectable\", \"on\"), r.className = this.t(\"_cell\"), r.coords = {}, r.coords.x = e, r.coords.y = t, this.Gj(t) && Abhaas.Util.addClass(r, this.t(\"_cellparent\"));\n              var l = c.cells.findXy(e, t)[0];\n              a && (a.cssClass && Abhaas.Util.addClass(r, a.cssClass), Abhaas.Util.isNullOrUndefined(a.html) || (r.innerHTML = a.html), a.backImage && (r.style.backgroundImage = 'url(\"' + a.backImage + '\")'), a.backRepeat && (r.style.backgroundRepeat = a.backRepeat), a.business && c.cellsMarkBusiness && Abhaas.Util.addClass(r, c.t(\"_cell_business\")), a.disabled && Abhaas.Util.addClass(r, c.t(\"_cell_disabled\")), Abhaas.list(a.areas).each(function (e) {\n                (e.start || e.end) && (e.left = c.getPixels(new Abhaas.Date(e.start)).left - i.left, e.width = c.getPixels(new Abhaas.Date(e.end)).left - e.left - i.left);\n              }), Abhaas.Areas.attach(r, l, {\n                \"areas\": a.areas\n              }));\n              var s = H.getCell();\n\n              if (s && s.x === e && s.y === t && Abhaas.Util.addClass(r, c.t(\"_cell_focus\")), this.divCells.appendChild(r), this.elements.cells.push(r), this.G.cells[n] = r, \"function\" == typeof c.onAfterCellRender) {\n                var d = {};\n                d.cell = Abhaas.Util.copyProps(l, {}, [\"x\", \"y\", \"displayY\", \"start\", \"end\", \"resource\"]), d.div = r, c.onAfterCellRender(d);\n              }\n            }\n          }\n        }\n      }, this.Dh = {}, this.oj = function () {\n        c.Zm().each(function (e) {\n          c.oi(e);\n        }), c.Og();\n      }, this.Zm = function () {\n        for (var e = Abhaas.list(), t = this.ch(), i = t.xStart, n = t.xEnd - t.xStart, a = t.yStart, o = t.yEnd - t.yStart, r = 0; r < o; r++) for (var l = a + r, s = 0; s <= n; s++) {\n          var d = i + s;\n\n          if (!this.rowlist[l].hidden && !c.Dh[d + \"_\" + l]) {\n            e.push(l);\n            break;\n          }\n        }\n\n        return e;\n      }, this.Tj = function (e, t) {\n        if (\"function\" == typeof this.onBeforeCellRender) {\n          if (c.beforeCellRenderCaching && c.Dh[e + \"_\" + t]) return;\n          c.Dh[e + \"_\" + t] = !0;\n          var i = c.Oh(e);\n          if (!i) return;\n          var n = c.cells.findXy(e, t)[0],\n              a = {};\n          return a.cell = n, a.getPixels = function (e) {\n            var e = new Abhaas.Date(e);\n            return c.getPixels(e).left - i.left;\n          }, this.onBeforeCellRender(a), Abhaas.Util.copyProps(a.cell, a.cell.properties, c.Xm), a.cell.properties.disabled && (c.Dh.dk = !0), a;\n        }\n      }, this.Ym = function (e, t) {\n        if (t) {\n          for (var i = 0; i < t.length; i++) if (!Abhaas.Util.isNullOrUndefined(e[t[i]])) return !0;\n        } else for (var n in e) if (!Abhaas.Util.isNullOrUndefined(e[n])) return !0;\n\n        return !1;\n      }, this.clearSelection = function () {\n        this.Rg(), M.clear();\n      }, this.cleanSelection = this.clearSelection, this.selectTimeRange = function (e, t, i, n) {\n        e = new Abhaas.Date(e), t = new Abhaas.Date(t);\n        var a = c.ah(i),\n            o = c.Mh(e),\n            r = o.current || o.next;\n        if (!r) throw new Abhaas.Exception(\"Time range selection 'start' out of timeline\");\n        var l = c.Mh(new Abhaas.Date(t).addMilliseconds(-1)),\n            s = l.current || l.previous;\n        if (!s) throw new Abhaas.Exception(\"Time range selection 'end' out of timeline\");\n        var d = {};\n        d.start = {\n          y: a.index,\n          x: Abhaas.indexOf(c.itline, r),\n          \"time\": e\n        }, d.end = {\n          x: Abhaas.indexOf(c.itline, s),\n          \"time\": t\n        }, d.calendar = this, c.ui(d), n || setTimeout(function () {\n          c.qi(d);\n        }, 0);\n      }, this.pi = function () {\n        Abhaas.de(n.movingShadow), n.movingShadow = null, c.ek(), c.$j.clear(), Abhaas.Global.movingLink && (Abhaas.Global.movingLink.clear(), Abhaas.Global.movingLink = null);\n      }, this.Rg = function () {\n        this.divShadow.innerHTML = '<div style=\"position:absolute; left:0px; top:0px; width:0px; height:0px;\"></div>', this.elements.range = [], this.elements.range2 = null, this.ek(), c.rangeHold = null;\n      };\n      var H = {};\n      H.cell = null, H.focusCell = function (e, t) {\n        H.unfocusCell();\n        var i = H.cellDiv(e, t);\n        i && Abhaas.Util.addClass(i, c.t(\"_cell_focus\")), H.cell = {\n          x: e,\n          y: t\n        };\n        var n = c.Si();\n\n        if (n.start.x >= e) {\n          var a = c.itline[e].start;\n          c.scrollTo(a);\n        } else if (n.end.x <= e) {\n          var o = c.itline[e].end;\n          c.scrollTo(o, !1, \"right\");\n        }\n      }, H.unfocusCell = function () {\n        if (H.cell) {\n          var e = H.cellDiv(H.cell.x, H.cell.y);\n          e && Abhaas.Util.removeClass(e, c.t(\"_cell_focus\")), H.cell = null;\n        }\n      }, H.cellDiv = function (e, t) {\n        var i = e + \"_\" + t;\n        return c.G.cells[i];\n      }, H.getCell = function () {\n        return H.cell;\n      }, H.target = function () {\n        var e = c.temp.keyboardTarget;\n\n        switch (e) {\n          case \"component\":\n            return c.nav.top;\n\n          case \"document\":\n            return document;\n        }\n\n        throw new Abhaas.Exception(\"Invalid keyboardTarget value: \" + e);\n      }, H.$m = null, H.activateGrid = function () {\n        var e = H.target();\n        e !== document && c.nav.top.setAttribute(\"tabindex\", \"-1\"), e.addEventListener(\"keyup\", function (e) {\n          if (16 === e.keyCode) {\n            var t = H.$m;\n            H.$m = null, H.timeRangeSelect(t.start.x, t.start.y, t.end.x);\n          }\n        }), e.addEventListener(\"keydown\", function (e) {\n          var t = 37,\n              i = 38,\n              n = 39,\n              a = 40,\n              o = 13;\n          [t, i, n, a].indexOf(e.keyCode) !== -1 && e.preventDefault(), e.shiftKey && !H.$m && (H.$m = {\n            \"calendar\": c,\n            \"start\": {\n              x: H.cell.x,\n              y: H.cell.y\n            }\n          });\n          var r = !H.$m;\n\n          switch (e.keyCode) {\n            case n:\n              H.cell.x < c.itline.length - 1 && H.focusCell(H.cell.x + 1, H.cell.y);\n              break;\n\n            case t:\n              H.cell.x > 0 && H.focusCell(H.cell.x - 1, H.cell.y);\n              break;\n\n            case i:\n              H.cell.y > 0 && r && H.focusCell(H.cell.x, H.cell.y - 1);\n              break;\n\n            case a:\n              H.cell.y < c.rowlist.length - 1 && r && H.focusCell(H.cell.x, H.cell.y + 1);\n              break;\n\n            case o:\n              H.timeRangeSelect(H.cell.x, H.cell.y);\n          }\n\n          e.keyCode !== t && e.keyCode !== n || H.$m && (H.$m.end = {\n            x: H.cell.x,\n            y: H.cell.y\n          }, c.ui(H.$m));\n        });\n      }, H.timeRangeSelect = function (e, t, i) {\n        var n = {};\n        n.start = {\n          y: t,\n          x: e\n        }, n.end = {\n          x: \"undefined\" == typeof i ? e : i\n        }, n.calendar = c, c.rangeHold = n, c.qi(n);\n      }, H.initGrid = function () {\n        H.activateGrid();\n        var e = c.Si();\n        H.focusCell(e.start.x, e.start.y), H.target() !== document && c.nav.top.focus();\n      }, this._m = H, this.Nc = {};\n      var _ = this.Nc;\n      _.clearCache = function () {\n        delete c.G.eventHeight, delete c.G.headerHeight;\n      }, _.locale = function () {\n        return Abhaas.Locale.find(c.locale);\n      }, _.timeFormat = function () {\n        return \"Auto\" !== c.timeFormat ? c.timeFormat : _.locale().timeFormat;\n      }, _.weekStarts = function () {\n        if (\"Auto\" === c.weekStarts) {\n          var e = _.locale();\n\n          return e ? e.weekStarts : 0;\n        }\n\n        return c.weekStarts || 0;\n      }, _.mobile = function () {\n        var e = navigator.userAgent.toLowerCase();\n        return e.indexOf(\"mobile\") !== -1 || e.indexOf(\"android\") != -1;\n      }, _.layout = function () {\n        var e = /MSIE 6/i.test(navigator.userAgent);\n        return \"Auto\" === c.layout ? e ? \"TableBased\" : \"DivBased\" : c.layout;\n      }, _.notifyType = function () {\n        var e;\n        if (\"Immediate\" === c.notifyCommit) e = \"Notify\";else {\n          if (\"Queue\" !== c.notifyCommit) throw \"Invalid notifyCommit value: \" + c.notifyCommit;\n          e = \"Queue\";\n        }\n        return e;\n      }, _.isResourcesView = function () {\n        return \"Days\" !== c.viewType;\n      }, _.useBox = function (e) {\n        return \"Always\" === c.useEventBoxes || \"Never\" !== c.useEventBoxes && e < 60 * c.yj() * 1e3;\n      }, _.eventHeight = function () {\n        if (c.G.eventHeight) return c.G.eventHeight;\n        var e = c.Qd(\"_event_height\").height;\n        return e || (e = c.eventHeight), c.G.eventHeight = e, e;\n      }, _.headerHeight = function () {\n        if (c.G.headerHeight) return c.G.headerHeight;\n        var e = c.Qd(\"_header_height\").height;\n        return e || (e = c.headerHeight), c.G.headerHeight = e, e;\n      }, _.splitterWidth = function () {\n        return c.rowHeaderScrolling ? c.rowHeaderSplitterWidth : 1;\n      }, this.an = {};\n      var R = this.an;\n      R.timeHeader = function (e) {\n        var t = {};\n        t.top = 0, t.height = 0;\n\n        for (var i = _.headerHeight(), n = 0; n <= e; n++) {\n          var a = c.timeHeaders[n];\n          t.top += t.height, t.height = a.height || i;\n        }\n\n        return t;\n      }, this.Zc = function (e, t) {\n        var i = e + \"_\" + t;\n        return this.cellProperties && this.cellProperties[i] ? this.cellProperties[i].backColor : null;\n      }, this.sj = function (e, t) {\n        var i = e + \"_\" + t;\n        if (c.cellConfig) for (var n = 0, a = 0; a < c.resources.length; a++) if (!c.resources[a].hidden) {\n          if (n === t) {\n            t = a;\n            break;\n          }\n\n          n += 1;\n        }\n        if (this.cellProperties || (this.cellProperties = {}), this.cellProperties[i]) return this.cellProperties[i];\n\n        if (this.sg && (this.cellProperties[i] = c.bn(e, t)), !this.cellProperties[i]) {\n          var o = c.rowlist[t],\n              r = o.id,\n              l = o.start.getTime() - c.La().getTime(),\n              s = c.Oh(e),\n              d = s.start.addTime(l),\n              h = s.end.addTime(l),\n              u = {};\n          u.start = d, u.end = h, u.resource = r;\n          var f = {};\n          f.business = c.isBusiness(u), o.cellsDisabled && (c.Dh.dk = !0, f.disabled = !0), this.cellProperties[i] = f;\n        }\n\n        return this.cellProperties[i];\n      }, this.cn = function (e, t, i) {\n        var n = t + \"_\" + i;\n        return this.cellProperties[n] = {}, Abhaas.Util.copyProps(e, this.cellProperties[n], c.Xm), this.cellProperties[n];\n      }, this.bn = function (e, t) {\n        if (!this.cellConfig) return null;\n        var i = this.cellConfig,\n            n = this.cellProperties[e + \"_\" + t];\n        !n && i.vertical && (n = this.cellProperties[e + \"_0\"]), !n && i.horizontal && (n = this.cellProperties[\"0_\" + t]), !n && i[\"default\"] && (n = i[\"default\"]);\n        var a = {};\n        return Abhaas.Util.copyProps(n, a, c.Xm), a;\n      }, this.ka = function () {\n        if (!this.sg && !this.tg && (this.tg = !0, this.cellConfig)) {\n          var e = this.cellConfig;\n          if (e.vertical) for (var t = 0; t < e.x; t++) {\n            var i = this.cellProperties[t + \"_0\"];\n            if (i) for (var n = 1; n < e.y; n++) this.cn(i, t, n);\n          }\n          if (e.horizontal) for (var n = 0; n < e.y; n++) {\n            var i = this.cellProperties[\"0_\" + n];\n            if (i) for (var t = 1; t < e.x; t++) this.cn(i, t, n);\n          }\n          if (e[\"default\"]) for (var i = e[\"default\"], n = 0; n < e.y; n++) for (var t = 0; t < e.x; t++) this.cellProperties[t + \"_\" + n] || this.cn(i, t, n);\n        }\n      }, this.isBusiness = function (e, t) {\n        var i = e.start,\n            n = e.end,\n            a = (n.getTime() - i.getTime()) / 6e4;\n        if (a <= 1440 && !(c.businessWeekends || t || 0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek())) return !1;\n\n        if (a < 720) {\n          var o = i.getHours();\n          if (o += i.getMinutes() / 60, o += i.getSeconds() / 3600, o += i.getMilliseconds() / 36e5, o < this.businessBeginsHour) return !1;\n          if (this.businessEndsHour >= 24) return !0;\n          if (o >= this.businessEndsHour) return !1;\n        }\n\n        return !0;\n      }, this.pc = function () {\n        switch (c.J) {\n          case \"aspnet\":\n            if (!this.T()) throw new Abhaas.Exception(\"ASP.NET WebForms environment required. https://doc.Abhaas.org/common/asp-net-webforms-required/\");\n            break;\n\n          case \"netmvc\":\n            if (!this.backendUrl) throw new Abhaas.Exception(\"Abhaas.Scheduler.backendUrl required. https://doc.Abhaas.org/common/backendurl-required-asp-net-mvc/\");\n            break;\n\n          case \"javaxx\":\n            if (!this.backendUrl) throw new Abhaas.Exception(\"Abhaas.Scheduler.backendUrl required. https://doc.Abhaas.org/common/backendurl-required-java/\");\n        }\n      }, this.ya = function () {\n        \"hidden\" === this.nav.top.style.visibility && (this.nav.top.style.visibility = \"visible\");\n      }, this.sd = function () {\n        var e = c.nav.top;\n        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;\n      }, this.td = function () {\n        var e = c.sd;\n        e() || c.ud || (c.ud = setInterval(function () {\n          e() && (clearInterval(c.ud), c.show(), c.kk());\n        }, 100));\n      }, this.dn = function (e) {\n        \"Parent100Pct\" !== this.heightSpec && (this.heightSpec = \"Fixed\"), this.height = e - (this.ph() + 2), this.ta();\n      }, this.setHeight = this.dn, this.ah = function (e) {\n        return Abhaas.list(D.rowcache[e]).first();\n      }, this.Vd = function () {\n        if (this.id && this.id.tagName) this.nav.top = this.id;else {\n          if (\"string\" != typeof this.id) throw \"Abhaas.Scheduler() constructor requires the target element or its ID as a parameter\";\n          if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw \"Abhaas.Scheduler: The placeholder element not found: '\" + e + \"'.\";\n        }\n      }, this.en = function () {\n        this.Ld(), this.Fg(), this.gi(), this.Jg(), this.xd(), this.Z(), n.register(this), this.ga(this.afterRenderData, !1), this.Jl(), this.Ca(), this.O(\"Init\");\n      }, this.init = function () {\n        return this.pc(), this.gn(), this.hn(), this.td(), this.ul(), this.in(), this;\n      }, this.in = function () {\n        c.temp.keyboard && H.initGrid();\n      }, this.jn = function () {\n        c.multiselect.Ng(c.selectedEvents);\n      }, this.hn = function () {\n        if (this.Vd(), !this.nav.top.dp) {\n          this.ci();\n          if (this.Ud()) return this.en(), this.I = !0, void this.Cg();\n          this.xd(), this.Z(), n.register(this), this.Jl(), this.jn(), c.zoomLevels && c.zoomLevels[c.zoom.active] && c.zoom.setActive(c.zoom.active), this.$b();\n          var angular = c.Jd.scope || c.Vg.enabled;\n          c.scrollToDate ? c.scrollTo(c.scrollToDate) : c.scrollX || c.scrollY ? c.setScroll(c.scrollX, c.scrollY) : angular || c.Ug(), c.scrollToResourceId && (c.scrollToResource(c.scrollToResourceId), c.scrollToResourceId = null);\n\n          var e = function () {\n            c.scrollY && c.setScroll(c.scrollX, c.scrollY);\n          };\n\n          window.setTimeout(e, 200), this.messageHTML && window.setTimeout(function () {\n            c.message(c.messageHTML);\n          }, 0), this.Ca(), this.Cg(), this.ga(this.afterRenderData, !1), c.initEventEnabled && setTimeout(function () {\n            c.O(\"Init\");\n          }), this.Xd(), this.I = !0, this.Ui = !0;\n          var t = c.Xg;\n          t ? c.scrollTo(t.date, t.animated, t.position) : c.Ug();\n        }\n      }, this.gn = function () {\n        c.z() && delete c.infinite;\n      }, this.Yd = null, this.Od = function (e) {\n        if (e) {\n          var t = {\n            \"events\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? c.events.list = e.list : c.events.list = e);\n              },\n              \"postInit\": function () {}\n            },\n            \"links\": {\n              \"preInit\": function () {\n                var e = this.data;\n                e && (Abhaas.isArray(e.list) ? c.links.list = e.list : c.links.list = e);\n              },\n              \"postInit\": function () {}\n            },\n            \"scrollTo\": {\n              \"preInit\": function () {},\n              \"postInit\": function () {\n                this.data && c.Wg(this.data, e.scrollToAnimated, e.scrollToPosition);\n              }\n            },\n            \"scrollX\": {\n              \"postInit\": function () {\n                this.data && c.$g(this.data);\n              }\n            },\n            \"scrollY\": {\n              \"postInit\": function () {\n                this.data && c.mh(this.data);\n              }\n            },\n            \"zoom\": {\n              \"preInit\": function () {\n                var e = this.data,\n                    t = e !== c.zoom.active,\n                    i = c.zoom.kg();\n                c.zoom.Wh(e, i);\n                t ? this.date = i : this.date = null;\n              },\n              \"postInit\": function () {\n                this.date && c.Wg(this.date, !1, c.zoomPosition);\n              }\n            }\n          };\n          c.Yd = t, c.Vg.scrollToRequested && (t.scrollTo.data = c.Vg.scrollToRequested, c.Vg.scrollToRequested = null), c.Vg.scrollXRequested && (t.scrollX.data = c.Vg.scrollXRequested, c.Vg.scrollXRequested = null), c.Vg.scrollYRequested && (t.scrollY.data = c.Vg.scrollYRequested, c.Vg.scrollYRequested = null);\n\n          for (var i in e) t[i] || (c[i] = e[i]);\n\n          for (var i in e) if (t[i]) {\n            var n = t[i];\n            n.data = e[i], n.preInit && n.preInit();\n          }\n        }\n      }, this.Xd = function () {\n        var e = c.Yd;\n\n        for (var t in e) {\n          var i = e[t];\n          i.postInit && i.postInit();\n        }\n\n        c.Yd = {};\n      }, this.diag = function () {\n        var e = {};\n        return e.dataEvents = c.events.list && c.events.list.length, e.dataRows = c.rowlist && c.rowlist.length, e.dataTimeline = c.itline && c.itline.length, e.dataCells = e.dataTimeline * e.dataRows, e.renderedEvents = c.elements.events.length, e.renderedCells = c.elements.cells.length, e.renderedRows = c.divResScroll.firstChild.childNodes.length - 1, e.domEvents = c.divEvents.getElementsByTagName(\"*\").length, e.domCells = c.divCells.getElementsByTagName(\"*\").length, e.domRows = c.divResScroll.getElementsByTagName(\"*\").length, e;\n      }, this.temp = {}, this.temp.getPosition = function () {\n        var e = Math.floor(c.coords.x / c.cellWidth),\n            t = c.Ri(c.coords.y).i;\n\n        if (t < c.rowlist.length) {\n          var i = {};\n          return i.start = c.itline[e].start, i.end = c.itline[e].end, i.resource = c.rowlist[t].id, i;\n        }\n\n        return null;\n      }, this.temp.keyboard = !1, this.temp.keyboardTarget = \"document\", this.temp.allowDuplicateEventIds = !1, this.internal = {}, this.internal.initialized = function () {\n        return c.I;\n      }, this.internal.dragInProgress = this.lm, this.internal.startMoving = this.Zl, this.internal.invokeEvent = this.$a, this.internal.eventMenuClick = this.kb, this.internal.timeRangeMenuClick = this.lb, this.internal.resourceHeaderMenuClick = this.wi, this.internal.linkMenuClick = this.vi, this.internal.bubbleCallBack = this.ib, this.internal.findEventDiv = this.Id, this.internal.rowtools = this.Ei, this.internal.getNodeChildren = this.ea, this.internal.callback = function () {\n        c.O.apply(c, arguments);\n      }, this.internal.createRowObject = this.yi, this.internal.restools = this.Wk, this.internal.gantt = null, this.internal.adjustEndIn = c.lf, this.internal.adjustEndNormalize = c.Nf, this.internal.touch = c.lc, this.internal.cssNames = c._l, this.internal.enableCellStacking = function (e) {\n        c.ug = !0, c.vg = e;\n      }, this.internal.deleteDragSource = function () {\n        c.gb();\n      }, this.internal.skipUpdate = c.Vg.skipUpdate, this.internal.skipped = c.Vg.skipped, this.internal.loadOptions = c.Od, this.internal.postInit = c.Xd, this.internal.enableAngular2 = function () {\n        c.Vg.enabled = !0;\n      }, this.internal.enableReact = function (e, t) {\n        c.pj.react = e, c.pj.reactDOM = t;\n      }, this.internal.reactRefs = function () {\n        return Abhaas.Util.copyProps(c.pj, {}, [\"react\", \"reactDOM\"]);\n      }, this.Init = this.init, this.Od(o);\n    }, o = \"2019.3.4000\" === new Abhaas.Scheduler().v, Abhaas.Row = function (e, t) {\n      if (!e) throw \"Now row object supplied when creating Abhaas.Row\";\n      if (!t) throw \"No parent control supplied when creating Abhaas.Row\";\n      var i = Abhaas.indexOf(t.rowlist, e);\n      this.kn = {};\n      var n = this.kn;\n      n.id = e.id, n.name = e.name, n.data = e.resource, n.tags = e.tags;\n      var a = this;\n      a.isRow = !0, a.menuType = \"resource\", a.start = e.start, a.name = e.name, a.value = e.id, a.id = e.id, a.tags = e.tags, a.bubbleHtml = e.bubbleHtml, a.index = i, a.displayY = e.displayY, a.level = e.level, a.calendar = t, a.data = e.resource, a.ln = e, a.$ = {}, a.$.row = e, a.toJSON = function (e) {\n        var t = {};\n        return t.start = this.start, t.name = this.name, t.value = this.value, t.id = this.id, t.index = this.index, t;\n      }, a.parent = function () {\n        return a.ln.cl ? t.yi(a.ln.cl) : null;\n      }, a.children = function () {\n        var e = Abhaas.list(a.$.row.children).map(function (e) {\n          return t.yi(t.rowlist[e]);\n        });\n        return e.add = function (e) {\n          var t = a.$.row.resource;\n          t.children || (t.children = []), t.children.push(e);\n        }, e;\n      }, a.loaded = function () {\n        return a.ln.loaded;\n      }, Object.defineProperty(a, \"hiddenUsingFilter\", {\n        get: function () {\n          return a.ln.bl;\n        },\n        set: function (e) {\n          a.ln.bl = e, e || (a.ln.hidden = !a.ln.dl());\n        }\n      }), a.cells = {}, a.cells.all = function () {\n        for (var e = [], i = t.itline.length, n = a.index, o = 0; o < i; o++) {\n          var r = t.cells.findXy(o, n);\n          e.push(r[0]);\n        }\n\n        return t.tj(e);\n      }, a.cells.forRange = function (e, i) {\n        var n = a,\n            o = n.start.getTime() - t.La().getTime();\n        e = new Abhaas.Date(e), i = new Abhaas.Date(i);\n        var r = t.La().addTime(o),\n            l = t.Gh().addTime(o);\n        e < r && (e = r), i > l && (i = l);\n        var s = t.cells.find(e, a.id)[0],\n            d = t.cells.find(i.addTime(-1), a.id)[0];\n        if (!s) return null;\n        if (!d) return null;\n        if (s.y !== d.y) return null;\n\n        for (var c = s.y, h = [], u = s.x; u <= d.x; u++) h.push(t.cells.qj(u, c));\n\n        return t.tj(h);\n      }, a.cells.totalDuration = function () {\n        return new Abhaas.Duration(a.cells.all().map(function (e) {\n          return e.end.getTime() - e.start.getTime();\n        }).reduce(function (e, t) {\n          return e + t;\n        }, 0));\n      }, a.events = {}, a.events.all = function () {\n        for (var e = Abhaas.list(), t = 0; t < a.ln.events.length; t++) e.push(a.ln.events[t]);\n\n        return e;\n      }, a.events.isEmpty = function () {\n        return 0 === a.ln.events.length;\n      }, a.events.forRange = function (e, t) {\n        return a.ln.events.forRange(e, t);\n      }, a.events.totalDuration = function () {\n        var e = 0;\n        return a.events.all().each(function (t) {\n          e += t.part.end.getTime() - t.part.start.getTime();\n        }), new Abhaas.Duration(e);\n      }, a.groups = {}, a.groups.collapseAll = function () {\n        for (var e = 0; e < a.ln.blocks.length; e++) {\n          new o(a.ln.blocks[e]).mn();\n        }\n\n        t.Uh(), t.Vh(a.index), t.ta();\n      }, a.groups.expandAll = function () {\n        for (var e = 0; e < a.ln.blocks.length; e++) {\n          new o(a.ln.blocks[e]).nn();\n        }\n\n        t.Uh(), t.Vh(a.index), t.ta();\n      }, a.groups.expanded = function () {\n        for (var e = [], i = 0; i < a.ln.blocks.length; i++) {\n          var n = a.ln.blocks[i];\n          n.expanded && n.lines.length > t.groupConcurrentEventsLimit && e.push(new o(n));\n        }\n\n        return Abhaas.list(e);\n      }, a.groups.collapsed = function () {\n        for (var e = [], t = 0; t < a.ln.blocks.length; t++) {\n          var i = a.ln.blocks[t];\n          i.expanded || e.push(new o(i));\n        }\n\n        return Abhaas.list(e);\n      }, a.groups.all = function () {\n        for (var e = [], t = 0; t < a.ln.blocks.length; t++) {\n          var i = a.ln.blocks[t];\n          e.push(new o(i));\n        }\n\n        return Abhaas.list(e);\n      }, a.events.collapseGroups = a.groups.collapseAll, a.events.expandGroups = a.groups.expandAll, a.column = function (e) {\n        return new r(a, e);\n      }, a.toggle = function () {\n        t.Jj(a.index);\n      }, a.collapse = function () {\n        a.$.row.expanded && a.toggle();\n      }, a.expand = function () {\n        a.$.row.expanded || a.toggle();\n      }, a.remove = function () {\n        t.rows.remove(a);\n      }, a.edit = function () {\n        t.rows.edit(a);\n      }, a.addClass = function (e) {\n        var i = a,\n            n = t.divHeader,\n            i = n.rows[i.index];\n\n        if (i) {\n          var o = Abhaas.list(i.cells).map(function (e) {\n            return e.cellDiv;\n          });\n          Abhaas.Util.addClass(o, e);\n        }\n\n        a.$.row.cssClass = Abhaas.Util.addClassToString(a.$.row.cssClass, e), a.data.cssClass = e;\n      }, a.removeClass = function (e) {\n        var i = a,\n            n = t.divHeader,\n            i = n.rows[i.index];\n\n        if (i) {\n          var o = Abhaas.list(i.cells).map(function (e) {\n            return e.cellDiv;\n          });\n          Abhaas.Util.removeClass(o, e);\n        }\n\n        a.$.row.cssClass = Abhaas.Util.removeClassFromString(a.$.row.cssClass, e), a.data.cssClass = Abhaas.Util.removeClassFromString(a.data.cssClass, e);\n      };\n\n      var o = function (e) {\n        var i = function (e) {\n          for (var i = 0; i < t.elements.events.length; i++) {\n            var n = t.elements.events[i];\n            if (n.event === e) return n;\n          }\n\n          return null;\n        };\n\n        this.nn = function () {\n          e.expanded = !0;\n          var n = t.Hk;\n          Abhaas.list(e.events).each(function (e) {\n            n.push(e.id());\n          });\n          var a = i(e);\n\n          if (a) {\n            t.Ll(a);\n            var o = Abhaas.indexOf(t.elements.events, a);\n            o !== -1 && t.elements.events.splice(o, 1);\n          }\n        }, this.expand = function () {\n          this.nn(), t.Uh(), t.Vh(e.row.index), t.ta();\n        }, this.mn = function () {\n          if (e.lines.length > t.groupConcurrentEventsLimit) {\n            e.expanded = !1;\n            var i = Abhaas.list(e.events).map(function (e) {\n              return e.id();\n            });\n            t.Hk = t.Hk.filter(function (e) {\n              return !Abhaas.contains(i, e);\n            });\n          }\n        }, this.collapse = function () {\n          this.mn(), t.Uh(), t.Vh(e.row.index), t.ta();\n        };\n      },\n          r = function (e, t) {\n        this.html = function (i) {\n          var n = e.calendar.divHeader,\n              a = n.rows[e.index].cells[t],\n              o = a.textDiv;\n          return \"undefined\" == typeof i ? o.innerHTML : void (o.innerHTML = i);\n        };\n      };\n    }, n.moving = null, n.movingEvent = null, n.originalMouse = null, n.resizing = null, n.resizingEvent = null, n.preventEventClick = !1, n.globalHandlers = !1, n.timeRangeTimeout = null, n.selectedCells = null, n.dragStart = function (e, t, i, a) {\n      Abhaas.us(e);\n      var o = n.drag = {};\n      return o.element = e, o.duration = t, o.text = a, o.id = i, o.data = {\n        \"id\": i,\n        \"text\": a,\n        \"duration\": t,\n        \"externalHtml\": a\n      }, !1;\n    }, Abhaas.Scheduler.startDragging = function (e) {\n      var e = e || {},\n          t = e.element,\n          i = e.keepElement ? null : t;\n      Abhaas.us(t);\n      var a = n.drag = {};\n      return a.element = i, a.id = e.id, a.duration = e.duration || 60, a.text = e.text || \"\", a.data = e, !1;\n    }, Abhaas.Scheduler.makeDraggable = function (e) {\n      function t() {\n        var t = e.duration || 60;\n        t instanceof Abhaas.Duration && (t = t.totalSeconds());\n        var i = n.drag = {};\n        i.element = a, i.id = e.id, i.duration = t, i.text = e.text || \"\", i.data = e;\n      }\n\n      e = e || {};\n      var i = e.element,\n          a = e.keepElement ? null : e.remove || i;\n      if (!i) throw new Abhaas.Exception(\"makeDraggable(options): options.element must be specified\");\n      Abhaas.us(i), Abhaas.re(i, \"mousedown\", function (e) {\n        if (Abhaas.Util.mouseButton(e).left) {\n          t();\n          var i = e.target || e.srcElement;\n\n          if (i.tagName) {\n            var n = i.tagName.toLowerCase();\n            if (\"textarea\" === n || \"select\" === n || \"input\" === n) return !1;\n          }\n\n          return e.preventDefault && e.preventDefault(), !1;\n        }\n      }), i.ontouchstart = function (e) {\n        window.setTimeout(function () {\n          t(), n.gTouchMove(e), e.preventDefault();\n        }, 0), e.preventDefault();\n      };\n    }, Abhaas.Scheduler.stopDragging = function () {\n      if (n.drag && n.drag.schedulerSourceEvent) {\n        var e = n.drag.schedulerSourceEvent,\n            t = e.event.calendar;\n        Abhaas.Util.removeClass(e, t.t(i._l.eventMovingSource));\n      }\n\n      if (n.dragStop(), n.resizing && (Abhaas.de(n.resizingShadow), n.resizing = null, n.resizingEvent = null, n.resizingShadow = null), n.moving) {\n        var i = n.movingEvent.calendar;\n        Abhaas.Util.removeClass(n.moving, i.t(i._l.eventMovingSource)), Abhaas.de(n.movingShadow), n.moving = null, n.movingEvent = null, n.movingShadow = null;\n      }\n\n      if (n.range) {\n        var i = n.range.calendar;\n        i.clearSelection(), n.range = null;\n      }\n\n      document.body.style.cursor = \"\", Abhaas.list(n.registered).each(function (e) {\n        e.Bl(), e.ek(), e.Ei.resetMoving();\n      });\n    }, n.dragStop = function () {\n      n.gShadow && (document.body.removeChild(n.gShadow), n.gShadow = null), n.drag = null;\n    }, n.register = function (e) {\n      n.registered || (n.registered = Abhaas.list(), n.registered.out = function () {\n        n.registered.forEach(function (e) {\n          e.aa();\n        });\n      });\n\n      for (var t = 0; t < n.registered.length; t++) if (n.registered[t] === e) return;\n\n      n.registered.push(e);\n    }, n.unregister = function (e) {\n      var t = n.registered;\n\n      if (t) {\n        var i = Abhaas.indexOf(t, e);\n        i !== -1 && t.splice(i, 1), 0 === t.length && (t = null);\n      }\n\n      t || (Abhaas.ue(document, \"mousemove\", n.gMouseMove), Abhaas.ue(document, \"mouseup\", n.gMouseUp), Abhaas.ue(document, \"mousedown\", n.gMouseDown), Abhaas.ue(document, \"touchmove\", n.gTouchMove), Abhaas.ue(document, \"touchend\", n.gTouchEnd), Abhaas.ue(window, \"keyup\", n.gKeyUp), n.globalHandlers = !1);\n    }, n.gTouchMove = function (i) {\n      if (n.resizing) {\n        var a = n.resizing.event.calendar;\n        a.coords = a.lc.relativeCoords(i), a.lc.updateResizing(), i.preventDefault();\n      }\n\n      if (n.moving && !n.drag) {\n        var a = n.movingEvent.calendar;\n        a.coords = a.lc.relativeCoords(i), a.lc.updateMoving(), i.preventDefault(), function () {\n          if (a.dragOutAllowed) {\n            var t = e(i);\n\n            if (!t || t !== a) {\n              var o = n.movingEvent;\n              n.drag = {};\n              var r = n.drag;\n              r.id = o.id(), r.text = o.text(), r.schedulerSourceEvent = n.moving, r.element = null, r.duration = (o.rawend().getTime() - o.start().getTime()) / 1e3, r.text = o.text(), r.id = o.id(), r.event = Abhaas.Util.copyProps(o, new Abhaas.Event()), a.ek(), Abhaas.de(n.movingShadow), n.movingShadow.calendar = null, n.movingShadow = null, n.moveDragStart = null, n.registered.out();\n            }\n          }\n        }();\n      }\n\n      if (n.drag) {\n        i.preventDefault();\n        var o = t(i),\n            a = e(i);\n\n        if (a) {\n          if (n.gShadow && document.body.removeChild(n.gShadow), n.gShadow = null, a.coords = a.lc.relativeCoords(i), !n.movingShadow && a.rowlist.length > 0) {\n            if (!n.moving) {\n              n.moving = {};\n              var r = n.drag.event;\n\n              if (!r) {\n                var l = a.itline[0].start,\n                    i = {\n                  \"id\": n.drag.id,\n                  \"start\": l,\n                  \"end\": l.addSeconds(n.drag.duration),\n                  \"text\": n.drag.text\n                },\n                    s = n.drag.data;\n\n                if (s) {\n                  var d = [\"duration\", \"element\", \"remove\", \"id\", \"text\"];\n\n                  for (var c in s) Abhaas.contains(d, c) || (i[c] = s[c]);\n                }\n\n                r = new Abhaas.Event(i), r.calendar = a, r.part.duration = 1e3 * n.drag.duration;\n              }\n\n              r.part.external = !0;\n              var h = n.drag.schedulerSourceEvent;\n              h && h.event && h.event.calendar === a && (r.part.external = !1), n.movingEvent = r;\n            }\n\n            n.movingShadow = a.Ea(n.movingEvent);\n          }\n\n          n.moving && a.lc.updateMoving();\n        } else {\n          Abhaas.de(n.movingShadow);\n          var u = n.moving;\n          n.moving = null, n.movingEvent = null, n.movingShadow = null, n.gShadow || (n.gShadow = n.createGShadow(n.drag.data), n.gShadow.source = u);\n          var f = n.gShadow;\n          f.style.left = o.x + \"px\", f.style.top = o.y + \"px\", n.registered.out();\n        }\n      }\n    }, n.gTouchEnd = function (e) {\n      n.gMouseUp(e);\n    }, n.gMouseMove = function (e) {\n      if (\"undefined\" != typeof n && !(Abhaas.Global.touch.active || Abhaas.Global.touch.start || (e = e || window.event, e.insideMainD || e.srcElement && e.srcElement.inside))) {\n        var t = Abhaas.mc(e);\n\n        if (n.drag) {\n          if (!n.drag.startFired) {\n            var i = n.drag.data || {},\n                a = i.onDragStart,\n                o = !1;\n\n            if (\"function\" == typeof a) {\n              var r = {};\n              r.data = i, r.preventDefault = function () {\n                r.preventDefault.value = !0;\n              }, a(r), o = r.preventDefault.value;\n            }\n\n            if (n.drag.startFired = !0, o) return void (n.drag = null);\n          }\n\n          document.body.style.cursor = \"move\", n.gShadow || (n.gShadow = n.createGShadow(n.drag.data));\n          var l = n.gShadow;\n\n          if (l.style.left = t.x + \"px\", l.style.top = t.y + \"px\", n.moving = null, n.movingEvent = null, n.movingShadow) {\n            var s = n.movingShadow.calendar;\n            s && s.ek(), n.movingShadow.calendar = null, Abhaas.de(n.movingShadow), n.movingShadow = null;\n          }\n        } else if (n.moving && n.movingEvent && n.movingEvent.calendar.dragOutAllowed && !n.drag) {\n          var s = n.movingEvent.calendar,\n              e = n.movingEvent;\n          document.body.style.cursor = \"move\", n.gShadow || (n.gShadow = n.createGShadow(e.data), n.gShadow.source = n.moving);\n          var l = n.gShadow;\n          l.style.left = t.x + \"px\", l.style.top = t.y + \"px\", n.drag = {};\n          var d = n.drag;\n          d.schedulerSourceEvent = n.moving, d.element = null, d.duration = (e.rawend().getTime() - e.start().getTime()) / 1e3, d.text = e.text(), d.id = e.value(), d.event = Abhaas.Util.copyProps(e, new Abhaas.Event()), s.ek(), Abhaas.de(n.movingShadow), n.movingShadow.calendar = null, n.movingShadow = null;\n        }\n\n        n.registered.out();\n      }\n    }, n.gUnload = function (e) {\n      if (n.registered) for (var t = 0; t < n.registered.length; t++) {\n        var i = n.registered[t];\n        n.unregister(i);\n      }\n    }, n.gMouseDown = function (e) {\n      n.editing && n.editing.blur();\n    }, n.gKeyUp = function (e) {\n      var e = e || window.event;\n      17 === e.keyCode && n.rangeCalendar && n.rangeCalendar.Bm.dispatch();\n    }, n.gMouseUp = function (e) {\n      if (Abhaas.list(n.registered).each(function (e) {\n        e.Bl(), e.Nh = {};\n      }), n.resizing) {\n        var t = function () {\n          var e = n.resizingEvent,\n              t = e.calendar;\n          document.body.style.cursor = \"\", n.resizing = null, n.resizingEvent = null, Abhaas.de(n.resizingShadow), n.resizingShadow = null, t.Gm(), t && (t.jm = null);\n        };\n\n        if (setTimeout(function () {\n          n.preventEventClick = !1;\n        }), !n.resizingShadow) return void t();\n        var i = n.resizingEvent,\n            o = i.calendar,\n            r = n.resizingShadow.finalStart,\n            d = n.resizingShadow.finalEnd,\n            c = n.resizingShadow.overlapping,\n            h = !n.resizingShadow.allowed;\n        o.ek(), o.Wj.clear();\n        var u = \"left\" === n.resizing.dpBorder ? \"start\" : \"end\";\n        if (t(), c || h) return;\n        o.cb(i, r, d, u);\n      } else if (n.movingEvent) {\n        var t = function () {\n          Abhaas.Global.movingAreaData = null;\n          var e = n.movingShadow && n.movingShadow.calendar;\n          n.movingShadow && (Abhaas.de(n.movingShadow), n.movingShadow.calendar = null), document.body.style.cursor = \"\", n.moving = null, n.movingEvent = null, n.drag = null, e.Gm(), e && (e.dd = null);\n        };\n\n        if (!n.movingShadow) return void t();\n        var f = n.drag && n.drag.schedulerSourceEvent,\n            i = f ? f.event : n.movingEvent,\n            o = n.movingShadow.calendar;\n        if (!o) return void t();\n\n        if (i.calendar && i.calendar !== o) {\n          var v = i.calendar,\n              p = i,\n              g = Abhaas.Util.copyProps(i.data);\n          i = new Abhaas.Event(g, v), i.part = {\n            \"external\": !0,\n            \"duration\": v.Aj(p)\n          };\n        }\n\n        if (Abhaas.Util.removeClass(n.moving, o.t(o._l.eventMovingSource)), function () {\n          if (n.drag && n.drag.schedulerSourceEvent) {\n            var e = n.drag.schedulerSourceEvent;\n\n            if (e && e.event) {\n              var t = e.event.calendar;\n              Abhaas.Util.removeClass(e, t.t(o._l.eventMovingSource));\n            }\n          }\n        }(), !n.movingShadow.row) return void t();\n        clearTimeout(o.Hj.timeout);\n        var r = n.movingShadow.start,\n            d = n.movingShadow.end,\n            m = \"Days\" !== o.viewType ? n.movingShadow.row.id : null,\n            y = i.part.external,\n            b = n.movingShadow.line,\n            c = n.movingShadow.overlapping,\n            h = !n.movingShadow.allowed;\n        if (n.drag && (o.todo || (o.todo = {}), o.todo.del = n.drag.element, n.drag = null), n.movingShadow.calendar = null, document.body.style.cursor = \"\", n.moving = null, n.movingEvent = null, c || h || o.$j.forbidden || o.$j.invalid) return void o.pi();\n        var e = e || window.event;\n        o.fb(i, r, d, m, y, e, b), Abhaas.Global.movingAreaData = null;\n      } else if (n.range) {\n        e = e || window.event;\n\n        var w = Abhaas.Util.mouseButton(e),\n            D = n.range,\n            o = D.calendar,\n            t = function () {\n          o.Gm();\n        };\n\n        o.zm = null;\n        var k = e.ctrlKey || e.metaKey;\n        if (o.allowMultiRange) return o.elements.range2.overlapping ? (Abhaas.de(o.elements.range2), o.elements.range2 = null, o.ek()) : o.Bm.add(D), n.range = null, k || o.Bm.dispatch(), void t();\n        if (n.timeRangeTimeout) return clearTimeout(n.timeRangeTimeout), n.timeRangeTimeout = null, void t();\n        o.rangeHold = D, n.range = null;\n\n        var P = function (e) {\n          return function () {\n            n.timeRangeTimeout = null;\n            var t = o.elements.range2;\n            return t && t.overlapping ? void o.clearSelection() : (o.qi(e), void (\"Hold\" !== o.timeRangeSelectedHandling && \"HoldForever\" !== o.timeRangeSelectedHandling ? a() : o.rangeHold = e));\n          };\n        },\n            x = o.Am(D);\n\n        if (t(), !w.left) return void (n.timeRangeTimeout = null);\n\n        if (D.moved || \"Disabled\" === o.timeRangeDoubleClickHandling) {\n          P(x)();\n          var e = e || window.event;\n          return e.cancelBubble = !0, !1;\n        }\n\n        n.timeRangeTimeout = setTimeout(P(x), o.doubleClickTimeout);\n      } else if (l.row) {\n        var o = l.calendar;\n        o && o.Sk();\n      } else if (s.source) {\n        var o = s.calendar;\n        o.Zi.clearShadow(), o.Zi.hideLinkpoints(), s.source = null, s.calendar = null;\n      } else if (n.splitting) {\n        var C = n.splitting;\n        C.cleanup(), n.splitting = null;\n      } else if (n.rectangleSelect) {\n        var S = n.rectangleSelect,\n            o = S.calendar;\n        if (!S.moved) return n.rectangleSelect = null, void (o.hm(o.coords) || o.Cm(e));\n\n        var E = S.x,\n            A = S.y,\n            T = S.width,\n            M = S.height,\n            H = !1,\n            _ = o.gh.eventsInRectangle(E, A, T, M).map(function (e) {\n          return e.event;\n        });\n\n        if (\"function\" == typeof o.onRectangleEventSelect) {\n          var R = o.Ri(A).i,\n              B = o.Ri(A + M).i,\n              N = {\n            \"start\": {\n              \"y\": R\n            },\n            \"end\": {\n              \"y\": B\n            }\n          },\n              U = o.Ni(N),\n              L = {};\n          if (L.events = _, L.append = !1, L.start = o.getDate(E, !0), L.end = o.getDate(E + T, !0), L.resources = U, L.preventDefault = function () {\n            this.preventDefault.value = !0;\n          }, o.onRectangleEventSelect(L), L.preventDefault.value) return o.sm.clear(), void (n.rectangleSelect = null);\n          H = L.append;\n        }\n\n        if (H || o.multiselect.clear(!0), _.each(function (e) {\n          o.multiselect.add(e, !0);\n        }), o.multiselect.redraw(), setTimeout(function () {\n          o.sm.clear(), n.rectangleSelect = null;\n        }, 0), \"function\" == typeof o.onRectangleEventSelected) {\n          var L = {};\n          L.events = _, o.onRectangleEventSelected(L);\n        }\n      }\n\n      if (n.drag && (n.drag.event && n.drag.event.part && delete n.drag.event.part.external, n.drag = null, document.body.style.cursor = \"\"), n.gShadow) {\n        if (n.gShadow.source) {\n          var o = n.gShadow.source.event.calendar;\n          Abhaas.Util.removeClass(n.gShadow.source, o.t(o._l.eventMovingSource));\n        }\n\n        document.body.removeChild(n.gShadow), n.gShadow = null;\n      }\n\n      n.moveOffsetX = null, n.moveDragStart = null;\n    }, n.createGShadow = function (e) {\n      var e = e || {},\n          t = document.createElement(\"div\");\n      return t.setAttribute(\"unselectable\", \"on\"), t.style.position = \"absolute\", t.style.width = \"100px\", t.style.height = \"20px\", t.style.zIndex = 101, t.style.pointerEvents = \"none\", t.style.backgroundColor = \"#aaaaaa\", t.style.opacity = .5, t.style.filter = \"alpha(opacity=50)\", t.className = e.externalCssClass, e.externalHtml && (t.innerHTML = e.externalHtml), document.body.appendChild(t), t;\n    };\n    var l = {};\n    Abhaas.Global.rowmoving = l;\n    var s = {};\n    Abhaas.Global.linking = s, \"undefined\" != typeof jQuery && !function (e) {\n      e.fn.AbhaasScheduler = function (e) {\n        var t = null,\n            i = this.each(function () {\n          if (!this.Abhaas) {\n            var i = new Abhaas.Scheduler(this.id || this, e);\n            i.init(), this.Abhaas = i, t || (t = i);\n          }\n        });\n        return 1 === this.length ? t : i;\n      };\n    }(jQuery), function () {\n      var e = Abhaas.am();\n      e && e.directive(\"AbhaasScheduler\", [\"$parse\", function (e) {\n        return {\n          \"restrict\": \"E\",\n          \"template\": \"<div id='{{id}}'></div>\",\n          \"compile\": function (t, i) {\n            return t[0].removeAttribute(\"id\"), t[0].innerHTML = this[\"template\"].replace(\"{{id}}\", i[\"id\"]), function (t, i, n) {\n              var a = new Abhaas.Scheduler(i[0].firstChild);\n              a.Jd.scope = t;\n              var o = n[\"id\"];\n              o && (t[o] = a);\n              var r = n[\"publishAs\"];\n\n              if (r) {\n                (0, e(r).assign)(t, a);\n              }\n\n              for (var l in n) if (0 === l.indexOf(\"on\")) {\n                var s = Abhaas.Util.shouldApply(l);\n                s ? !function (i) {\n                  a[i] = function (a) {\n                    var o = e(n[i]);\n                    Abhaas.Util.safeApply(t, function () {\n                      o(t, {\n                        \"args\": a\n                      });\n                    });\n                  };\n                }(l) : !function (i) {\n                  a[i] = function (a) {\n                    e(n[i])(t, {\n                      \"args\": a\n                    });\n                  };\n                }(l);\n              }\n\n              var d = t[\"$watch\"],\n                  c = n[\"config\"] || n[\"AbhaasConfig\"],\n                  h = n[\"events\"] || n[\"AbhaasEvents\"];\n              c || a.init(), d.call(t, c, function (e, t) {\n                a.Od(e), a.I ? (a.update(), a.Xd()) : a.init();\n              }, !0), h && d.call(t, h, function (e) {\n                a.events.list = e, a.$b({\n                  \"eventsOnly\": !0\n                });\n              }, !0), t.$on(\"$destroy\", function () {\n                a.dispose();\n              });\n            };\n          }\n        };\n      }]);\n    }(), \"undefined\" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();\n  }\n}(), \"undefined\" == typeof Abhaas) var Abhaas = {};\n\"undefined\" == typeof Abhaas.Global && (Abhaas.Global = {}), function () {\n  \"undefined\" == typeof Abhaas.Year && (Abhaas.Year = function (e, t) {\n    this.v = \"2019.3.4000\";\n    this.startDate = new Abhaas.Date(), this.cssOnly = !0, this.cssClassPrefix = null, this.columns = 4, this.cellWidth = 20, this.showWeekNumbers = !1, this.on = [], this.Of = function () {\n      this.root.dp = this, this.Ie = new Abhaas.Date(this.startDate.toString(\"yyyy-01-01\", \"en-us\"));\n    }, this.t = function (e) {\n      return this.cssClassPrefix ? this.cssClassPrefix + e : \"\";\n    }, this.Pf = function () {\n      return this.showWeekNumbers ? this.cellWidth : 0;\n    }, this.pn = function () {\n      this.on = [];\n      var e = this.columns,\n          t = 12 / e;\n      this.root.className = this.t(\"_main\"), this.root.style.width = e * (7 * this.cellWidth + this.Pf()) + \"px\";\n\n      for (var i = 0; i < t; i++) {\n        for (var n = 0; n < e; n++) {\n          var a = i * e + n,\n              o = o + \"_nav_\" + a,\n              r = document.createElement(\"div\");\n          r.id = o, r.style.float = \"left\", this.root.appendChild(r);\n          var l = new Abhaas.Navigator(o);\n          l.startDate = this.Ie.addMonths(a), l.cssOnly = this.cssOnly, l.cssClassPrefix = this.cssClassPrefix, l.cellWidth = this.cellWidth, l.showWeekNumbers = this.showWeekNumbers, l.internal.showLinks = {}, l.selectMode = \"none\", l.timeRangeSelectedHandling = \"JavaScript\", l.onTimeRangeSelected = this.qn, l.init(), l.root.className = \"\", this.on.push(l);\n        }\n\n        var s = document.createElement(\"div\");\n        s.style.clear = \"left\", this.root.appendChild(s);\n      }\n    }, this.qn = function (e) {\n      alert(\"clicked: \" + e.day + \"ab\");\n    }, this.init = function () {\n      if (this.root = document.getElementById(e), !this.root.dp) return this.Of(), this.pn(), this;\n    };\n  });\n}();\n!function () {\n  var t = require(\"react\"),\n      n = require(\"react-dom\"),\n      o = require(\"create-react-class\"),\n      i = o({\n    getInitialState: function () {\n      return {};\n    },\n    componentDidMount: function () {\n      this.control = new Abhaas.Scheduler(n.findDOMNode(this), this.props), this.control.internal.enableReact(t, n), this.control.init();\n    },\n    componentWillUnmount: function () {\n      this.control && this.control.dispose();\n    },\n    componentDidUpdate: function (t, n, o) {\n      this.control && this.control.update(this.props);\n    },\n    render: function () {\n      return t.createElement(\"div\");\n    }\n  }),\n      e = o({\n    componentDidMount: function () {\n      this.control = new Abhaas.Month(n.findDOMNode(this), this.props).init();\n    },\n    componentWillUnmount: function () {\n      this.control && this.control.dispose();\n    },\n    componentDidUpdate: function (t, n, o) {\n      this.control && this.control.update(this.props);\n    },\n    render: function () {\n      return t.createElement(\"div\");\n    }\n  }),\n      r = o({\n    componentDidMount: function () {\n      this.control = new Abhaas.Calendar(n.findDOMNode(this), this.props).init();\n    },\n    componentWillUnmount: function () {\n      this.control && this.control.dispose();\n    },\n    componentDidUpdate: function (t, n, o) {\n      this.control && this.control.update(this.props);\n    },\n    render: function () {\n      return t.createElement(\"div\");\n    }\n  }),\n      c = o({\n    componentDidMount: function () {\n      this.control = new Abhaas.Gantt(n.findDOMNode(this), this.props).init();\n    },\n    componentWillUnmount: function () {\n      this.control && this.control.dispose();\n    },\n    componentDidUpdate: function (t, n, o) {\n      this.control && this.control.update(this.props);\n    },\n    render: function () {\n      return t.createElement(\"div\");\n    }\n  }),\n      s = o({\n    componentDidMount: function () {\n      this.control = new Abhaas.Kanban(n.findDOMNode(this), this.props).init();\n    },\n    componentWillUnmount: function () {\n      this.control && this.control.dispose();\n    },\n    componentDidUpdate: function (t, n, o) {\n      this.control && this.control.update(this.props);\n    },\n    render: function () {\n      return t.createElement(\"div\");\n    }\n  }),\n      l = o({\n    componentDidMount: function () {\n      this.control = new Abhaas.Navigator(n.findDOMNode(this), this.props).init();\n    },\n    componentWillUnmount: function () {\n      this.control && this.control.dispose();\n    },\n    componentDidUpdate: function (t, n, o) {\n      this.control && this.control.update(this.props);\n    },\n    render: function () {\n      return t.createElement(\"div\");\n    }\n  });\n\n  module.exports = {\n    Abhaas: Abhaas,\n    AbhaasScheduler: i,\n    AbhaasMonth: e,\n    AbhaasCalendar: r,\n    AbhaasGantt: c,\n    AbhaasKanban: s,\n    AbhaasNavigator: l\n  };\n}();","map":null,"metadata":{},"sourceType":"script"}